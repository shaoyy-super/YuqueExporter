# 弱网环境搭建
### \\192.168.0.231\AI及Web3游戏研发中心\公共资源\07_测试用\工具
### 1.<font style="color:rgb(0, 0, 0);">准备好一个随身wifi</font>
(1)<font style="color:rgb(0, 0, 0);">例如360随身wifi</font>

![](https://cdn.nlark.com/yuque/0/2024/png/43256946/1712543411085-8521d871-c727-4b45-ae73-415c958623d5.png)

(2)<font style="color:rgb(0, 0, 0);">在PC机上使用USB接口插入随身Wifi,并安装驱动,安装完后如下:</font>

![](https://cdn.nlark.com/yuque/0/2024/png/43256946/1712543411151-6a48e1c8-cd62-488d-b516-aceeab3e68c5.png)

### 2.先在pc上模拟出需要的弱网环境
(1)<font style="color:rgb(0, 0, 0);">解压出模拟延迟工具.zip至PC机,并打开clumsy.exe，开启之后修改如下参数，Filtering下的值为outbound，Lag值为100-200，Drop值为：30-50</font>

![](https://cdn.nlark.com/yuque/0/2024/png/43256946/1712543411063-796e56ec-fbf8-43f4-9f4d-e16d90a8807c.png)

(2)其中配置如下：

<font style="color:rgb(0, 0, 0);">Lag -延迟,把数据包缓存一段时间后再发出,可以模拟网络延迟的情况</font>

<font style="color:rgb(0, 0, 0);">Drop -丢包,按照配置百分比随机丢弃一些数据包</font>

<font style="color:rgb(0, 0, 0);">Throttle -节流,把一小段时间内的数据包拦截下,并在同一个时间段内一同发出,可以模拟网络拥塞情况下的发包情况</font>

<font style="color:rgb(0, 0, 0);">Duplicate -重发,复制一样的数据包发送</font>

<font style="color:rgb(0, 0, 0);">Out of order -乱序,打乱数据包的顺序</font>

<font style="color:rgb(0, 0, 0);">Tamper -篡改部分包内容后发送</font>

<font style="color:rgb(0, 0, 0);">Set TCP RST -模拟RST报文</font>

<font style="color:rgb(0, 0, 0);">Bandwidth -限制带宽</font>

(3)验证PC端弱网配置是否生效：

使用win+r，输入cmd,打开cmd指令弹窗，输入ping baidu.com-t，查看当前网络波动情况是否根据弱网配置开启而生效

![](https://cdn.nlark.com/yuque/0/2024/png/43256946/1712543411079-2c46d39f-73d1-4fd0-bbe7-dba268c1cd43.png)

### 3.<font style="color:rgb(0, 0, 0);">根据自己的需要,开启不同的配置,进行网络环境的模拟,之后点击Start，</font>
### <font style="color:rgb(0, 0, 0);">手机连接到插入PC的随身wifi上,即可完成网络环境的模拟</font>
