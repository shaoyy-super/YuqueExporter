# 1.测试数据
| | | | | | | | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| **机型** | **CPU** | **GPU** | **画质** | **Warmup时间(ms)** | | | | |
| | | | | **未分片**<br/>**优化前** | **未分片**<br/>**优化后** | **分片（每分片最多30个变体）** | **分片（每分片最多10个变体）** | |
| 三星 S20 | 骁龙865 | <font style="color:rgb(51, 51, 51);">Adreno650</font> | 极高 | 35555 | 24577 | 24296 | 24153 | |
| 荣耀 V20 | 麒麟980 | Mali-G76 | 中 | 72990 | 49085 | 48984 | 48727 | |
| OPPO R17 | 骁龙670 | Adreno615 | 低 | 79643 | 53361 | 52469 | 51367 | |
| 小米 5 | 骁龙820 | Adreno530 | 低 | 118878 | 79898 | 78035 | 76149 | |


注：分片后发现原来手动收集的变体有一些残留的失效变体，对其进行了删除，所以时间上要比未分片的时间短一些

未分片阶段的优化主要是减少shader变体，删除无效的变体组合（关键字已经不使用，PassType不存在）

以上测试都是在手机不发热的情况下进行的。手机芯片发热会对warmup时间造成较大影响，分片后测试中发现，发热时，小米5上的最大warmup时间可达到102000毫秒

# 2.小米5上分片前后效果对比
分片前

[小米5未分片warmup.mp4](https://snh48group.yuque.com/attachments/yuque/0/2024/mp4/43256946/1712739505859-26fba19e-0829-44ff-baee-2fc5dfea363c.mp4)

分片后

[小米5分片warmup.mp4](https://snh48group.yuque.com/attachments/yuque/0/2024/mp4/43256946/1712739509376-219e8f8d-ac03-42b0-a129-5c0b8dcb4684.mp4)

