### 一.版本记录
1.测试日期：

2.测试负责人：

3.测试包体：

4.包体路径：

5.测试机型：

| | | | | |
| --- | --- | --- | --- | --- |
| 机型 | cpu | 运行内存 | 画质 | 档次 |
| 小米11 | 高通骁龙888 | 8+3GB | 超精细 | 超高 |
| 华为mate20 | 华为麒麟980 | 6GB | 精细（当前需要手动修改） | 高 |
| SonyG8342 | <font style="color:rgb(51, 51, 51);">高通骁龙835</font> | <font style="color:rgb(51, 51, 51);">4GB</font> | 普通 | 中 |
| OPPOR17 | 高通<font style="color:rgb(51, 51, 51);">骁龙670</font> | 6GB | 流畅（当前需要手动修改） | 低 |


### 二.测试流程
所有功能均通过导航进入

+ 主线副本挑战1-8
+ 区域重建任意区域上阵英雄
+ 补给突袭任意上阵一个区域
+ 改造副本援护1&2层
+ 返回主城
+ xxxxxx....

### 三.测试时使用玩家数据：
### 四.测试流程注意事项：
1.保持手机电量充足，避免电量不足影响性能测试

2.保持手机温度，避免手机发热带来的掉帧

3.测试前杀掉目前占用的进程，避免其他正在运行程序占用

![](https://cdn.nlark.com/yuque/0/2024/png/43256946/1712543851330-9077cef0-4cca-4ed5-bc64-3a3811d815a5.png)

### 五.测试数值：
| | | | | | |
| --- | --- | --- | --- | --- | --- |
| | | | | | |
| 机型 | FPS均值（帧/秒） | JANK均值（次/分钟） | <font style="color:rgb(38, 38, 38);">设备内存峰值（GB）</font> | <font style="color:rgb(38, 38, 38);">每万帧耗电均值（%）</font> | 温度变化量（℃） |
| 小米11 | 28.5 | 13.87 | 2.44 | 3.9 | 17.73 |
| 测试结果链接：<u><font style="color:rgb(27, 154, 238);">https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20221219182934uwa51d04817&project=1523&engine=1</font></u> | | | | | |
| 华为mate20 | 24.87 | 18.13 | 1.97 | 3.9 | 11.5 |
| 测试结果链接：<u><font style="color:rgb(27, 154, 238);">https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20221219173037uwa826a4594&project=1523&engine=1</font></u> | | | | | |
| SonyG8342 | 19.96 | 25.91 | 2.41 | 8.5 | 9.1 |
| 测试结果链接：<u><font style="color:rgb(27, 154, 238);">https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20221219162312uwa37474261&project=1523&engine=1</font></u> | | | | | |
| OPPOR17 | 28.11 | 23.35 | 2.17 | 3 | 11.3 |
| 测试结果链接：<u><font style="color:rgb(27, 154, 238);">https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20221219181324uwa61e64676&project=1523&engine=1</font></u> | | | | | |


### 六.现存可优化项：
**FPS:**

1. <font style="color:rgb(48, 49, 51);">同屏渲染的面片数过高</font>
2. draw call峰值过高
3. <font style="color:rgb(48, 49, 51);">Resources.UnloadUnusedAssets的CPU耗时均值过高</font>
4. <font style="color:rgb(48, 49, 51);">Animator.Update耗时均值较高</font>

**设备内存峰值：**

1. <font style="color:rgb(48, 49, 51);">网格资源内存占用过高 </font>
2. <font style="color:rgb(48, 49, 51);">Material数量过多 </font>
3. <font style="color:rgb(48, 49, 51);">材质资源内存过大 </font>
4. <font style="color:rgb(48, 49, 51);">动画资源内存占用过高 </font>

### 七.与上一个包对比变化
| | | | | | |
| --- | --- | --- | --- | --- | --- |
| 机型 | FPS均值（帧/秒） | JANK均值（次/分钟） | 设备内存峰值<font style="color:rgb(38, 38, 38);">（GB）</font> | <font style="color:rgb(38, 38, 38);">每万帧耗电均值（%）</font> | 温度变化量（℃） |
| 小米11 | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">0.18</font> | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">0.35</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.06</font> | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">0.1</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.08</font> |
| 华为mate20 | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">2.95</font> | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">1.67</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.02</font> | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">1.1</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">5.5</font> |
| SonyG8342 | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">3.36</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">1.32</font> | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">0.3</font> | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">2.4</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">4.65</font> |
| OPPOR17 | <font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">2.86</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.95</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.04</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.6</font> | <font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">2.1</font> |


### **八.运行时资源检测数据**
**小米11：**

| | | | |
| --- | --- | --- | --- |
| 纹理 | 网格 | 动画片段 | 音频片段 |
| <font style="color:rgb(0, 0, 0);">291.53</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">11.01</font> | <font style="color:rgb(0, 0, 0);">221.96</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">10.26</font> | <font style="color:rgb(0, 0, 0);">109.46</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">13.02</font> | 30.3<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">1.89</font> |
| 粒子系统 | shader | <font style="color:rgb(0, 0, 0);">RenderTexture</font> | <font style="color:rgb(0, 0, 0);">Font</font> |
| 73.38<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">0.68</font> | 90.3<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">1.02</font> | <font style="color:rgb(0, 0, 0);">222.6未变</font> | 22.06未变 |


**华为mate20：**

| | | | |
| --- | --- | --- | --- |
| 纹理 | 网格 | 动画片段 | 音频片段 |
| <font style="color:rgb(0, 0, 0);">285.39</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">14.79</font> | 219.39<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">35.41</font> | <font style="color:rgb(0, 0, 0);">109.47</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">8.1</font> | <font style="color:rgb(0, 0, 0);">27.98</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">1.6</font> |
| 粒子系统 | shader | <font style="color:rgb(0, 0, 0);">RenderTexture</font> | <font style="color:rgb(0, 0, 0);">Font</font> |
| <font style="color:rgb(0, 0, 0);">72.86</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">1.09</font> | <font style="color:rgb(0, 0, 0);">90.43</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.85</font> | <font style="color:rgb(0, 0, 0);">154.45</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(47, 189, 179);">8.43</font> | 22.06未变 |


**SonyG8342：**

| | | | |
| --- | --- | --- | --- |
| 纹理 | 网格 | 动画片段 | 音频片段 |
| 227.4<font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.25</font> | 174.97<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">14.88</font> | 94.49<font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">8.92</font> | 26.88<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">2.36</font> |
| 粒子系统 | shader | <font style="color:rgb(0, 0, 0);">RenderTexture</font> | <font style="color:rgb(0, 0, 0);">Font</font> |
| 72.1<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">0.19</font> | 91.54<font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">23.9</font> | 90.25<font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">12.36</font> | 22.06未变 |


**OPPOR17：**

| | | | |
| --- | --- | --- | --- |
| 纹理 | 网格 | 动画片段 | 音频片段 |
| <font style="color:rgb(0, 0, 0);">240.59</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">15.99</font> | <font style="color:rgb(0, 0, 0);">167.98</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">7.31</font> | <font style="color:rgb(0, 0, 0);">106.63</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">0.21</font> | <font style="color:rgb(0, 0, 0);">27.78</font><font style="color:rgb(230, 36, 18);">⬆</font><font style="color:rgb(230, 36, 18);">2.29</font> |
| 粒子系统 | shader | <font style="color:rgb(0, 0, 0);">RenderTexture</font> | <font style="color:rgb(0, 0, 0);">Font</font> |
| <font style="color:rgb(0, 0, 0);">72.12</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">3.39</font> | <font style="color:rgb(0, 0, 0);">95.54</font><font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">4.48</font> | 48.57<font style="color:rgb(47, 189, 179);">⬇</font><font style="color:rgb(47, 189, 179);">35.25</font> | 22.06未变 |


### 九.运行时可优化项
**资源管理：**

+ <font style="color:rgb(61, 77, 101);">Shader疑似冗余数量 </font>
+ <font style="color:rgb(61, 77, 101);">带有Tangent属性的网格资源数 </font>
+ <font style="color:rgb(61, 77, 101);">粒子系统数量 </font>
+ <font style="color:rgb(61, 77, 101);">Material数量 </font>
+ <font style="color:rgb(61, 77, 101);">网格资源疑似冗余数量 </font>
+ <font style="color:rgb(61, 77, 101);">纹理资源疑似冗余数量 </font>
+ <font style="color:rgb(61, 77, 101);">TextAsset冗余 </font>

内存：

+ <font style="color:rgb(61, 77, 101);">Shader内存占用 </font>
+ <font style="color:rgb(61, 77, 101);">RenderTexture内存占用 </font>
+ <font style="color:rgb(61, 77, 101);">网格资源内存占用 </font>
+ <font style="color:rgb(61, 77, 101);">粒子系统内存占用 </font>
+ <font style="color:rgb(61, 77, 101);">动画资源内存占用 </font>
+ <font style="color:rgb(61, 77, 101);">TextAsset内存占用</font>

---

每周例行的性能跟踪，性能较上周多了两条内存方面的待优化项

+ 可优化项基本与上个版本一致

### 十.IOS设备问题
出现闪退（主要是内存问题）

+ 1-8战斗场景闪退
+ 战员界面旋转查看一个模型闪退

