:::warning
💡【文档说明】

本文档说明了在项目中配置多语言的步骤，包括新加文本配置多语言与新加语种。

:::

## 新加文本配置多语言
配置表里所有Lang类型的字段，都会导出为文本。

1. 找到工程目录下的ExcelOutput双击运行。（\config\outputexcel）

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729650017187-8acc1515-bc2e-4ef1-8142-fb1372a7f88e.png)

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729650079116-9bdca516-57f4-4521-a10b-39f611e7b290.png)

2. 运行成功后，在string目录下找到String和StringDiff两个表格
    1. String表里为所有导出的文本
    2. StringDiff表里显示当次导出与上次导出的差异

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729650201333-ad99c908-6b34-4840-9664-65a98a872705.png)

3. 新增文本缺翻译，在这边补上后用宏将表格导出为json文件即可

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729650397634-4675dca1-f3e9-4f3d-98a4-d5f89e5d5ae6.png)

4. _Source页签下可以查看具体某条文本是从哪张表里导出的

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729650507602-d8bc83ef-3cbe-494f-b2b5-ecde2872c2c2.png)

## 新加语种
:::danger
一般不使用。

若需要在游戏内语言选项中新增语言时使用。

:::

1. 修改ClientConfig：在Languages一栏下添加Element

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729650734721-84ee00c0-99e7-4a46-9f64-0fea4204a25a.png)

2. 修改LanguageConfig：配置一些通用系统提示的翻译
    1. 注意Variant Name要和String表里表头名称一一对应

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729651172602-9c197eb7-0807-47bb-a078-e3cd954de901.png)

3. web_config：找到项目的目录服，在language一栏添加语言
    1. \\192.168.4.222\data\richman\group

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729651358594-582e979f-c4bb-4106-9500-2000ca92b3a8.png)

4. string表：在string表里添加对应语言的表头

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1729651511871-ee3125f2-f641-456c-87d9-47a92a1fbe49.png)

> 该工作表受保护，修改表头时需要输入密码解除保护，密码：af57ec7（非必要不使用）
>



补充部分：

打包配置里需配置多语言目录，一般是美术分包目录和字体目录。

![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732355338820-f99a3c3f-5df0-44f5-9f07-32e04cc65333.png)



![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732355437899-4a4aeb48-03aa-4c21-b7da-8b3591156e3c.png)



font 目录根据支持的国家程序或美术创建初始目录

![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732355560147-541a1e48-7b36-4f52-9936-8b4eaa24e352.png)



设置多语言目录后，如果是从默认语言目录复制，要注意修改引用本目录的Fallback.

![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732355768646-888ad8c5-94f7-4787-8b22-bc0f2f63fcf2.png)



代码部分要新增可支持语言列表

![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732451635574-da796981-0f00-4082-b7da-897b432d4adb.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732451687088-744643e3-9613-4ec6-85ef-d86a8d6293ce.png) ![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732451743445-f3907b66-528c-44ed-adc5-75f74d11c7cf.png)美术字体把所有支持的字符编码整合进字体，增加新语言时，该字体美术会经常更新，需同步art工程到项目开发目录，并按字符编码生成新字体资源包。

打包时需在配置文件增加对应的多语言，并导出json文件，供jenkins打包。![](https://cdn.nlark.com/yuque/0/2024/png/43734381/1732451874570-5728c53c-d473-4765-a0dc-6d095e14ea2a.png)









