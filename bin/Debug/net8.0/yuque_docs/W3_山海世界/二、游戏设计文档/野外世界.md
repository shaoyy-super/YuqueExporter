## 1.概述
### 1.1版本管理
[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/fm37dpypgh83gom6#auzW2)

### 1.2.设计思路
设计承载探索和野外宠物捕捉的世界基础，设计玩法基础，操作基础和世界观基础设定。

按照3d大世界的框架设计资源管理和基础操作方式。



### 1.3.功能介绍
野外世界的世界观设计和地图场景规划设计。

野外世界的基础框架设计。



### 1.4系统框架图
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1717739049136-ff5a875d-92b5-493f-85dd-a9300dc9f3e8.png)

## 2.功能说明
### 2.1名词定义
2.1.1野外世界

野外世界是游戏中区别于城镇的另一个核心区域，野外世界是山海世界游戏中相对于城镇更广袤的区域。

主要承载游戏中的pve实力验证和野外宠物捕捉获取的两个基础功能，后续可能会规划更多随机性强可玩性高的活跃和探索玩法。

2.1.2ai

给野生宠物配置的行为方式，大部分会使用统一的ai，特殊的单独配置。



### 2.2野外世界区域规划
2.2.1野外世界由5个难度区域组成，难度区域与绝对位置无关，与规划区域有关。

2.2.2野外世界按照小世界的预期，做出一个相对宽广的世界，场景可以相对简单。~~看美术情况是大世界还是~~跳场景的小世界。

2.2.3野外世界按场景的基本元素分类：青青草原/月光林地/泥泞沼泽/永恒冰原/炎烬火山

世界场景尽量呈现更多的元素属性，便于各种属性的宠物有不同的发挥空间。

2.2.4宠物分布

按照每个难度地图5种全新的宠物设计，野外世界可捕捉的野外宠物需要25-30只。

<font style="color:#DF2A3F;">宠物的资质在配置在每个宠物身上，分配到地图的不同点位上。</font>

~~宠物的资质根据事件的解锁情况，逐渐解锁刷新的宠物资质范围。~~

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1717740472484-929a7955-a52d-4c1d-b96b-e9b37cc79d88.png)

2.2.5难度区域

区域的解锁需要挑战一定难度首领，解锁下一个地区



![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1715681986036-d32e5f18-3140-4ce1-9526-922a67cac0c8.png)



### 2.3野外世界通用配置
2.3.1野外世界进入，野外世界通过主界面上的入口进入

进入时需要选择进入世界的坐标点，每个不同的场景区域配置若干个适合进入的坐标点，玩家会在坐标点出现

2.3.2野外世界的镜头表现

第三人称视角的rpg视觉效果，主视角中心是玩家操作的角色背面，可以自由旋转视角，中心点在人的头附近，镜头移动范围和移动速度参数需要可调。

移动时平移移动，需要简单模拟一下移动时的颠簸效果，角色在场景中的移动速度固定。

2.3.3交互

野外捕捉场景暂时只考虑单人模式，如果需要多人争夺的野外世界会有专门的功能设计。

玩家的场景交互行为，捕捉宠物，和npc对话唤起界面。

2.3.4场景参考

![](https://cdn.nlark.com/yuque/0/2024/jpeg/43733765/1715675808506-2a9e4cfa-7a67-47f4-8573-72bf79a52ac5.jpeg)

![](https://cdn.nlark.com/yuque/0/2024/jpeg/43733765/1715675811435-73421c9b-124c-4197-a036-dc95ac2666ea.jpeg)

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1715742320055-95bad145-7dae-4d6b-bc78-edfaa76ae588.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1715756376915-ab5a7d23-d391-4191-9ec2-db21e117f9b7.png)



2.3.5功能开启和进入条件

功能开启玩家角色达到一定等级解锁功能，功能开启后就能进入第一张地图青青草原。

后续的地图按顺序解锁进入，条件是完成前一张地图的首领，完成首领挑战获得首领信物，使用信物即可解锁下一章地图，相当于需要战斗能力达到一定的要求才能前往探索后续地图。



![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1715762563302-03bf4937-e3e1-4a7a-9703-028df80c081d.png)





### 2.4野生宠物
2.4.1野生宠物的种类分布

在野外地图中创建的可捕捉的宠物按照地区不同，会分布不同类型的怪物。某种类型的怪物只会在一定的区域内刷新

2.4.2野生宠物布置<font style="color:#DF2A3F;">（宠物组暂时没做）</font>

野生宠物按照布怪点，在地图中分布，每个布怪点，同时只会刷新1组怪物，每组怪物由{种类-数量-相对坐标|种类-数量-相对坐标}的方式配置。组的类别可能被扩展，形成更好的单组生物形态。最好能在编辑器中将组的状态保存下来。

怪物在地图上创建时自动拉到紧贴地面的行走面区域。

2.4.3野生宠物创建

玩家进入野外世界时，将对应区域的怪物全部创建出来，只绘制出玩家一定范围内的怪物，当玩家靠近的时候显示出来，远离时隐藏。

2.4.4野生宠物刷新

组内怪物被捕捉消失后会，在配置时间后定时刷新。

2.4.5野生宠物ai

宠物的ai类型配置在野生宠物的表中，宠物会根据ai在野外执行自己行为。

野生宠物的ai目前不会因为玩家的行为打断，比如玩家靠近的时候改变行为。捕捉失败的时候不打断原有的行为。



举例：刷新-20%待机-60%移动-20%表演的状态循环

待机：站立不动，播放待机动画

移动：默认按通用移动规则移动，如果有特殊的移动规则单独配置，移动可以考虑走动和跑动。

表演：宠物可以考虑做一个表演动作，比如会抖毛，嚎叫等。



2.4.6野生宠物属性生成

野生宠物在地图上的时候不带属性，只带类型，在捕捉到的时候进行宠物属性生成。生成时根据宠物类型和当前的野外时间发展情况，取值资质范围。



### 


### 3.操作方式和界面说明
3.1基础界面的操作按钮

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1717753014879-4a3211b9-80a2-479a-9e83-eb88bb9b9f53.png)

1.个人信息通用入口

2.货币栏通用入口

3.退出按钮（暂时），后续如果使用小地图的形式，这里可能会换掉。

4.除红色按钮区外的其他区域按住滑动可以移动镜头，这里没有真实的按钮显示，作为操作区域。

5.宠物球选定区，左右切换选择不同种类的宠物球，在进入宠物球唤起阶段也可以转换宠物球。

选中状态/非选中状态

6.捕捉按钮，点击后进入捕捉状态，人物拿出宠物球，出现准星。

7.固定遥感，固定遥感负责角色的前后左右移动，移动的时候，脸的方向和遥感的方向一致，遥感控制角色转向的时候，角色跟随方向转向，镜头由另一只手按住来控制。



3.2捕捉唤起操作

点击捕捉按钮后进入捕捉状态，人物改变动作，修改为捕捉状态，右手拿出宠物球，出现准星，准星落到目标身上时出现捕捉概率。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718076073972-68befd73-33bb-495b-a322-5975ebd6ce01.png)



1.准星出现在固定位置

准星的固定位置是相对屏幕的固定位置

2.准星正对野生宠物的时候出现捕捉概率

3.进入捕捉状态时，捕捉按钮变为“捕捉”和“取消”两个按钮状态

点击捕捉，扔出宠物球。再这个状态下可以一直扔球。

点击取消，退出捕捉状态。

4.进入捕捉状态时，人物动作变为捕捉，将宠物球拿到手上，根据当前选中的宠物球品质，改变手上的宠物球模型

5.根据准星，模拟宠物球的抛物线，



3.3对话

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718077953659-53bfbac7-7b07-4068-8b56-9bf068bf35e7.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718077961295-3796cc2c-14d2-40f1-8b1f-5734f5db9b89.png)

1.靠近可以对话的npc显示出对话框

2.使用通用的对话框，对话框再剧情功能中设计。





## 4.配置方式
地图资源表，管理地图资源

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1715770870262-90c7c2f0-71cb-4942-96d3-d012c99aa57d.png)

野外世界表，配置功能相关的内容

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718085070948-041e675e-3a62-4065-9d58-d643cc99a0eb.png)

野外怪物配置

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1717750493300-924f8ca0-b9e6-4a09-b386-82107202675a.png)

怪物组配置

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1717750504117-5a23884d-5d13-43f6-b33b-ef9861408626.png)

npc配置

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1717750522359-8675ae33-3e9d-47e5-b81a-4a30e1015d9a.png)

杂项配置







## 5.功能需求清单


[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/fm37dpypgh83gom6#wYgoO)



## 6.美术需求
### 6.1ui需求


[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/fm37dpypgh83gom6#HFufU)

[https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&type=design&node-id=639-2846&viewport=-3072%2C799%2C0.78&t=pBB5NE4kFO2pYmTE-1&scaling=contain&starting-point-node-id=639%3A2846&show-proto-sidebar=1](https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&type=design&node-id=639-2846&viewport=-3072%2C799%2C0.78&t=pBB5NE4kFO2pYmTE-1&scaling=contain&starting-point-node-id=639%3A2846&show-proto-sidebar=1)

## 7.数值需求
野外地图规划











