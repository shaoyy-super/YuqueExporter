# 一、概述
## 1.1 文档说明
本文档将较为详细的介绍宠物技能系统模块，同步相关的技能名词概念，构建基本的宠物相关技能框架系统。

## 1.2 文档维护
| 文档编辑情况 | 编辑时间 | 编辑人 |
| --- | --- | --- |
| 文档初版，确定基本结构和内容 | 2024.4.30 | 丁显智 |
| 文档优化，增加属性和参数介绍，表结构等 | 2024.5.6 | 丁显智 |
| 修改技能设计风格为卡牌形式 | 2024.5.13 | 丁显智 |
| 新增宠物技能的UI界面 | 2024.7.4 | 王灼民 |
| 文档细化优化，整理成合适表结构 | 2024.7.4 | 王灼民 |
| 修改技能品质和升级相关的描述 | 2024.7.17 | 丁显智 |
| 界面统一 | 2024.7.23 | 丁显智 |




## 1.3 设计思路
核心围绕NFT宠物与普通宠物，做出区分的同时，搭建NFT宠物，普通宠物之间的养成循环，从而参与到其他例如城市建设，野外捕捉等玩法系统中。



## 1.4 设计目的
确定宠物的技能的功能框架，同时对宠物各种技能做出定义。为后续开发确定标准。



## 1.5 系统框架图
![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720146469471-9d0a386d-ff5f-49d1-bf9a-cf629621f997.png)



# 二 功能说明
## 2.1 名词设定
NFT宠物：玩家通过盲盒和交易行获得具备成长属性的城市户口的NFT宠物。

普通宠物：玩家在野外获的宠物，不具备成长属性的宠物，也不具备其他的成长途径。

宠物种类：对于一个宠物类型的定义，例如皮卡丘是一个宠物种类。九尾狐是一个种类。

## 2.3 功能详解：
#### 2.3.1 技能种类
1 NTF宠物与普通宠物都具备天赋技能和通用技能：天赋技能为宠物种类决定。通用技能分种类通用技能与全宠物通用技能，获得宠物时，随机获得一定数量的通用技能，技能将由种类通用与全宠物通用两个池随机混出。

2 天赋技能。天赋技能绑定NTF宠物类型，NTF技能会绑定模型和特效等，其他宠物种类无法通用。天赋技能主要以主动技能为主，也可能有被动技能。天赋技能固定数量3个。

3 通用技能。宠物出生会携带部分，也可以通过合成从其他宠物获得技能，包括主动战斗技能/被动战斗技能/生产技能，玩家可以自由搭配，暂定玩家在通用技能中只能获得一定数量【策划设定数量上限】的工作技能。

4 通用主动战斗技能。所有宠物均有可能获得并携带，技能表现相对通用，任何宠物都可以携带，并且在战斗中释放。

5 通用战斗被动技能。所有宠物均有可能获得并携带，战斗中被动生效的效果，不需要主动释放。

6 生产被动技能，生产被动技能在特定的条件下生效，对生产效率公式提供一个修正系数。生产工作技能

7 天赋战斗主动技能：单指在战斗中主动使用的技能，此类技能需要消耗一定的费用释放，在战斗回合有战斗表现和结果。

8 技能品质：技能目前存在品质，天赋与通用技能都有对应的品质等级，不同的品质等级对应不同的技能外框，技能品质单独配置。目前暂定技能有三个品质等级。



![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721723177077-33d001c5-7b13-44d4-9e01-2e49a02e208d.png)





[https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=39-332&t=q6T4XT1LjnDwpeqI-1](https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=39-332&t=q6T4XT1LjnDwpeqI-1)

9 技能升技按钮可以打开技能升技的界面，区别于从合成界面直接进入升技的空白界面，此处直接进入升技界面时，自动选中宠物和技能卡牌。

#### 2.3.2 技能属性
**技能名称**，玩家对技能的直观认知，名称简洁明了

**技能描述**，技能的效果描述，支持富文本和参数引用，数值部分需要单独表格配置

举例：【单体攻击】对单个敌人造成<color=#ff3434>{0}%</color>攻击力伤害+<color=#ff3434>{1}</color>点固定伤害。

**技能icon**，技能的通用图片，小图标。

**技能编号**，技能的唯一id，技能序列和升级技能序列按规则排序。

**技能类型**，不同技能的类型枚举，包括不限于，通用主动技能，通用被动技能，天赋主动技能，天赋被动技能等

**技能消耗**，释放技能需要消耗的能量点数，当前能量不足时无法释放。0不消耗，负数为回复能量。

**技能冷却**，技能释放需要的间隔回合。

**技能参数**，技能参数为技能实际造成伤害时需要进入战斗公式运算的参数，多参数按顺序配置

**buff参数**，技能中需要释放buff时的配置部分，包括目标筛选器，释放的buffid。在buff功能的时候开发

**技能品质**：技能显示的卡牌周边框颜色，不同的品质对应不同的卡牌外框。技能品质不跟随品质升级，通用技能升技改变。



#### 2.3.3 技能升级
天赋技能在资质提升达到一定程度后，随着宠物品质的提升而得到提升。

通用技能通过合成获得，获得后可以通过高级技能书提升。







#### 2.3.4 技能获取
成品宠物可以通过宠物合成获得新技能，宠物合成功能会较为详细的描述这部分的内容。

考虑有增加技能的道具，直接使用获得。



#### 2.3.5 宠物技能组成
宠物的技能有三部分组成：出生携带/合成加成/特殊道具直接获得技能。

宠物出生携带固定的3个天赋技能，和随机的2-3个普通技能。

宠物能通过合成能获得3-4个技能，并且获得新技能的概率会越来越低【详细可以到合成内查看】。

天赋技能等级跟随宠物品质解锁，通用技能初始均为初级技能，品质则随着资质的提升而提升。

宠物也可以直接通过技能书获得基础技能。

完整体的宠物会拥有8-10个技能，理论上不限制拥有的技能上限，但暂时设定限制玩家拥有的生产技能上限。

具体的技能数量生成规则在宠物价值功能开发。

## 三 界面说明
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721723444550-38462aab-28cd-4e7b-8a11-3109b7076fbb.png)

[https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&node-id=355-548&starting-point-node-id=917%3A3584&scaling=contain&content-scaling=fixed&show-proto-sidebar=1&t=5rxULpr1RDYnpLR5-1](https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&node-id=355-548&starting-point-node-id=917%3A3584&scaling=contain&content-scaling=fixed&show-proto-sidebar=1&t=5rxULpr1RDYnpLR5-1)

## 四 配置方式
### 4.1天赋技能配置
天赋技能根据不同宠物的类型，配置到宠物表的对应宠物上，这部分NFT和普通宠物相同。

### 4.2通用技能配置
每个类型的宠物拥有不同通用技能库，宠物生成的时候从库中随机抽取一定的技能出生携带。技能库单独表格，对应id配置到宠物表中。

随机方式和数值确定，demo部分在宠物表固定配置技能。

### 4.3模板技能
例：天赋主动技能，消耗3点能量，对敌方单体造成100+30%攻击伤害。

例：普通主动技能，消耗1点能量，治疗自身100+30%攻击生命。

将技能的描述/属性参数等配置到宠物技能表中

### 4.4技能资源管理
将实现技能的动画动作等资源管理配置到技能模板表。

需要确定一些资源的制作规范。

### 4.5宠物技能表
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1714977721436-1e388489-76fa-4df8-bf41-0c0a46493ffa.png)



### 4.5宠物技能模板表
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1714977738266-5c61b0eb-89c0-4c81-a050-836c24971508.png)



## 五 功能需求清单
## 六 美术需求清单


## 七 数值需求
宠物技能参数的配置方式确定。

战斗技能公式。





















