## 1.概览
### 1.1版本管理
[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/skidek7wn7yndoko#auzW2)

### 1.2设计目的
确定城市信息建筑的设计风格，确定功能内容，丰富城市文化建设，为城市信息展示提供途径。



### 1.3.功能介绍
市政厅在城市中的表现。

城市缩略图

快速移动

城市金库

市政厅主界面，政府当前财务情况，每日工资表。

市政厅次界面，城市官员情况和前往官员竞选的入口

市政厅次界面，每日政府资源需求清单



### 1.4系统框架
详细介绍请查看城市经济系统设计文档。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722239306338-e51db6b8-1752-49f2-b95c-dafc61b9625c.png)









## 2.功能详情
### 2.1特殊名词定义
2.1.1市政厅：主城的中心建筑，是一个城市属性的核心建筑。在城市中显眼的位置。

2.1.2公民身份：nft宠物携带的城市身份，拥有身份可以在城市中参与活动和查看城市一些特殊信息。

2.1.3政府财政：根据当前财政的存储情况对应一个不同的产出衰减和补充权重。

2.1.4产出衰减：产出功能的效率会受到城市财政的产出衰减的影响。

2.1.5补充权重：联邦财政补充城市财政的补充系数。



### 2.2市政厅的城市表现
2.2.1市政厅在3d城市中拥有一个功能建筑，在城市比较显眼的位置，每个城市的建筑位置固定。

2.2.2市政厅的市政厅考虑是一个智能终端，或者是一个屏幕。

2.2.3交互方式

到达目标区域后，点击界面上的ui开启交互

参考

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722239684658-494dceaf-e421-41ae-a1b2-33535a226da6.png)



### 2.3功能开启
市政厅作为基础功能，在功能表中配置基础开启条件。未开启市政厅时，可以看到建筑，但是无法交互。

或者界面显示需要的交互等级。



### 2.4城市缩率图
2.4.1入口：主城界面上的城市即为缩略图入口，点击按钮打开城市缩率图的界面

入口显示当前城市名字。

当前正在工作的宠物信息。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721892915948-5a4bd72c-6bf0-43d8-918d-e18d7da63273.png)



2.4.2缩略图界面![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721906790011-0b28d3d1-0b52-46fe-a8b7-6907bea8cb6f.png)![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721891013202-1c41cd41-f9cc-47e2-ba20-ec23b026ebd9.png)

在界面上展示城市各个建筑的位置，打工宠物的情况。

2.4.3建筑上的宠物队列<font style="color:#DF2A3F;"></font>

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722309944185-7da5e47f-dd98-45ef-b9a6-6209a8450b6c.png)

2.4.4界面交互

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721906893695-e4fb2c25-e2ba-4e39-84de-46db58e13878.png)

点击建筑可以导航移动



### 2.5导航移动
玩家进入城市的时候会在城市的固定地点出现，玩家可以通过遥感操作自由移动。同时也可以使用导航，直接定位到目标坐标。

导航过程中手动遥感会打断自动寻路。



### 2.6.城市金库
2.6.1城市金库是不是一个实体，代表城市的一个资金账户，用来记录和管理城市的货币存量和流动状态。

2.6.2城市金库存量

城市创建的时候拥有一个基础的资金存量1000w，代表则城市可以被挖掘的货币总量，玩家在城市打工和参与活动，会从城市金库中赚取金币。

当城市的货币总量达到库存的一定比例时，会改变当前城市的财政状态，不同的财政状态对应不同的产出衰减和补充权重。

城市资金没有理论上的存储上限。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721625279236-081f4b09-518c-416f-bc39-d9fd952bd86f.png)

2.6.3城市经济基础流动

玩家进入城市，参与城市打工，直接赚取货币。参与挖矿，将挖到的资源卖给城市赚取货币。参与活动，赢取货币奖金。城市金库中的货币数量下降。

消费：玩家在城市中购买商品，合成繁殖宠物，会消耗玩家货币，消费货币进入联邦金库。

交易：交易行中交易产生的交易税也是进入联邦金库。



2.6.4每日财务结算

每日0点，联邦将今日进入联邦的货币按各城市的补充权重，按比例分配。

同时根据全部城市的补充权重总和，取出联邦财政储存中的一部分加入到分配份额中。

每日联邦分配总额=城市补充权重总和*联邦财务状态

然后按权重分配到各个城市。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1721625883322-7ad4f29d-ba0e-48c0-9def-0409064daff6.png)

联邦政府的库存资金，会初始设置一个治理权限，可使用的补充比例。比如当联邦库存资金低于1亿时，不在有联邦补充资金。





### 2.7市政厅主界面
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1723527681751-817ae5c6-3674-461e-a92d-60dfa5ca1a41.png)

2.7.1当前城市的基本信息

城市名字：城市的名称

城市公民：拥有城市公民身份的宠物数量，城市不限制公民身份上限，依靠盲盒中的公民身份投放来限制数量，繁殖产生的身份不限制。

城市财政状态：财政富裕、财政充足、财政紧张、财政困难、城市破产。



2.7.2城市工作状态

宠物工厂：每个城市都有，显示工作中的宠物，和当前的资源消耗速度。

宠物矿场：每个城市拥有相同的资源矿场，显示工作中的宠物，和当前的资源消耗速度。



2.7.3当前城市的官员情况

官员人数和系数可配

| 职位 | 人数 | 收入系数 |
| --- | --- | --- |
| 市长 | 1 | 30% |
| 副市长 | 2 | 20% |
| 官员 | 7 | 3% |






### 2.8每日市政工资
2.8.1工资来源

工资的基础值=当日工厂产出+挖矿产出

工资=基础值*10%

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722248439767-f86495a5-f351-465b-bda5-0e067769108f.png)

2.8.2工资分配

按官员身份和分配比例分配，货币从城市财政扣除，如果参与者不达不到预计人数，按排名从上到下分配。



2.8.3工资表显示

显示职位、角色基本信息、参赛队伍、队伍战力。

列表可以上下滑动。展示全部人员信息。



### 2.9更换城市
2.9.1打开城市的详情列表

显示所有的城市列表，这里城市较多，考虑分区展示。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722248450419-89765433-45d6-46d8-895c-bfbe5d419cd2.png)

2.9.2我的城市

我拥有的nft宠物拥有公民身份的城市。将我拥有身份的城市单独筛选出来显示。

在分区的列表中，我拥有身份的城市也需要显示出来公民身份标记。这里只是一个标记，不是宠物的头像。

当前城市需要一个单独的标记。



2.9.3选中切换

选中目标城市，点击前往，切换到对应城市的线路。玩家自己没有公民身份的城市也可以前往，前往后可以看到对应的城市信息。

更换城市后会出现在城市的市政厅门口。不直接打开对应城市的市政厅界面。



## 3.界面说明
### 3.1市政厅主界面
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722248949197-b98c2381-c08e-4ead-a74c-3b852e73dda2.png)

3.1.1.城市基本情况

城市名称

当前城市公民数量

当前城市状态

3.1.2城市官员情况

昨日当选的官员，这里只显示市长和副市长

显示头像和名称

没有的时候显示虚位以待

3.1.3城市建筑

城市各个建筑的工作情况

在打工的人数

当前的效率

3.1.4功能按钮

政府项目：暂定在这里

城市工资：昨日的官员收入

更换城市：切换城市列表



### 3.2城市工资界面
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722248439767-f86495a5-f351-465b-bda5-0e067769108f.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_1125%2Climit_0)

3.2.1工资的值带上货币符号

3.2.2队伍用通用的队伍模块



### 3.3切换城市界面
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722248450419-89765433-45d6-46d8-895c-bfbe5d419cd2.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_1125%2Climit_0)

3.3.1使用通用界面，可能其他地方也会用到

3.3.2我的宠物拥有户口城市的特殊标签

3.3.3颜色标签代表城市经济状况



### 3.4城市缩略图
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722251174637-9b498bc6-93db-42b6-ab3f-c923eaa79798.png)

3.4.1宠物队列按钮

可以点击查看或者关闭查看当前打工的宠物情况。

宠物工厂需要显示城市（每个城市的经济状况不同）

资源采集需要显示正在生产的种类

宠物球为预留类型![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722309102085-7d9f0c18-21bf-4d7c-b9c0-fad8b5f20e29.png)

3.4.2模拟地图

小地图上面各个建筑的图标可以导航前往。不需要能点哪到哪。

显示当前角色在的位置。

建筑的icon可带名字可不带，不带名字的话需要icon有一定的分辨性

建筑图标点击出现导航按钮和功能简介

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722309245962-bf1f276c-3e8b-4b37-9db7-960845abeb66.png)

3.4.3产出情况

有宠物打工的建筑图标附近，标记出当前已经产出的资源，资源不能直接在界面领取，需要去建筑上领取。



[https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&node-id=2873-10222&starting-point-node-id=917%3A3584&scaling=contain&content-scaling=fixed&t=X6YJIX5lhsBk9OHs-1](https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&node-id=2873-10222&starting-point-node-id=917%3A3584&scaling=contain&content-scaling=fixed&t=X6YJIX5lhsBk9OHs-1)





## 4.配置表说明
### 4.1 世界货币分配比例
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1722409646676-754955ff-7831-4ed2-a91e-d2a708bf54fb.png)



### 4.2 城市金库表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1722413653066-eac94c11-f966-4acf-81ac-bcd1f139a117.png)



### 4.3 联邦金库表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1722413693386-0bb6f7f7-351e-423c-92dc-18f8b123eec3.png)



### 4.4 城市表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1722413717118-ede728fe-5d95-47fc-b717-ae04940e793d.png)



### 4.5 官员表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1722413794485-8b2b80a5-d802-4743-a1cf-497c9149014c.png)







## 5.功能需求清单
[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/skidek7wn7yndoko#Odf1f)



## 6.美术需求清单
### 6.1界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | | | **<font style="color:white;">性质</font>** |
| :---: | --- | --- | --- | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">城市缩略图界面</font> | | | <font style="color:black;">二级界面</font> |
| <font style="color:black;">2</font> | <font style="color:black;">市政厅主界面</font> | | | <font style="color:black;">一级界面</font> |
| <font style="color:black;">3</font> | <font style="color:black;">工资弹窗界面</font> | | | <font style="color:black;">弹出框</font> |
| <font style="color:black;">4</font> | <font style="color:black;">更换城市界面</font> | | | <font style="color:black;">弹出框</font> |




### 6.2场景需求
| **<font style="color:white;">场景类型</font>** | **<font style="color:white;">场景名称-美术</font>** | | **<font style="color:white;">          场景用途</font>** | | | **<font style="color:white;">描述</font>** |
| :---: | :---: | --- | --- | --- | --- | :---: |
| <font style="color:black;">主城</font> | | | <font style="color:black;">主城</font> | | | <font style="color:black;">四周需要能体现多人战争气氛</font> |


### 6.3模型需求
| **<font style="color:white;">模型类型</font>** | **<font style="color:white;">场景名称-美术</font>** | | **<font style="color:white;">             用途</font>** | | | **<font style="color:white;">描述</font>** |
| :---: | :---: | --- | --- | --- | --- | :---: |
| <font style="color:black;">建筑</font> | | | <font style="color:black;">市政厅</font> | | | <font style="color:black;">四周需要能体现多人战争气氛</font> |




### 6.4 2D需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">分类</font>** | **<font style="color:white;">名称</font>** | **<font style="color:white;">大小-美术</font>** | **<font style="color:white;">资源命名</font>** | | **<font style="color:white;">美术需求</font>** | | | **<font style="color:white;">特殊说明（逻辑说明）-预留</font>** | **<font style="color:white;">参考</font>** | **<font style="color:white;">成品缩略图</font>** |
| :---: | :---: | :---: | :---: | :---: | --- | --- | --- | --- | :---: | :---: | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">缩略图建筑icon</font> | <font style="color:black;">市政厅</font> | | <font style="color:black;">Icon_xxx_xxx_01</font> | | <font style="color:black;">建筑图标</font> | | | | | |
| <font style="color:black;">2</font> | <font style="color:black;">缩略图当前位置</font> | <font style="color:black;">当前位置</font> | | <font style="color:black;">Icon_xxx_xxx_01</font> | | <font style="color:black;">当前位置图标</font> | | | | | |




### 6.5动效需求


