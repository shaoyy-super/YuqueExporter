## 1.版本管理
| 文档编辑情况 | 编辑时间 | 编辑人 |
| --- | --- | --- |
| 文档初版，确定基本结构和内容 | 2024.07.01 | 王灼民 |
|  |  |  |


## 2.设计目的
灵活安排功能模块开关，调整玩家游戏节奏。跳转用于简化玩家操作，提供更多材料宠物信息，便捷获取与捕捉。



## 3.设计思路/功能简介
#### 3.1 功能开启思路：
设置功能开启与可进入两个状态，保证功能可灵活的控制是否出现，以及是否可操作。![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719829739015-e7ea10d9-b10b-4eb9-8b2b-15e60b247c54.png)

#### 3.2 跳转功能思路：
确定跳转的应用场景，列举需要跳转的相关场景与具体的表现形式。



## 4.功能详述
#### 4.1 开启逻辑：
功能开启定义：功能层面需要有开启与关闭的逻辑。若是功能关闭，则整模块都应该处于不激活状态，例如邮件系统不开启，则群发邮件玩家无法接受，而不是接受了只是前端ui没有打开。

表现层设置显示与可进入两个状态，实现游戏内对图标的控制。

功能服务器热开启关闭：服务器对玩家功能模块需要后台热开关功能，可以在紧急情况下，对于功能快速处理。



#### 4.2 逻辑说明：
4.2.1 功能模块界面设置是否显示，显示后是否可以进入两个状态。未显示则入口ui不显示，未显示的ui位置根据排序决定在不显示的时候，是否有其他的ui显示。

4.2.2 功能模块需要对应存在相关的热更开关，需要在服务器的后台可以不重启的情况下，热开关一个模块。

4.2.3 达成特殊条件后， 功能模块可以进行显示或开启操作。功能开启的解决条件较为繁杂，大致可分为：

等级解锁：绑定玩家或一些特定的等级解锁相关功能。

指定任务：完成指定的任务，可触发后续任务以及开启相关功能。

道具与场景：获得某些道具，进入某些界面，可出发开启相关功能。

界面解锁：打开或交互某些界面，可以开启相关功能。

状态与事件：杂类项，状态多为检测玩家相关数值，例如获取宠物数量，是否有特定宠物。事件多为检测玩家特定事件，例如玩家第一次战斗失败等。

以上的这些解决条件都是类别阐述，后续需要哪些条件需更详细的落地设定后列举。



4.2.4 部分功能开启时

，会进入首次教学演绎，完成后可以自由操作。

4.2.5 部分功能开启时，弹出相对应的浮窗告知玩家。

4.2.6 功能未开启时，处于UI灰显清空下，点击存在解锁条件提示。



#### 4.3 跳转逻辑：
功能逻辑：在部分材料以及宠物的详情界面，设立快捷的按钮，直接直接链接到相UI界面，进行快捷的材料活宠物的获得。



#### 4.4 逻辑说明：
4.4.1 以下功能需部分材料消耗界面（主要策划判定是否需要跳转），材料图标是可点击的功能图标，可以通过点击图标打开材料介绍浮窗界面。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719891209013-f422d806-936e-4453-b7e9-ad43bbe9ada7.png)道具详细浮窗

4.4.2 材料获取跳转：在部分材料的介绍界面与详情浮窗界面中，增加材料获取途径按钮，可以通过点击材料图标前往材料的介绍界面，通过介绍界面上的获取途径，接前往材料的获取途径。存在多个挑战时，界面可上下滑动。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721110038027-0b6eb3dc-8ff9-450f-9c9d-f0809c8b3f59.png)背包内的道具详情

4.4.3 宠物获取跳转：增加宠物详情界面获取途径以及图鉴中宠物详情获取途径，1 点击后跳转至大地图上栖息区域的传送按钮。2 点击后跳转至对应的功能模块，例如交易行界面以及孵化所界面。存在多个挑战时，界面可上下滑动。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721110085810-6310715b-b8ea-4a8a-89b6-b6570af7aa04.png)宠物详情界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719891249460-2febc944-7d1a-4ff1-a955-d69a8d58a26e.png)点击获取后的宠物获取浮窗

4.4.4 跳转类型：

跳转至功能界面入口：跳转后，直接打开功能UI入口按钮，玩家可以从UI进入功能模块，获取与之相关的材料。主要跳转交易行，孵化所，商城，副本UI。若是相关功能没有解锁，则相关途径呈现不可点击形态。

跳转至地图UI相关功能点：跳转后，直接打开大地图UI，锁定相关功能点按钮。例如主城内图书馆，关卡列表清单，野外世界地块区域的传送点。若是相关区域没有解锁，则相关获取途径呈现不可点击形态。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719892207296-45d6e084-9782-4a08-a1d4-705aa872d35e.png)跳转到关卡界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719892130127-803d5ff3-267f-4d4b-ad7c-d8b057caabb7.png)跳转到大世界上区域坐标



4.4.5 跳转表现：

成功跳转后，对于要跳转的大地图上UI相关功能点有功能点画面居中，外加锁定图标与效果。若是存在二级界面，例如传送二级界面，则自动打开传送界面。



4.4.6 界面回退逻辑：

任何通过跳转前往的界面在回退时，都需要回退到跳转起始界面。



## 5、配置表说明
功能开启—功能开启表—OpenFunctiao

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719829009405-463ac945-1522-4267-8575-ef8c5a31dc2b.png)

[OpenFunction.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1719830695674-1cd9b892-c8e5-47a9-a8f1-3d032351226f.xlsm)

功能开启——功能条件表—FunctionCondition  
![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719829153237-2c0b6e85-7c49-404f-b108-5354e4b901ee.png)

[FunctionCondition.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1719830599258-a4f086b8-84c8-4fcf-8359-e840c107bc40.xlsm)

跳转功能——道具表——item-修正部分列

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719829398047-4d82bb03-896e-40e8-8a3a-6e9b13c269a2.png)

[Item.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1719830607620-4fa24e47-c24e-4f8a-9aa9-3c35dbc05687.xlsm)

跳转——宠物表——pet—新增部分列

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719829442550-4e0b019d-bfb3-4eaf-ad22-8410288b84e4.png)

[Pet.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1719830621415-cb80258c-44ad-46af-a601-79c54fc0a1d8.xlsm)

  


## 6 界面说明：
跳转界面说明：

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719897185862-3eddce0e-177e-4a25-a1f3-6a056a958127.png)背包界面内获取途径

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719897241401-da398d94-3ddf-4278-8209-b3badb5f37c9.png)

其他界面点击道具图标呼出浮窗



![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719897332371-bad96d8b-7b46-4598-8c57-85668bb571d8.png)宠物界面的获取途径

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719897360433-63a96808-66af-459e-a4cc-e9d20767c39b.png)

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719897418074-82c045eb-d47c-4b2c-8367-3b54dcebea93.png)跳转大地图标注区域传送点

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719897450343-cc67374e-d9b8-4fe5-a084-35140eb33b7d.png)跳转关卡自动标注关卡



## 7.功能需求


## 8.阶段目标
分多次开发的文档写清楚阶段内容和目标



## 9.美术需求
ui/特效/动效/模型/场景等都要分开，能直接拆成美术需求文档。



可能拓展或者需要程序提前预留的内容，不在开发计划内的特殊备注。



功能增补/优化的方案需要将原文档的链接粘贴到后续文档种，便于查看。







