

## 一、概述
### 1.1 文档说明
玩家可以把宠物放入生产位进行道具生产，生产会持续产出宠物球道具



### 1.2 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| --- | --- | --- | --- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/8/13</font> | 姚仕达 | <font style="color:black;">文档创建</font> |
| v2.0 | 2024/9/19 | 姚仕达 | 改web5版本 |
| | | | |


### 1.3 设计思路
功能方面，做为挂机玩法，并消耗一定道具产出游戏中捉宠的道具。

体验方面，增加一条额外的挂机养成线，并跟随玩家的进度反哺玩家的宠物养成。

包装方面，丰富游戏主城市的活动生态。



整个功能为一个全局化的养成体验，附加在玩家主要的宠物养成线外。玩家对宠物的主要的养成行为的同时可以通过这个过程有一个全局性的养成效率提升。

全局的养成随着玩家的关卡进度进行。玩家到达一定的关卡就可以提升整体的制作建筑的等级。从全局增加玩家的基础养成道具制作效率。玩家再通过地图捕捉，尝试获得足够的制作等级的错误以提高制作效率。

生产的产物为玩家捕捉狗粮宠物的道具的主要途径，产出的效率就是玩家的养成效率。

养成线有阶段性，根据玩家野外开放的区域的进程。玩家有概率抓到特性等级在本区域相对较高的宠物，而本阶段玩家能获得的宠物的制作效率可以正好支撑玩家当前阶段需要的养成的狗粮数量。使得玩家随着游戏进程会逐步获得适合当前养成效率的宠物。

而当玩家去到高级的区域，或者升到更高的等级，这时候玩家养成需要的数量和效率也会随之提升，就出现数量的缺口，就让玩家产生需要更多或者更高等级道具的需求，玩家就需要到更高区域去获得制作等级更高的宠物。



形成在玩家游戏进度、养成效率和制作等级之间的循环推进

宠物制作效率=》道具生产速度=》养成效率=》更高的等级和进度=》需要更高的养成效率=》需要更高的生产速度=》宠物制作效率

### 1.4 系统框架图


![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/43733777/1726732231392-f0e00dc1-24df-4dc9-b736-c4513a753712.jpeg)

### 
## 二、功能说明
### 2.1 生产操作流程
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/43733777/1727084786904-4f7f899e-4ed7-4a67-8476-792b44f8c779.jpeg)

### 2.2 宠物技能和消耗
a、生产产出主要由宠物的技能等级影响。每个宠物本身都有生产等级，生产等级越高，基本效率的数值越高。

b、宠物的技能等有随机池，在宠物生成的时候进行随机，不可养成。

c、宠物生产只消耗时间。每打工3小时获得1份收益，3小时内停止打工无收益无消耗。收益的数值根据最终的打工效率得出（数值公式）。

d、生产时，宠物会处于锁定状态。此状态下宠物无法执行锁定状态不可同时进行的其他功能玩法。目前主要为：场景跟随、挖矿、生产。

e、玩家可以在只要有足够材料的情况下安排宠物生产，生产的过程中宠物的每次生产，都会锁定选中数量的材料，但在每此获得收益时才真正扣除一次材料。如果暂停宠物的生产行为，则返还没有消耗的材料。

f、收益都会记录在功能左下角的按钮上，统一收取。也会出现在没个打工的宠物头顶，可以点击单独收取



### 2.3 工作特性
a、每个宠物有自己的工作特性，并有特性等级。

a-1、宠物的特性根据宠物的种类决定，并固定不变。等级在宠物生成的时候在随机范围随机获取，后续不可养成







## 三、界面说明
### 3.1 主界面
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726732362339-7dc3092b-b436-454f-9d63-a0f4f9ca07a4.png)

a、在地图中划分区域，生产区域为一个独立的区域。玩家进入该区域后。切换ui变成生成操作界面。

b、左上为生产队列，显示当前所有正在生产的宠物。显示宠物的头像、姓名、效率和生产的物品图标。宠物剩余打工倒计时会以圆形的方式顺时针显示。

b-1、界面上的宠物打工效率的数值显示为宠物自己的等级和技能计算后的打工效率

b-2、玩家点击任意位置都可以把宠物从打工队列撤下，撤下时会出现信息确认框。提示玩家该宠物工作的时间长度和打工获得货币收益数量。  
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1720416856754-a7458568-6a7a-45fe-a8c8-ffb98ab262a4.png)

b-3、队列会根据等级扩充，建筑每到1定等级会打开一个新的工作位置。根据表格配置开放。数量超过外框后列表可以滑动查看。未解锁的下一个工作位置会有未解锁状态，显示解锁条件

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727084891941-422c142c-5a8e-454e-b6c7-883ba104f374.png)

c、玩家点击任意空白工作位置可以把宠物放入工作队列，如果队列已满提示玩家队列已满。

c-1、点击后弹出生产选项

生产选项界面显示所有玩家可以制作的道具图标和名字，下面显示需要消耗的的材料数量，最多3种最少1种。

数量显示格式为（玩家拥有数量/单个需要消耗的数量）最下面为制作按钮和可制作数量提示。

生成物有工作等级要求，只有达到等级的宠物可以生产对应的物品，玩家没有该等级的宠物时会有红色字体，点击制造后提示没有可以制作该物品的宠物。

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726812710763-b101b342-cf95-4066-af22-52f188f4c74f.png)

c-2、点击制作后，弹出宠物选择和时间设置弹窗

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726812795312-f7dc73f6-00c3-4029-b99d-0ece99d45937.png)

d、弹框显示可生产、等级足够的的宠物列表。已在生产的宠物和在其他功能中锁定的宠物都排在后面并有一个标记显示，剩余的宠物按生产效率从大到小排列。可上下滑动

d-1、列表中宠物头像主要显示：品质、名字、头像、打工效率

d-2、弹框中以工资次数为计数方式（产出/时间）。玩家可以选择设定需要的数量，用左右箭头选择，以单份工工资为单位，有生产时间上限，最多可以一次生产24小时（产出物品必为整数，时间小于24即可，且不超过宠物剩余寿命，且生产材料数量足够）。

e、右下为收获按钮。这里是一个总的收获按钮，点击后会收获所有宠物身上的货物

e-1、每个宠物头上会有一个单独得tip，显示当前宠物身上的产物。玩家点击宠物或者ui后收取。  
e-2、收取货物，会从ui位置飞数个图标并飞向背包位置

f、左上为当前生产建筑的状态显示，以及最左侧返回当前打工功能入口位置的寻路按钮。

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726813537337-7e03528c-a170-403b-8c00-df811473a313.png)

f-1、第一行为标题，显示建筑物名字和等级

f-2、第2行为当前建筑对总效率的加成累计。根据格式获得。点击前2行显示建筑详情弹窗，显示当前建筑的属性

包括：总效率，建筑当前等级，单份收益产出加成，单份收益时间缩短，工作位置数量

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726814290813-1e9427ac-bfda-4ebc-946d-04e501e1cb08.png)

f-3、第三行显示升级该建筑需要的条件，条件达成时显示升级按钮。点击后弹出升级界面。不可升级时点击出现飘字提示：升级条件未达成

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075676228-356afe99-5332-43d0-9d98-b43f5e1d8b37.png)

f-4、升级界面显示下一级对当前的等级的属性加成，有升级的属性会显示出来，并显示升级前后的数值对比，如图。数值根据表格控制

下方显示升级需要的材料。数量足够为绿色，不够为红色。点击升级按钮升级建筑

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075701412-a4ed3f18-5a2f-4dad-b68e-ebbdec529567.png)

升级建筑流程为：点击按钮--关闭升级弹窗--场景播放升级动效--ui出现升级效果（同等级升级）

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075914038-f0b3dd39-8e31-4ac0-80a5-4b439f3b437f.png)











h、选择开始生产时，冻结对应的材料。显示上暂时扣除，在宠物制作成功时正式扣除。中途结束返还未生产的材料。

h-1、中途在队列中可以点击宠物停止打工。

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723531827906-ddaf3d9d-b53f-4601-bd2c-25fade6ef30b.png)

i、如果宠物完成了设定时间需要的打工时长，则停止宠物的打工，并显示已结束。玩家点击后弹出打工完成提示框，确认后宠物收回，并收取宠物身上的货物

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723533517059-79fe489d-bb18-48ab-8a6a-72dd3f2b021b.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723534251538-f82b1f6e-c430-455e-91f8-5a6d827575ab.png)



### ~~3.2 宠物技能影响的不同显示模块~~
~~a、在宠物的技能中，会影响宠物实际生产过程中的单次产量、时间、寿命等维度的属性，需要在玩家选择宠物的界面中显示出来~~

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723532322327-79cab26b-445f-46ed-ae4e-d176f05eb457.png)

~~选项都以单次产出为基础值。及玩家单机点选箭头产生的数量增加~~

~~具体产量：如果有直接影响单次产量具体数值的，则把（1个/3小时）中的数量预估改为实际产出数量，并用绿色标注~~

~~概率产量：如果是在产出是有概率产出增加，则在下面显示绿字（概率产出提高）~~

~~具体时间：如果有直接影响单次产出耗时减少的，则把（1个/3小时）中的时间预估改为实际产出数量，并用绿色标注~~

~~单次时间上限：玩家可选的时间档次增加，并在玩家选择额外的时间部分时，框体外框变为绿色~~

~~具体寿命：如果直接影响单次产出消耗寿命的，则把预计寿命扣除：1岁中具体的数值改为实际数值，并用绿色标注~~

~~概率寿命：如果又概率影响单次产出消耗寿命的，则在下面显示绿字（概率寿命减少）~~



### 3.3 宠物生产表现
a、玩家设定好生产宠物后，宠物会刷新在玩家左侧。并寻路到生产的表演位置。如果是玩家身边的跟随宠物则会直接寻路去工位。并停止跟随状态

b、宠物到达工位时，会进入工位挂点并播放生产表演。表演为循环动画，直到生产结束。这个过程中宠物会一直在生产点播放表演。

c、生产结束后，宠物会直接消失在工位上，工位回到待机的状态

d、生产建筑的打工位和玩家已开启的打工位对应。

e、生产位本身有数种状态。未开启（玩家未解锁当前的打工位）、待机（已解锁未工作）、生产中



### 3.4 生产包装
方案一：城市内的一个生产流水线。用以制造抓取宠物的宠物球。具体包装跟随宠物球的设定。制作点可以类似帕鲁，适合单子宠物工作，或者4个合作工位的现代化的流水线包装

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723534502509-efa8779d-d508-43d2-ad8e-00f716c34c01.png)



方案二：偏魔法炼金类包装，方便和打工的包装区分开来

![](https://cdn.nlark.com/yuque/0/2024/webp/43733777/1723536546891-77122969-702f-4b4a-b033-cdcafd1f7278.webp)





## 四、配置表说明
### 4.1 生产表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727081415214-05e927b1-d1a9-4ec8-b72c-d5a506ec6372.png)

### 4.2 建筑物升级表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727081475845-c7b1c733-b5c3-4af6-904c-0fefcc7a04fd.png)

## 五、功能需求清单






## 六、美术需求清单
### 6.1 界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | **<font style="color:white;">性质</font>** |
| --- | --- | --- |
| 1 | 生产主界面ui | 一级界面 |
| 2 | 生产选择弹窗 | 弹出框界面 |
| 3 | 时间设定 | 弹出框 |


### 6.2 动作需求
每个宠物需要一个适配的生产动作。（跟随宠物制作）



### 6.3 场景需求
| **<font style="color:white;">所属系统</font>** | **<font style="color:white;">场景类型</font>** | **<font style="color:white;">场景名称-美术</font>** | **<font style="color:white;">场景用途</font>** | **<font style="color:white;">描述</font>** |
| --- | --- | :---: | --- | --- |
| 生产 | 建筑展示 | | 生产主建筑场景 | 一个可以进入室内的生产建筑，有npc站立的接待区域 |
| 生产 | 工作区域 | | 宠物生产表演区域 | 一个开阔的生产区域，室内室外都可，需要和主建筑连通。有数个独立的工作位置 |




## 七、string需求


| **<font style="color:white;">类别</font>** | **<font style="color:white;">目标操作</font>** | **<font style="color:white;">触发条件</font>** | **<font style="color:white;">提示形式</font>** | **<font style="color:white;">提示string</font>** |
| --- | --- | --- | --- | --- |
| 生产流程 | 派遣宠物 | 宠物列表已满 | 确定框 | 当前队列已满 |
| | | | | |
| | | | | |


