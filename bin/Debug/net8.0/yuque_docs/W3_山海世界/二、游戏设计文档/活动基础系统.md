# 一、概述
  
1.1 文档说明

●本文档说明活动系统的框架说明。

活动框架为大部分时限性功能的基础功能，对于不同的活动设计带来的特异化功能需要更详细的活动设定需求。

  
1.2 文档维护  


| <font style="color:white;">版本</font>    | <font style="color:white;">时间</font>    | | <font style="color:white;">负责人</font>    | <font style="color:white;">修改内容</font>    |
| --- | --- | --- | --- | --- |
| <font style="color:black;">v1.0</font>    | <font style="color:black;">2024/07/25</font> | | 王灼民    | <font style="color:black;">第一版活动系统框架设计</font>    |


## 1.3 设计思路
整合所有时限性模块，统一管理长期活动，限时活动，并能够实现定时，循环等基础功能。



## 二 功能说明：
### 2.0 功能概述
整合活动进活动中心界面，根据配置开关活动模块入口，调整活动模块相关按钮的显示/隐藏，实现循环与定时基础功能以及通知与数据查询等进阶功能。

### 功能逻辑图
![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722234233190-f5b3b0d0-a438-4142-8814-1266091f0cfa.png)

### 2.1 功能开启
活动中心具备开关功能，根据玩家的任务节点/等级节点进行活动中心按钮的开启。

基础框架系统没有单独开启，理论上活动系统管理游戏中所有具备时限性的活动与功能模块。

### 2.2 基础功能
1 活动系统可以管理功能模块的开关。开关形式分为前端UI控制，与后台服务控制。

    前端UI关闭：活动系统关闭指定的活动入口UI按钮，活动中心相关入口，或让前端UI按钮变为灰色不可点击状态。

    后台服务关闭：活动系统指定时间关闭后台功能模块，例如停止活动数据的录入。

2 活动系统可以制定活动的循环周期，例如每日循环活动，每周循环活动，每月循环活动等。

3 活动进入条件：活动系统可以管理活动参与条件，例如活动只允许玩家等级超过20级以上的玩家参与。基础活动系统有：玩家等级，指定任务两个参与条件，若活动需求更多条件，归入单个活动表。

4 活动优先级：当多个活动同时触发时候，根据活动间的优先级决定活动相关UI展示。

5 游戏内整合活动进入统一活动的活动中心页面，在活动中心页面可以查看以及直接跳转进入游戏内活动相关界面，跳转链接包括但不限于指定活动界面，指定关卡界面，部分大世界传送点，主城传送点等。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722587970126-a749d298-ccac-4dd1-8adb-1fcf08cf1a96.png)

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722503834315-6c14b772-2abb-412b-99b6-5df8718ddcbb.png)

官员竞选参考活动中心![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721973655253-5a4c4ab4-7e6b-4020-8d8b-f57040ba364a.png)

6 活动界面的相关信息排版以及界面上对应的功能根据不同的需求进行开发，例如下面活动界面，就需要在界面上可以进行领取，兑换操作。基础框架只需要对接活动界面即可。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722505086501-e9c88d07-97e2-40d8-a7e4-96e53f525093.png)界面上可以领取相道具

 6 活动主动弹窗：部分活动在开启时，会有对应的活动相关的主动弹窗。

例如：

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722504161247-7bbc14dc-bbf5-4422-bbec-79107ec527dd.png)

在主界面弹出的相关弹窗——出发时间点为登录时——可选择今日内不再弹出

6 活动中心内对活动类型以活动时间区分类型为：限时活动，常驻活动，两者在界面上具备不同的任务图标用以区分。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722504007710-55058a66-b7e4-4258-b0f2-cb5b2fc054c7.png)

7  活动中心中活动显示顺序由活动的显示权重决定，在显示权重相同时，显示活动在常驻活动之上。若活动类别相同，显示权重相同，则按活动id大小决定显示顺序。

### 2.3 进阶功能 
1 活动系统统一管理游戏内活动模板的弹出浮窗，主要用于活动相关的开启，更正，关闭等相关信息的通知。通知形式分为游戏内UI，邮件通知，与对外弹出信息。

2 游戏内ui信息主要为界面跑马灯信息，活动系统可在游戏内多个界面触发文字信息的跑马灯。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1722504277520-3db52994-99bf-4d73-bdad-c4efdda0a693.png)滚动跑马灯用于信息的强调显示

3 跑马灯显示规则：1 跑马灯可设定单条滚动时间。2 跑马灯具备最大字数，若文字超过UI最大显示数量，滚动显示文本。3 多条跑马灯信息触发时，根据触发前后关系序列播放，若同时触发，则随机前后。

4 活动开启可通过邮件系统向玩家发送相关提醒邮件。

4 对外弹出信息主要为根据配置，在活动开启时候，通过手机端的通知信息，通知玩家活动相关信息。

5 活动系统应在后台保存相关的活动数据，用以辅助活动中可能出现的应急处理，与活动结束后相关活动信息的分析。

## 三、界面说明：
##   
四、配置表说明：
活动表全部都是以——每日官员竞选为模板制作。

[Activity.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1722516516936-385dea96-27f1-42a4-8d99-ec145599d21f.xlsm)

[Schedule.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1721975010869-c07ed469-ee64-4078-a4b3-e6d3c8fca65d.xlsm)

[Trigger.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1722516545957-3a3a3c22-d701-45e0-ad22-39950f039e66.xlsm)

##   
五、功能需求清单
## 六、美术需求清单  
  
七、String需求  



若有收获，就点个赞吧

  
 

