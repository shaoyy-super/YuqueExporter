

## 一、概述
### 1.1 文档描述
玩家可以派遣宠物挖矿，消耗寿命获得对应的资源

每日资源的回收价格有浮动，玩家可以选择卖出的时间

不同城市挖出的资源不一定相同，每日每个城市回收的资源也不一定相同



### 1.2 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| --- | --- | --- | :--- |
| v1.0 | 2024/7/11 | 姚仕达 | <font style="color:black;">文档创建</font> |
| | | | |


### 1.3 设计思路
功能方面：给与玩家的挂机产出是游戏内比较基础的产出，但与打工不同让玩家可以自由决策的卖出。同时多城市每日的收购的品种不同，使得玩家单一户口的收益弱化，鼓励玩家获得更多的户口去获得更多的收益



包装方面：宠物从事的是比较基础的收割工作，获得的是货物本身。在工业层级的代入感上和打工获得货币的体验区分开。决定性卖出的设定契合玩家的赌博心态，户口越多收益越大



### 1.4 系统框架图
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/43733777/1727071037829-e974cbc0-5aa9-44f1-b564-ef4bb4c93579.jpeg)





## 二、功能说明
### 2.1 名词设定
派遣：玩家把宠物放入可以工作的槽位中，让宠物产出收益

矿点：玩家挖矿的地方

矿物：玩家挖矿获得的物品。可以交易行自由交易或者制作后续的产品

### 2.2 挖矿流程
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/43733777/1727083121356-f116ee9a-74b5-4971-9b11-9dffd61b94e2.jpeg)



### 2.2 宠物技能和消耗
a、挖矿产出主要由宠物的特性等级影响。每个宠物本身都有挖矿等级，挖矿等级越高，基本效率的数值越高。

c、宠物挖矿需要一定的时间。最后形成时间转化产出的经济循环。每打工3小时获得1份工资，3小时内停止打工无收益无消耗。工资的数值根据最终的打工效率得出（数值公式）。

d、打工时，宠物会处于锁定状态。此状态下宠物无法执行锁定状态不可同时进行的其他功能玩法。目前主要为：场景跟随、打工。



### 2.3 矿点和矿物
a、矿点

a-1、玩家的主城中有数个矿点，一开始为3个。分别对应一种特性。

a-2、矿点有等级设定，随着玩家挖矿的数量增长。到达一定数量后可以使用一定的材料升级矿点

a-3、矿点有3种属性，单份产出的数量、时间，挖矿的工作位置数量。随着矿点的升级会增加。

b、矿物

b-1、3种矿点内一共有3种矿物产出，后续可根据配置扩展

b-2、矿物被收取后进入背包



### ~~2.4 经济转换（市政厅功能）~~
~~a、每日每个城市的市政厅都会随机收取一种货物，政府工程单子的总token=(上个政府工程单子玩家捐献矿产总价值+rand(50-400))*财政赤字率。~~

~~b、玩家只要有对应城市的户口，就可以把拥有的所有货物都卖给市政厅，只能出售当日需要的货物。~~

~~c、每日晚上8点，市政厅会结算一次收购并更换第二天的收购需求。结算时根据每个玩家捐献的货物的占比分配当日奖池中的资金，并以邮件形式发放给玩家。~~

~~d、市政厅会显示前日捐献玩家前3占比的玩家，并显示他们昨天捐献的数量。~~



### ~~2.5 挖矿技能~~
~~宠物技能模块中需要提供对应的宠物技能~~



## 三、界面说明
### 3.1 挖矿主界面
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075322629-36f04ad8-9ae5-4a06-8900-0804fc39bbb7.png)

a、在地图中划分区域，挖矿区域为一个独立的区域。玩家进入该区域后。切换ui变成挖矿操作界面。

b、左上为挖矿队列，显示当前所有正在挖矿的宠物。显示宠物的头像、姓名和效率，以及当前挖矿的种类。宠物剩余挖矿倒计时会以圆形的方式顺时针显示。

b-1、界面上的宠物挖矿效率的数值显示为宠物自己的特性、矿场等级计算后的挖矿效率

b-2、玩家点击任意头像位置都可以把宠物从挖矿队列撤下，撤下时会出现信息确认框。提示玩家该宠物挖矿的时间长度和挖矿获得货币收益数量。  
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1720416856754-a7458568-6a7a-45fe-a8c8-ffb98ab262a4.png)

根据等级队列的数量会提升。数量超过外框后列表可以滑动查看。点击后有消费确认框

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1720416198778-de6fc158-52a9-4356-848d-f2f4f4f51168.png)



c、点击空的队列位置后会出现宠物选择列表

c-1、显示可挖矿的宠物列表。已挖矿的宠物和在其他功能中锁定的宠物都排在后面并有一个标记显示，剩余的宠物按挖矿效率从大到小排列。

c-2、列表中宠物头像主要显示：品质、名字、头像、挖矿效率

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1721990534145-434599b8-412d-42b6-b8e8-6bf55e626817.png)

c-2、弹框中以单份收益为计数方式（生产数量/时间）。玩家可以选择设定需要的收益次数，用左右箭头选择时间（时间最长不超过24小时），产量向下取整，可循环显示。

d、右下为收获按钮。这里是一个总的收获按钮，点击后会收获所有宠物身上的货物

d-1、每个宠物头上会有一个单独得tip，显示当前身上以获得的货物，玩家点击宠物或者ui后收取。  
d-2、收取货物，会从ui位置飞数个图标并飞向背包位置

e、左上为当前生产建筑的状态显示，以及最左侧返回当前打工功能入口位置的寻路按钮。

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726813537337-7e03528c-a170-403b-8c00-df811473a313.png)

e-1、第一行为标题，显示建筑物名字和等级

e-2、第2行为当前建筑对总效率的加成累计。根据格式获得。点击前2行显示建筑详情弹窗，显示当前建筑的属性

包括：总效率，建筑当前等级，单份收益产出加成，单份收益时间缩短，工作位置数量

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1726814290813-1e9427ac-bfda-4ebc-946d-04e501e1cb08.png)

e-3、第三行显示升级该建筑需要的条件，条件达成时显示升级按钮。点击后弹出升级界面。不可升级时点击出现飘字提示：升级条件未达成

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075676228-356afe99-5332-43d0-9d98-b43f5e1d8b37.png)

e-4、升级界面显示下一级对当前的等级的属性加成，有升级的属性会显示出来，并显示升级前后的数值对比，如图。数值根据表格控制

下方显示升级需要的材料。数量足够为绿色，不够为红色。点击升级按钮升级建筑

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075701412-a4ed3f18-5a2f-4dad-b68e-ebbdec529567.png)

升级建筑流程为：点击按钮--关闭升级弹窗--场景播放升级动效--ui出现升级效果（同等级升级）

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727075914038-f0b3dd39-8e31-4ac0-80a5-4b439f3b437f.png)





f、如果宠物完成了设定时间需要的打工时长，则停止宠物的打工，并显示已结束。玩家点击后弹出打工完成提示框，确认后宠物收回，并收取宠物身上的货物。

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723533517059-79fe489d-bb18-48ab-8a6a-72dd3f2b021b.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723533763850-ae6fb333-b4f7-43c5-aab8-89b9a2472e3d.png)



### ~~3.2 宠物技能影响的不同显示模块~~
~~a、在宠物的技能中，会影响宠物实际生产过程中的单次产量、时间、寿命等维度的属性，需要在玩家选择宠物的界面中显示出来~~

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1723532322327-79cab26b-445f-46ed-ae4e-d176f05eb457.png)

~~选项都以单次产出为基础值。及玩家单机点选箭头产生的数量增加~~

~~具体产量：如果有直接影响单次产量具体数值的，则把（1个/3小时）中的数量预估改为实际产出数量，并用绿色标注~~

~~概率产量：如果是在产出是有概率产出增加，则在下面显示绿字（概率产出提高）~~

~~具体时间：如果有直接影响单次产出耗时减少的，则把（1个/3小时）中的时间预估改为实际产出数量，并用绿色标注~~

~~单次时间上限：玩家可选的时间档次增加，并在玩家选择额外的时间部分时，框体外框变为绿色~~

~~具体寿命：如果直接影响单次产出消耗寿命的，则把预计寿命扣除：1岁中具体的数值改为实际数值，并用绿色标注~~

~~概率寿命：如果又概率影响单次产出消耗寿命的，则在下面显示绿字（概率寿命减少）~~



### ~~3.3 城市价格表~~
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1724408147014-aebc6833-76aa-4afb-942e-498fe2e0f236.png)

~~a、可以通过矿点UI上的收购显示点击进入。也可以通过背包的售卖按钮进入~~

~~b、只显示玩家可以交易的城市中急购得货物，一个城市出现多个急购得情况则显示2个并列得条~~

~~c、单条显示城市名字、财政状态、需求得状态、材料显示（跳转按钮）~~

~~g、点击任意城市几个按钮可以跳转对应城市的市政厅，有传送确认框，确认后直接传送过去。~~

![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1720769149940-7313c53a-d233-4982-94ab-79213c3c093b.png)



### 3.2 宠物挖矿表现
a、玩家设定好挖矿宠物后，宠物会刷新在玩家左侧。并寻路到挖矿的表演位置。如果是玩家身边的跟随宠物则会直接寻路去挖矿位置。并停止跟随状态

b、宠物到达挖矿位置时，会进入挖矿挂点并播放挖矿表演。表演为循环动画，直到挖矿结束。这个过程中宠物会一直在挖矿点播放表演。

c、挖矿结束后，宠物会直接消失在挖矿上，挖矿回到待机的状态

d、挖矿建筑的挖矿位主要和物资点的模型有关，宠物会围绕物资点的挂点位置进入打工动作

e、挖矿位本身有数种状态。未开启（玩家未解锁当前的挖矿位）、待机（已解锁未挖矿）、挖矿中



### 3.3 挖矿包装
初始版本考虑制作3种矿物和3个矿场

采石场，产出石头

伐木场，产出木材

铁矿场，产出铁矿





## 四、配置表说明
### 4.1 生产表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727081415214-05e927b1-d1a9-4ec8-b72c-d5a506ec6372.png)

### 4.2 建筑物升级表
![](https://cdn.nlark.com/yuque/0/2024/png/43733777/1727081475845-c7b1c733-b5c3-4af6-904c-0fefcc7a04fd.png)





## 五、功能需求清单






## 六、美术需求清单
### 6.1 界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | **<font style="color:white;">性质</font>** |
| --- | --- | --- |
| 1 | 挖矿主界面 | 一级界面 |
| 2 | 城市价格表 | 弹框界面 |
| 3 | 矿物种类选择界面 | 弹框界面 |
| 4 | 宠物选择界面 | 弹框界面 |
| 5 | 城市跳转弹窗 | 弹出框 |
| 6 | 队列扩展弹窗 | 弹出框 |
| 7 | 停止打工确认弹窗 | 弹出框 |




### 6.2 场景需求
| **<font style="color:white;">所属系统</font>** | **<font style="color:white;">场景类型</font>** | **<font style="color:white;">场景名称-美术</font>** | **<font style="color:white;">场景用途</font>** | **<font style="color:white;">描述</font>** |
| --- | --- | :---: | --- | --- |
| 挖矿 | 挖矿功能场景 | | 挖矿专用场景 | 一片大型的空地，分列了5种不同的工作区域（农田，采石场，伐木场，铁矿场，浆果林），门口有一个小型的农舍 |




## 七、string需求


| **<font style="color:white;">类别</font>** | **<font style="color:white;">目标操作</font>** | **<font style="color:white;">触发条件</font>** | **<font style="color:white;">提示形式</font>** | **<font style="color:white;">提示string</font>** |
| --- | --- | --- | --- | --- |
| 挖矿流程 | 派遣宠物 | 宠物列表已满 | 飘字 | 当前队列已满 |
| | | | | |
| | | | | |


