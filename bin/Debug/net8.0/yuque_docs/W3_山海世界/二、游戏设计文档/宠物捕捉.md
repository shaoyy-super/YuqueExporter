## 1.概述
### 1.1版本管理
[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/htpg9o0zid34bl2a#auzW2)

### 1.2.设计思路
根据野外世界的设定，进行宠物捕捉的功能设计，玩家可以通过在野外捕捉获得野生宠物。

捕捉的野生宠物主要为融合提供素材，野生宠物提供专属技能/寿命以及资质。



### 1.3.系统框架图
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718093226368-a5183951-b507-4e7a-93d9-1511e098016b.png)

## 2.功能详情
### 2.1名词定义
捕捉价值：是策划定义的一个宠物球参数，需要带入捕捉概率公式计算不同宠物的捕捉概率。不同的宠物球有不同的捕捉价值。理论上宠物球的价值（购买价值）=捕捉价值。

### 2.2宠物球
2.1.1宠物球是一种普通道具，在背包中显示。

2.1.2宠物球在场景界面中会进行显示当前装备的精灵球和数量

2.1.3宠物球按品质分普通/稀有/史诗/传说/神话，共五个品质，对应不同的捕捉价值。

2.1.4宠物球的获得需要消耗代币购买，理论上野外宠物的获得一定需要消耗代币。

根据双币制的经济模型，可能会增加治理币消费的必中球。捕捉概率固定为100%。

2.1.5每次捕捉固定消耗一个宠物球，无论是否捕捉成功，都将消耗。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1715843825058-8518977d-2ad3-48f2-ac40-1fddf03dcbcf.png)

### 2.3宠物捕捉流程
### 2.3.1流程图
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718102376099-a19096f6-df84-4de8-9434-a481685e1e36.png)

### 2.3.2宠物捕捉前置条件
玩家需要解锁野外世界功能，前往野外世界进行捕捉。

需要拥有任意品质的宠物球才能完成捕捉操作。

没有宠物球可以进入野外场景，后续会在野外可以通过商店直接购买宠物球。

### 2.3.3选择目标宠物
选择野外世界中的任意野生宠物作为目标。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719973024685-588cd755-4866-4052-af0e-3addb9e59029.png)



![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1722398216104-5a1d3774-8da1-454c-ab2c-770ec5eb6827.png)

选球规则

初始自动选中品质最低的宠物球，没有球的时候也选中最低的，显示数量为0。

当拥有两种和以上的宠物球的时候，显示左右切换按钮，左右点击时循环滚动列表。

列表只显示拥有的宠物球类型，没有的不显示，宠物球消耗完后显示为0。

选中的球状态会被保存，回到主城后再返回依然保持状态，下线可以不保存，回到初始状态。







### 2.3.4进入捕捉状态
选择捕捉该宠物使用的宠物球，点击“捕捉”按钮将球取出拿到手上。

界面切换为捕捉界面，出现捕捉准星。移动镜头准星正对宠物的位置可以显示当前的捕捉概率。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719972870138-7a97469b-2e51-4c19-8c20-387e50bc0a06.png)

### 2.3.5捕捉状态界面状态
进入捕捉状态后，按钮变为“捕捉”和“取消”。

点击“捕捉”将当前选中的宠物球扔出。

点击“取消”收回球回到初始状态。

捕捉状态中可以切换选中的宠物球，会改变捕捉概率。

<font style="color:#DF2A3F;">该状态中</font>~~<font style="color:#DF2A3F;">考虑</font>~~<font style="color:#DF2A3F;">可以移动</font>~~<font style="color:#DF2A3F;">（如果需要单独出需求）。</font>~~

### 2.3.6确认捕捉
确认宠物球捕捉概率后将球扔出，球碰触到宠物后进入捕捉动画。

不考虑球会扔丢的情况，球一定会碰到宠物。

出手的瞬间确定当此的捕捉动画和捕捉结果。



### 2.3.7捕捉动画
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719972941346-ddac5f9d-a62e-4105-8943-4170598f2a32.png)

球接触到宠物时，宠物被吸入球内，宠物消失，开始捕捉动画。

捕捉动画会有几种形式来触发概率。

失败宠物从球中落回场景。

<font style="color:#DF2A3F;">捕捉失败不应该打断宠物的原本行为。</font>



### 2.3.8捕捉成功
界面弹出捕捉成功效果，弹出宠物的缩略效果，宠物进宠物背包。

玩家可以重复上述流程。直到捕捉到心仪的宠物或者精灵球消耗完毕。

<font style="color:#DF2A3F;">扔出宠物球的那一刻会退出捕捉状态</font>

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719972974592-a2ec5e6c-2014-4994-857f-c4c525a8c57c.png)



![](https://cdn.nlark.com/yuque/0/2024/gif/43733765/1715844273784-9f26c90d-cde9-4c3e-94b0-30250fd841f9.gif)	



### 2.3.9特殊情况
如果当前选中的宠物球使用完毕，停留在空球的状态，点击捕捉提示“XX宠物球不足”。

玩家手动切换到拥有的宠物球后可以继续捕捉。



### 2.4野生宠物属性（设定）
4.3.1野生宠物区别于成长型宠物，野生宠物捕捉到即为成年宠物，拥有寿命，寿命介于1-100之间。

4.3.2根据宠物价值和属性生成规则，在捕捉到宠物时随机宠物的各种属性参数。再宠物属性和生成功能开发。

4.3.3野生宠物拥有寿命，可以参与需要寿命的功能玩法比如打工和竞技。

4.3.4野生宠物不能作为融合的主宠，只能作为融合的副宠被消耗，将价值转移给主宠。宠物合成功能开发  
4.3.5野生宠物根据宠物种类拥有不同的捕捉给概率，捕捉概率会在宠物表中配置

4.3.6成长型宠物暂时不会在野外世界出现和捕捉。成长型宠物将会是合成的主宠。通过交易和孵化获得。

4.3.7野生宠物的外观会有区别，根据外观的区别玩家可以在捕捉前进行区分，外观的区别主要与生产技能有关，在宠物外观和相关属性功能开发。





### 2.5捕捉概率
### 2.5.1宠物捕捉的基础概率按照计算公式
基础概率=宠物球捕捉价值/目标宠物价值

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718180079167-c878d2c9-394c-4888-9a26-2eab8cd98aa2.png)



### 2.5.2宠物球捕捉价值
配置在宠物球上的固定价值，跟随道具本身

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718180096250-dac7311f-8814-46a6-b500-f9a836c4aeb2.png)



### 2.5.3宠物特殊区域捕捉概率加成
每个宠物会有不同的加成区域，宠物球瞄准到加成区域时计算享有额外的概率倍率。

<font style="color:#DF2A3F;">基础部位概率：</font>~~<font style="color:#DF2A3F;">0.9-</font>~~<font style="color:#DF2A3F;">1</font>

<font style="color:#DF2A3F;">特殊部位概率：1.5</font>





### 2.5.4捕捉概率
展示的最终捕捉概率=球的基础概率X扔球位置倍数。

~~具体以数值给出的具体公式为准。~~





## 3.界面说明
### 3.1捕捉准备界面
点击捕捉按钮后进入捕捉状态，人物改变动作，修改为捕捉状态，右手拿出宠物球，出现准星，准星落到目标身上时出现捕捉概率。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719973110524-6b85eafb-e92e-4182-98ce-4e5eb9bf7145.png)

1.准星出现在固定位置

准星的固定位置是相对屏幕的固定位置

2.准星正对野生宠物的时候出现捕捉概率

3.进入捕捉状态时，捕捉按钮变为“捕捉”和“取消”两个按钮状态

点击捕捉，扔出宠物球。再这个状态下可以一直扔球。

点击取消，退出捕捉状态。

4.进入捕捉状态时，人物动作变为捕捉，将宠物球拿到手上，根据当前选中的宠物球品质，改变手上的宠物球模型

~~5.根据准星，模拟宠物球的抛物线。~~





### 3.2捕捉动画播放中
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719973120734-752b640c-005a-4f2c-bbdb-ef86b18d39f4.png)

1.这个概率显示是在场景中的ui显示

2.捕捉动画的播放



### 3.3捕捉成功后生成宠物信息展示
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1719973134793-65660430-c4ae-4f8e-a9aa-19f28665ce05.png)

1.宠物名称和寿命显示

2.捕捉成功的字样

3.野生宠物的类型

4.通用技能展示

这里考虑多个技能展示，不超过8个。

如果卡牌的形式不好展示，可以考虑文字展示。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718176260024-fab42e39-4d92-4666-859b-512cfecd1a81.png)

5.首次获得标记

首次获得的宠物类型和技能类型，有个new的标记。





## 4.配置方式
道具表配置一个每个球的价值属性

数值给出捕捉公式



## 5.美术需求
### 5.1ui需求


[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/htpg9o0zid34bl2a#HFufU)

[https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&type=design&node-id=697-3426&viewport=-3072%2C799%2C0.78&t=lGMdhypafxJvoItx-1&scaling=contain&starting-point-node-id=639%3A2846](https://www.figma.com/proto/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?page-id=39%3A332&type=design&node-id=697-3426&viewport=-3072%2C799%2C0.78&t=lGMdhypafxJvoItx-1&scaling=contain&starting-point-node-id=639%3A2846)

参卡图瞄准宠物界面

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718175480742-e82c1c82-fdde-4b53-b43c-af7d2d8173b6.png)

捕捉信息出现

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718175504907-18a20966-83db-414a-97ba-170d476fca4c.png)

捕捉成功

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1718175547972-aba7a495-9ea0-4518-8338-0f2bb9ba82a7.png)

### 5.2捕捉动画
宠物进球的动画效果。

30秒左右

[https://www.bilibili.com/video/BV1Wr421A7o1/?spm_id_from=333.337.search-card.all.click&vd_source=7fe46229da01a783f194394459e76201](https://www.bilibili.com/video/BV1Wr421A7o1/?spm_id_from=333.337.search-card.all.click&vd_source=7fe46229da01a783f194394459e76201)

## 6.数值需求
捕捉概率和计算公式



## 7.功能需求清单


[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/htpg9o0zid34bl2a#wYgoO)



## 














