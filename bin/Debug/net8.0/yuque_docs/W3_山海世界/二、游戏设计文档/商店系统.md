## 1.版本管理（必须，每次有功能修改都要迭代）
| 文档编辑情况 | 编辑时间 | 编辑人 |
| --- | --- | --- |
| 文档初版，确定基本结构和内容 | 2024.7.02 | 王灼民 |
|  |  |  |


## 2.设计目的
设计商店系统，主要满足游戏内购功能，可以容纳各类设定不同，购买方式不同的商品。在此基础上，便捷玩家操作。



## 3.设计思路/功能简介
1 商店内可以通过游戏内双币购买一定的商品，礼包。

2 商品礼包具备限购，限时，首购，折扣等属性，且商店具备每日免费礼包。

3 商店具备一些banner窗，用以展示推荐商品



此设定目前搭建商店的基本逻辑以及基本商品售卖类型，若有后续商品需求，则新增商品需求。

购买商品的逻辑图

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719911310565-1b5af32e-37a5-4769-95bf-a39b64ea90a5.png)

## 4.功能详述
### 名词定义：
商品：商店内售卖的单个道具，货币，多个道具复合的礼包统称为商品。



### 4.1 商店功能开启
1 商店入口新账号建立时候默认关闭状态，随着玩家进入达到指定等级后，开启商店入口按钮以及相关界面。

2 商店开启按钮位于人物信息板右侧

3 商店开启不需要相关教学演绎。但需要演绎动画，类似图标解锁。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719900963986-43f85919-55a2-4013-aaee-27a8801ce875.png)玩家属性界面旁

4 商店需要在服务器后台有非重启服务器性质的热开关，可以在商店存在紧急情况下，立刻关闭商店的购买：

关闭维度：1 整体商店模块的关闭，玩家无法进入商店购买道具或处于商店界面无法购买任何商品。2 指定商品id的购买关闭，单不影响正确商品。

5 商店购买记录的保存，对于商店的购买记录应该保留一定时间段的记录保存，查询等功能，用以在玩家后出现问题时，可以调取相关购买记录。



### 4.2 商店框架
1 商店内竖列为分类页，代表种类类型，每竖列的分类页下，横向为分页下的小分类。

竖列与下级分页都可以由表来新增，减少，配置。

打开后默认为推荐分页；所有页签被选中时都有对应表现变化。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719902034447-c3a6b495-344e-4b1b-a882-a45303e39fb4.png)商店主界面



2 推荐分页存在滑动banner窗——展示礼包画面，banner周期性循环滑动。循环周期可配置。

玩家可点击banner直接弹出相对应的商品二级购买界面，也可左右滑动banner查看。

推荐商品在其他的页码下也可以上架，定义上是同一商品（拥有相同购买限制）。

banner数量可配置。最多10个。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1719908530653-8cd3367f-445a-4a2a-9e01-00fc1d680e61.png)



3  除去推荐界面外，其他界面暂不存在banner位，玩家点击展示的商品后，呼出二级购买弹窗，在弹窗内进行操作。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721100612231-a7d29494-8355-40de-ada0-54794f55a513.png)

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721100626108-7c7854e3-1eeb-4201-b3dc-5639cb0507b2.png)

### 4.3 商品信息与购买
1 商品可以是以下列举的情况：单类道具，复数货币，多个道具集合，多类道具集合，道具与货币集合。



2 商品在商店内存在以下信息：

购买数量：道具购买数量限制，超过最大数量限制则图标灰显，限购根据循环周期分为永久限购，每日限购，每周限购，每月限购，每版本限购。拥有循环周期的限购道具需要显示循环时间。

价格折扣：道具价格具备折扣，折扣一般与购买数量限制结合。具备折扣的道具有打折比例角标。

商品角标：商品设定上的一些推广信息，例如：推荐，超值。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721100596060-3ea61854-451c-46d8-a9f1-c81347896d56.png)商品示例



3 因游戏内存在多种币制，商城内两种货币都可购入商品。每种商品都只使用1种货币购入。



4 商品购买成功时，有文字弹提示，同时将购买商品发送到玩家的背包内，

若存在背包满了，则转为邮件存放相关购买物品，文字提示需表明物品转存邮箱内



5 商品应可配置玩家单次是否可以购买多个。例如不可单次购买多个，则点击商品后，购买数量固定为1，玩家无法改变购买道具数量。若是可以单次购买多个，则玩家可以输入购买数量，此数量不可超过商品最大购买数量。



6 商品为复数不同类道具集合时，界面应展示礼包内全部道具供玩家查看。同类道具则不需要。



7 商品在以下情况下可能出现后买失败的情况：

7.1 余额不足——弹出余额不足的弹窗，弹窗可以点击跳转到充值界面。

7.2 网络或服务器问题——弹出网络问题的小型浮窗。

7.3 商品已售罄——商品已售罄的情况下图标灰显，价格变为已售罄，玩家点击后出现商品已售罄小型浮窗。

7.4 商品不在售卖时间内——商品不再售卖时间内图标灰显，玩家点击后，出现商品不在售卖时间内小型浮窗。

7.5 账号封禁冻结等问题——账号后台被ban等无法进行购买操作，玩家点击任意商品后，出现账号异常联系客服小型浮窗。





## 5.界面说明
![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720003086909-b9b3852e-dd28-4cdd-936b-af93ec3377e4.png)商城界面的推荐商品界面，存在循环播放的banner位以及部分推荐商品

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721100596060-3ea61854-451c-46d8-a9f1-c81347896d56.png)

商品的展示图标具备一些角标，时间，购买折扣，购买数量显示等额外信息。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721110232669-7f3e4c3a-0ce2-45b7-a04d-54710bc0a6e3.png)

点击商品或者banner位图片都可以呼出二级的购买弹窗进行购买操作。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721110244653-b8a091f1-afc0-4db0-add0-f990b289c732.png)

非礼包道具不需要展示包含的物品

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720003613618-ef3d9996-bc29-4ef0-a30f-122fa6323131.png)

利用文字tips的形式弹出一些无法购买的原因

[https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=39-332&t=44Cq5KB4QQ5jpZim-1](https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=39-332&t=44Cq5KB4QQ5jpZim-1)

另有余额不足等其他细节页面可以查看上述figma的商店界面分区。



## 6 配置表
![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720071233451-2c3eb0a3-bfcf-462d-9198-a93b4c4400b3.png)shop表-ShopBase页

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720071246206-1df27eed-3e0f-4c6b-94ac-80250b53a1d3.png)

shop表-ShopItems页

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720071325925-b0d60665-dbcd-4c3e-9fb1-fd075ba33fcf.png)item表新增礼包列

[ItemNew.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1720071355787-d3560696-9472-40f6-bcdf-dac77dbcf3c3.xlsm)

[ShopNew.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1720071355959-d8adbe04-af00-45ce-a2d5-4708c1462fd7.xlsm)

## 7.美术需求


## 8.数值需求






## 9.拓展


