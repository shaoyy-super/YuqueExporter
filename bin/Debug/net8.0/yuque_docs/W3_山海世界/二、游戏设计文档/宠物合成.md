#  一、概述
### 1.1 文档说明
确定NFT宠物与普通宠物之间的合成规则，并加入宠物技能升级等逻辑。



### 1.2 版本管理
[此处为语雀卡片，点击链接查看](https://www.yuque.com/cod5mf/iwqppn/mw0pgr5og1l9fiuz#auzW2)

### 1.3 设计思路
将野外宠物作为消耗品，类似升级材料，技能书，通过消耗宠物形式升级核心NFT宠物，获得寿命/属性提升/通用技能的继承，同时增加玩家野外世界的动力。

## 二 功能介绍
 成长型宠物通过吞噬野生型宠物，获得寿命/属性提升/通用技能的继承。

### 2.1 名词设定
吞噬：合成的包装名词。

野外宠物：非NFT的普通宠物，没有升级和成长的空间。

进化技能：技能升级的包装名词，本质就是消耗材料升级技能。

### 2.2 功能说明：合成入口
1 主线达到一定等级后，玩家才可以解锁合成相关功能。此前合成的UI功能处于灰显状态，

2 城市内存在合成所建筑，合成所在没有解锁前，交互合成所会有文本tips提示功能还未开启。同时在宠物主界面也存在合成入口按钮。按钮点击后，玩家将会被被传送到合成所的门口，玩家仍就需要交互npc开启合成功能界面。

3 合成所开启后，玩家可以交互合成所内npc开启合成功能界面。

### 2.3 合成说明：逻辑详解
#### 2.3.1 合成概述
合成又称吞噬，是将非NFT普通宠物作为材料消耗，从而使得合成对象—NFT宠，获得寿元补充；随机技能获取；资质强化；生产技能强化四类效果。

四类效果获得流程第一步，将会根据宠物价值兑换公式，将用于合成的普通宠物通过公式转化为一定数量价值，再将价值按优先度以及各类权重分配到各项类上。

确定被吞噬宠物的价值。  
野生宠物的可使用寿命X品质对应的系数。

逻辑流程图

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720176599341-8e87cb91-7f9e-45d6-af29-464177859a1f.png)

#### 2.3.2 合成条件与消耗
吞噬者（主宠），必须是成长型宠物，当前阶段下，成长型宠物必定是NFT宠物。

被吞噬者（副宠），必须是寿命不为100的野生型宠物。

只消耗副宠，不额外消耗代币和其他资源。

融合完成后主宠属性更新，副宠物清除。



#### 2.3.3 宠物价值
合成用的普通宠物首先需要确定价值：  
价值= value/50*现寿元  

value就是![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1723187794992-c5e344dc-1648-4d1b-a5d7-95191f2b3279.png)



#### 2.2.4 寿命补充
根据当前主宠的品质，提取系数，合成寿命补足率

将副宠的价值A*补足率，得到主宠可以获得的最大寿命价值。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716781986021-02af8aaa-5451-4d74-a138-0d988b86c086.png)

根据当前主宠物品质对应的寿命价值补充寿命。

寿命到达最大，0岁，100年可用寿命。

如果有不够一年的价值，<font style="color:#DF2A3F;">折算为小数</font>。

剩余价值=寿命补充完毕多余的价值+副宠价值*（1-补足率），进入宠物强化阶段。



#### 2.3.5 资质强化
资质强化价值=剩余价值X资质养成占比

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716781727164-f0c217cf-5f9d-40b9-a555-33ae9d92c57a.png)

根据当前宠物的资质范围，确定提升的资质点数。

提升的资质点数=资质强化价值/提升一点消耗的价值

达到下一阶后需要用下一阶的价值消耗

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716781076411-e78a5ffa-2f21-4753-b98b-e3cc5590e85a.png)

资质分配，根据当前主宠的资质倾向，每项在1-1.5中roll一个随机数*基数，出现的权重即为本次分配权重。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716782371054-40abf6a1-2fba-43f7-9f16-77804cc36e11.png)



#### 2.3.6 工作适应性等级强化
工作适应性提升价值=剩余价值X工作适应性强化占比

每个工作适应性拥有一个工作等级，初始4-5个工作等级。比如，打工/挖矿/采石/掘金

工作适应性等级以总等级作为计算规则，依靠经验值升级，经验值达到后提升到下一等级。

<font style="color:#DF2A3F;"> 当升级获得1点工作技能提升时，以10-（当前工作技能等级-平均技能等级+该技能修正参数）为权重，将工作技能随机分配到一个工作技能提升1级  
</font><font style="color:#DF2A3F;">当前修正参数：打工-2，挖矿类+1，炼金-1，走配置，表中有数值。</font>

<font style="color:#DF2A3F;">make能力（制作宠物球）挂钩炼金lv，等级就取炼金等级</font>

工作技能提升的价值会转化为经验值累计，如果没有达到下一等级，会留在经验槽中。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716788067323-600bdbc7-2695-47a6-9a48-a168a3041654.png)

#### 2.3.7 通用技能
合成会改变宠物通用技能的种类，和增加技能。

通用技能的价值体现在技能数量上，单个技能的差异不进入价值体系的计算规则。

宠物在合成时，优先计算是否能获得新技能。

技能价值=剩余价值X技能分配占比

增加技能概率=技能价值/第n个技能开技能价值

判定成功会将副宠物的某一个技能添加到主宠身上。

进入技能获取阶段，将主宠物和副宠的全部通用技能打包生成一个总的技能池。

根据主宠技能数量，从中抽出对应数量的技能。

已升级的技能是升级后的技能等级。

抽出之后按通用技能顺序排序，<font style="color:#DF2A3F;">排序可以考虑优先将之前有的技能按之前得顺序不变，有技能改变得按顺序在后面排列。</font>

在操作界面设置一个锁定按钮，如果勾选按钮，本次操作将不会替换已有技能，只会出现新增技能，如果不勾选，将有可能会有技能被替换。<font style="color:#DF2A3F;">冲突技能，如果有需要2选1，没用冲突的情况下无需考虑。</font>

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716881489990-b5ceed11-8188-498c-a9c1-2f8a7ee26c91.png)



#### 2.3.8 融合预览
寿命属性是可以通过计算预览出来固定结果的

资质属性显示最低资质-最高资质的范围

最低资质理论上就是当前资质，最高资质是所有属性点分配到该资质的范围。

技能为两个宠物技能和的技能池预览，相同的技能相当于1个技能。



### 2.4 功能说明：升技入口
功能开启：升阶的功能开启与合成开启相同，升阶因为使用频率较低，放入合成主界面，合成按钮旁边。

### 2.5 升阶说明：逻辑详解
玩家可以消耗图书馆产出相关技能升阶材料升阶NFT宠物的通用技能。目前暂定给是技能需要只需要1种材料与货币，暂未确定是每个技能都有相对应的材料还是将技能分类，每类对应一种材料。

材料与货币的具体数值，消耗曲线后续补充。

升阶技能后，技能名称，效果，数值都会改变。玩家在升阶界面可以查看到下一阶的相关信息以及当阶的所需升级材料和货币。

升阶技能为固定路径，不会出现升阶后随机抽选技能。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720417733059-9ab7981d-9ca8-4f2b-8801-1955da80147c.png)

当材料不足时，材料图标灰显，确认进阶会弹出缺少材料。此处的材料图标可以点击后呼出道具详情界面， 从详情界面获得获取途径。











## 三 界面说明
#### 3.1功能主界面
点击宠物槽位弹出宠物选择界面，主宠和副宠显示相关的属性和技能信息

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720421735129-e32d51e0-c13f-43ff-9dad-daf53b029ebe.png)

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720421757158-2a99372c-e88f-46f5-a872-6335c486cc0e.png)

[https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=2425-9696&t=TxMwYV4ekCIc7NW0-1](https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=2425-9696&t=TxMwYV4ekCIc7NW0-1)

#### 3.2宠物选择


![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1716878428486-d43026f4-2b0a-4706-9aa0-a128c3a85d89.png)

主宠的列表中只会有有寿命的，且可以进行合成的NFT宠物。

副宠的列表中只会有有寿命的，且可以进行合成的野生宠物。

列表排序优先按品质排序，其次按默认表格顺序排序。存在相关的筛选器。

#### 3.3合成预览
合成之前可以预览结果范围

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720421973026-e9dd11fa-0111-49ff-983b-9839c48ee376.png)

#### 3.4合成结果
点击合成后经过动画表现之后弹出生成的宠物界面。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720421983061-163568ab-7ab3-46d5-a398-c63e702962af.png)

3.5 进阶界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720422042521-c4c60b53-4d0b-4656-b164-e6289b374165.png)

需要先选择进阶的宠物。（玩家可以从另外一个入口-宠物详情界面-技能界面进入升技界面，从此入口进入无需再选择宠物和技能。）

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720422079803-59e28106-e171-4a4f-b6b7-70eabf1d17ae.png)选项里只会出现NFT宠物，技能只会出现通用技能。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720691364211-0bf0e4d5-4c17-488e-9010-e53bd21a5f65.png)选中卡牌技能后，显示当阶需要的材料数量，在材料满足后，可进阶，目前暂定现在升级只能提升1级。

技能升级到满级时，无法再进行升阶操作。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1720426373186-9317e471-5679-4437-be7f-83aa6ae398aa.png)





## <font style="color:rgb(38, 38, 38);">四、配置表说明（必备）</font>
[Aptitude.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1723087944875-581b164c-58f1-4329-9b9e-2b2a92a20181.xlsm)

[Synthesis.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/45603655/1723088141709-90a4eb2a-ed7c-433d-9f93-a81b462c57dc.xlsm)

## <font style="color:rgb(38, 38, 38);">五、功能需求清单  
</font><font style="color:rgb(38, 38, 38);">程序实现功能此处进行汇总，包含数据统计和GM指令需求  
</font>


### <font style="color:rgb(38, 38, 38);">六、美术需求清单（必备）  
</font><font style="color:rgb(38, 38, 38);">6.1 2D需求</font>
### <font style="color:rgb(38, 38, 38);">6.2 界面需求</font>
### <font style="color:rgb(38, 38, 38);">6.3 动效需求  
  
</font><font style="color:rgb(38, 38, 38);">6.4 场景需求  
</font>
### <font style="color:rgb(38, 38, 38);">6.5 动态物件需求  
</font>
## <font style="color:rgb(38, 38, 38);">六、string需求  
</font>
| **<font style="color:white;">类别</font>**<font style="color:rgb(38, 38, 38);">   </font> | **<font style="color:white;">目标操作</font>**<font style="color:rgb(38, 38, 38);">   </font> | **<font style="color:white;">触发条件</font>**<font style="color:rgb(38, 38, 38);">   </font> | **<font style="color:white;">提示形式</font>**<font style="color:rgb(38, 38, 38);">   </font> | **<font style="color:white;">提示string</font>**<font style="color:rgb(38, 38, 38);">   </font> | **<font style="color:white;">stringID</font>**<font style="color:rgb(38, 38, 38);">   </font> |
| --- | --- | --- | --- | --- | --- |
| <font style="color:black;">登录流程</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">启动游戏</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">加载服务器列表失败</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">加载服务器列表失败，请重新尝试!</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">启动游戏</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">客户端版本不匹配</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">客户端版本号不匹配!</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">启动游戏</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">找不到渠道号</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">找不到渠道号!</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">启动游戏</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">加载配置文件失败</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">加载文件失败,请尝试重新下载客户端!</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">游戏更新</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">无法更新</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定取消框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">不能更新资源，是否重试?</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">登录服务器</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">服务器爆满</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">当前服务器爆满！请选择其它服务器。</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">登录服务器</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">服务器维护中</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">该服务器紧急维护中，请稍后尝试登录！</font><font style="color:rgb(38, 38, 38);">   </font> | |
| <font style="color:black;">更新流程</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">x</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">连接服务器</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">文字</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">连接服务器中…</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">x</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">获取更新信息</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">文字</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">获取更新信息中…</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">x</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">大于1m的补丁更新，显示进度条</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">文字</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">更新配置文件（xxMB/xxMB）</font><font style="color:rgb(38, 38, 38);">   </font> | |
| | <font style="color:black;">x</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">更新后的配置加载，显示进度条</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">文字</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">资源加载中…</font><font style="color:rgb(38, 38, 38);">   </font> | |
| <font style="color:black;">公告流程</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">点击公告按钮</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">没有配置公告内容</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">错误文字</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">当前没有公告内容。</font><font style="color:rgb(38, 38, 38);">   </font> | |
| <font style="color:black;">特殊流程</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">点击登录</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">当前选择登录服务器关闭</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">确定框</font><font style="color:rgb(38, 38, 38);">   </font> | <font style="color:black;">当前登录服务器没有开启选择其它的登录服务器。</font><font style="color:rgb(38, 38, 38);">   </font> | |


<font style="color:rgb(38, 38, 38);">  
</font><font style="color:rgb(38, 38, 38);">原始Excel文档</font><font style="color:rgb(38, 38, 38);">  
</font>

系统策划案范例.xlsx(1 MB)

<font style="color:rgb(38, 38, 38);">  
</font>

  
 

### 








