# 一、概述
##   
1.1 文档说明
●本文档说明邮件系统相关的功能需求和界面设计，同时制作一些后台邮件管理等工具。

+ 第一版邮件系统只制作基础版邮件框架，后续若有更多邮件需求，例如图片邮件，网址内容邮件再根据后续设定后续扩展。

  
1.2 文档维护  


| <font style="color:white;">版本</font>    | <font style="color:white;">时间</font>    | | <font style="color:white;">负责人</font>    | <font style="color:white;">修改内容</font>    |
| --- | --- | --- | --- | --- |
| <font style="color:black;">v1.0</font>    | <font style="color:black;">2024/07/16</font> | | 王灼民    | <font style="color:black;">第一版基础邮件系统文档创建与内容设定</font>    |


## 1.3 设计思路
便于用户查看游戏内的信息，并作为道具发放的载体。



## 二 功能说明：
### 2.0 功能概述
游戏内其他的功能，与后台服务可以通过邮件功能向玩法发送邮件，邮件内可携带各类道具，礼包等物品。同时邮件本身具备储存，删除等功能。

## 功能逻辑图
![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721213328395-4628acab-215a-4d26-bb03-23d83db006b2.png)

### 2.1 功能开启
邮箱功能会有对应的开启节点，需要玩家到达开启条件。暂定未玩家达到固定等级。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721205185083-1c8a3490-b9ab-4938-a86b-9093931c884d.png)邮箱的入口

### 2.2 邮件
邮件分为文本邮件与附件邮件。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721205397975-1422a64c-a945-4243-8933-726b95c23593.png)

1 文本邮件只包含内容文本。内容文本包括标题，正文。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721208191657-27de8406-8543-48ce-8724-b63a7355b8eb.png)

2 附件邮件包含内容本文与携带道具栏两部分。内容文本包括标题，正文。携带道具包括道具与礼包类道具。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721205454424-0a80d055-c57d-4b98-88a9-6a493e1d2ad6.png)

3 携带道具最多可塞入xx格物品，每格物品可以复数，例如一个格子上是10个宠物球。

4 所有邮件内道具领取后，直接进入背包中。极限情况下，若是背包无法存入，则显示领取失败，请清理背包。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721208225442-79554dd7-ef7e-40f0-ae53-d8990d2734fc.png)

5 未打开邮件：可在邮箱界面查看邮件相关的标题，剩余自动删除时间，以及邮件发送时间。

6 打开的邮件：可以查看邮件的内容标题，邮件内容，剩余自动删除时间，邮件内物品（包含道具与礼包），领取按钮，删除按钮，服务器发送时间。

7 邮件本身拥有邮件id，对于发送到玩家邮箱内邮件有唯一id。

8 新邮件收到时，在主界面存在弹出式的邮件通知弹窗。



### 2.3 邮件读取/领取/删除 
1 点击邮箱内邮件可以打开邮件，查看邮件相关内容和道具栏道具。邮件转为已读状态，去除小红点。

2 在打开的邮件界面可以查看道具栏道具，同时点击领取按钮，直接领取道具。备注：领取操作是一次性的，不会存在领取一半，只领取一个的情况。

4 主动删除邮件只能删除已读邮件，与已读已领取邮件。

5 邮箱界面配置有一键领取与一键删除按钮。一键领取可以将所有未领取邮件内道具领取。一键删除可将全部已读已领取邮件删除。

一键领取只有邮箱中存在附件道具未领取的邮件才可以点击，若全部附件道具都已领取，则一键领取按钮无法点击，处于灰显状态。

6 领取邮箱内道具会有相对应的文本弹窗告知玩家。

7 在邮箱内存在未读，已读未领取的邮箱时，邮箱入口按钮会有小红点提示玩家。以及上层界面主界面的人物属性框人物头像这里会有带着红点的邮箱图案的角标。

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721210765475-9dcc35bb-7332-4bc1-ad09-016e2024477e.png)

8 已经领取的附件邮箱，已领取的道具会有表示已领取的标记。

### 2.4 邮件储存与排序
1 邮箱内邮件在玩家未删除的情况下，可存储有一定时间，时间过后自动删除（附件邮件若附件道具未领取，则自动领取发送到玩家背包内，若背包内无法存入，则暂不删除，剩余时间文本改为即将删除）。

2 邮箱内邮件按照未读/已读未领取→已读顺序排序，并在此基础上按照发送时间从新→旧进行排序。  
3 邮箱内邮件存在上限，暂定200封。超过200封后，则自动删除部分邮件，删除顺序为：已读/已读已领取→未读/已读未领取排序，并在此基础上叠加旧→新排序。  
4 邮件存在时间期限，暂定为30天，超过期限邮件过期自动删除。

###  2.5 邮件发送、
1 邮件的发送分为游戏内系统发送与后台服务发送。

2 邮件内系统发送，其他系统可以通过设定功能进行邮件发送，例如玩家等级达到xx级，得到激励邮件。此邮件可以发送文本邮件和附件邮件。

3 后台发送：由运营后台经过编辑确认发送，发送邮件可以一次发送多个id邮件，也可单独一封邮件。发送模式暂时分为两个维度，一个是对发送对象，一个是发送时间。两个模式可以叠加，例如一个定时的全服发送。

   发送模式：1 全服发送：对全服玩家指定发送指定id邮件。2 指定玩家发送：对指定id玩家发送指定id邮件。

   时间模式：1 定时发送：对指定id邮件，设置好定时发送状态。2 开服发送：对指定id邮件，设置未开服发送。                     3 立刻发送。

   特殊备注：后续看需求补充更多的邮箱发送条件，例如指定等级以上的玩家才可以接受。

4 后台邮件权限：1 全服范围删除指定id邮件，若邮件已经被领取道具，则删除对应道具。2 根据玩家id，删除此玩家邮箱内某封邮件。删除邮件时，若邮件已经被领取道具，则删除对应道具。



## 三、界面说明：
1邮箱界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721205185083-1c8a3490-b9ab-4938-a86b-9093931c884d.png)

邮箱入口界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721212782173-880c9833-7ced-48df-ae73-1ab3dd5558ed.png)

邮箱邮件主界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721208914845-7ee0ef4d-36b1-4701-ba39-324155d232dc.png)

文本邮件界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721208963975-5248b30d-ed74-4b40-8795-55e2efefd9d4.png)附件邮件界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721209002377-e6a02eaf-8bf7-4594-9bee-970c74643bfa.png)

附件邮件领取后界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721209023252-d3d2bf1f-0fc5-45f4-8b09-9afae55fc0f3.png)

获得道具界面

![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721209107760-98d350e0-8287-4314-ad79-2fca79269415.png)

一键删除邮件按钮



  
**3.2 界面说明**  
[https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=39-332&t=HoqYcYaCg9ajjPcU-1](https://www.figma.com/design/2c1LfmuZHJ3PghpYq1Eywo/%E5%B1%B1%E6%B5%B7%E4%B8%96%E7%95%8C?node-id=39-332&t=HoqYcYaCg9ajjPcU-1)



  
**四、配置表说明**

[Email.xlsx](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsx/45603655/1721270198773-5c8a5179-541e-433b-b637-0888cd9a9a92.xlsx)

  
**五、功能需求清单**



**六、美术需求清单**  
**6.1 界面需求**

| **<font style="color:white;">编号</font>** | **<font style="color:white;">分类</font>** | **<font style="color:white;">名称</font>** | **<font style="color:white;">大小-美术</font>** | **<font style="color:white;">资源命名</font>** | | **<font style="color:white;">美术需求</font>** | | | **<font style="color:white;">特殊说明（逻辑说明）-预留</font>** | **<font style="color:white;">参考</font>** | **<font style="color:white;">成品缩略图</font>** |
| :---: | :---: | --- | --- | :---: | --- | --- | --- | --- | --- | --- | --- |
| <font style="color:black;">1</font> | <font style="color:black;">邮件界面</font> | / |  | <font style="color:black;"></font> | | 根据邮件界面的相关设定与功能需求制作对应设计。 | | | 1 界面内存在较多红点显示邮件状态等<br/>2 界面主要包含邮箱界面，以及点开邮件后对应的邮件显示界面。<br/>3 邮件分为纯文本邮件和携带道具的附件邮件。 |  |  |
| <font style="color:black;">2</font> | <font style="color:black;">获得道具界面</font> | / |  | <font style="color:black;"></font> | | 获得道具时候弹出的获取道具界面 | | | 1 道具领取时，有对应的道具图标弹出界面。<br/>2 目前暂时的是全屏形式的弹出界面，美术可以自己尝试一些横幅性质的弹窗。 |  |  |


### 
### 6.2 动效需求
| <font style="color:#FFFFFF;">编号</font> | <font style="color:#FFFFFF;">动效名称</font> | | | <font style="color:#FFFFFF;">动效功能需求</font> | | <font style="color:#FFFFFF;">动效美术需求</font> | <font style="color:#FFFFFF;">游戏内需要做动效的组件截图</font> | <font style="color:#FFFFFF;">参考链接</font> |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 1  | 小红点角标<br/> | | |  | | 在邮件未读的情况下，有小红点标记未读。<br/>可以效果图试下小红点是否需要闪烁还是静止就可以。 | ![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721273085479-06b9ee54-387d-42ec-9698-d9c93067be10.png) |  |  |
| 2 | 邮件闪烁角标<br/> | | | 邮件图标有个轻微的动效闪烁<br/> | | 在收到新邮件的情况下，人物的图标上会有邮件闪烁的角标<br/>可以效果图看下邮件闪烁角标是否需要闪烁，还是静止就可以<br/><br/> | ![](https://cdn.nlark.com/yuque/0/2024/png/45603655/1721273065475-3cbedd7e-83a4-4961-80ab-97ff4d89429f.png) |  |  |


  
**七、String需求**  




若有收获，就点个赞吧

  
 

