

# **一、概述**
## **1.1 文档说明**
捕鱼流水、投注每日排行榜功能，

附带玩家自己boss捕鱼记录  


## **1.2 文档维护**
| <font style="color:white;">版本</font>    | <font style="color:white;">时间</font>    | <font style="color:white;">负责人</font>    | <font style="color:white;">修改内容</font>    |
| --- | --- | --- | --- |
| v1.0    | 2025/01/7    | 姚仕达    | 文档创建    |
| | | | |
| | | | |


## **1.3 设计思路**
a、玩家在游戏中投注和流水会按每日一次的频率进行一次排名，按排名发出一定的排名奖励  
b、玩家也可以在本功能内看到自己近1个月的前100个boss击杀的记录  


## **1.4 系统框架图**


![画板](https://cdn.nlark.com/yuque/0/2025/jpeg/43733777/1736501482694-334d8c89-99b1-4ef1-8e4a-f2f8e579843d.jpeg)





# **二、功能说明**
## **2.1 功能设定**
### 2.1.2 排行榜
a、功能内分为2种排行榜，各自单独排序结算。都以一天为单位，每日重置

b、排行榜内容目前包括：玩家赢得的鱼分净值（赢分榜）、玩家每日的花费的投注数量（投注榜）。

c、每日根据玩家的排名发放奖励，奖励为游戏内鲨鱼币。

d、需要制作一些ai玩家记录来控制排行榜的上榜分数线。预先配置好一些在一定范围内随机的ai玩家条目，每隔一段时间投放一批。投放后和现有的玩家一起排名。

d-1、需要配置数条ai玩家记录。ai玩家的赢分/投注数会在阶梯性的数个范围内随机，ai玩家的id和姓名可在已有的姓名库内随机（包括有概率出现隐藏状态，模拟真实玩家行为），并根据玩家的赢分范围高低随机玩家的vip等级。

d-2、已进入当日记录的ai玩家数据，有概率每隔一段时间增加随机数值。

e、奖励在每日5点结算时以邮件的方式发放。结算后即可开始第2日的排行榜记录。

e-1、分为今日和昨日2榜。结算时间后今日榜有半小时的发放奖励时间。昨日榜直接更新为今日榜数据。

f、2个排行榜中也显示玩家自己当前相关的数据记录。不上榜也显示，方便玩家查看。



### 2.1.2 玩家记录
a、记录玩家30天周期的前100条捕鱼记录。方便玩家查看





## **2.2 功能逻辑**
### 2.2.1 排行榜逻辑
a、需要通用的排行榜功能和配置表、并有相关的参数表，本功能中涉及2+4个不同的排行榜，表中可配置排行榜中需要记录的参数，并配置以哪个数据进行排名。（需要一张额外的数据类型参数表）

a-1、赢分排行榜包括：名次、玩家姓名+vip等级、赢分数、奖励

a-2、投注排行榜包括：名次、玩家姓名+vip等级、投注数、奖励

a-3、大奖模式4个参数：刮刮卡模式流水、渔潮模式流水、老虎机流水、海神宝藏流水

b、每个排行榜都需要可配置自己的开启条件，走通用的condition逻辑。配0或者空为默认始终开启。只有在玩家开启了排行榜后，玩家的数据才记入排行榜中。

c、需要可配置排行榜排行名次上线。名次外的玩家不显示在排行榜中

d、可配置每个排行榜的结算时长，0为不结算单纯记录。配置时长走Schedule逻辑，可配置一个仅供展示的奖励发放冷却期时长，在排行榜结算时间后，界面进入冷却期时。

e、当日的排行榜每隔10分钟刷新一次数据，昨日排行榜只在结算时间更新为当日数据。



### 2.2.2 排行奖励
a、排行榜奖励在每日结算时结算，按玩家名次发放。通过；配置的邮件id发放奖励，邮件中需要显示玩家的奖励名词数据

b、需要可配置排行榜奖励，包括：奖励id、奖励数量、奖励名次。后续需要配置复数奖励可配置成礼包



### 2.2.3 排行ai
#### 2.2.3.1 基础ai数据
a、根据表格，产成一串今日前50的玩家的ai数据。有一张ai总表，表中可以调用不同的排行榜参数，通过排行榜的参数配置去生成对应的数据。

a-1、可配置每条ai数据生成几次，每一次代表一个ai玩家

b、可配置ai玩家的基础投注数和赢分数，并各有一个百分比的浮动范围。

c、ai玩家的基础数据在生成后，会生成一个当日数据的变化随机池。包括玩家今日数据变化的次数、2次变化的间隔、每次变化的百分比。

d、在数据生成时先获取本条ai玩家今日的数据变动次数、然后生成每次变化的浮动值和变化的间隔。

e、从玩家id库中随机给每个ai玩家赋昵称，纯随机即可

f、ai玩家的昵称和投注/赢分数值，都有概率处于隐藏状态。2个参数各自随机

g、当所有玩家的数据生成完成后，按排行榜规则排序。最后生成当时的排行数据



#### 2.2.3.2 真实玩家数据变量
a、储存真实玩家的每日数据，包括玩家第一次进榜的时间/数值，最终排名，进榜数据，此玩家当日数据的变化点以及变化数值。以玩家最终的排名数据进行标记分类。

b、按表格中配置的最终名次区间和区间内需要的数量，把对应最终排名的玩家的数据放入随机池中。

b-1、生成数据时，取玩家的基础数据（赢分/投注）并给与一个百分比的浮动。随后按玩家后续的数据结构给与变化表现。完全模拟玩家之后的数值变化。

c、最后从玩家id库中随机给每个ai玩家赋昵称，纯随机即可

d、按该玩家对自己数据的隐藏操作隐藏数据。包括隐藏的时间、隐藏的参数

e、最后按该玩家当天第一次入榜的时间，把该玩家的数据加入排行榜排序中。和基础ai数据一起做排名。





### 2.2.4 玩家捕鱼记录
a、记录玩家在游戏中所有boss捕捉的记录，任意渔场，只记录1个月内的最后100条记录。

b、记录数据包括：捕捉到的时间，boss的名字，鱼倍，炮倍以及最终获得的金币数量。

# 三、界面说明
## 3.1 赢分达人榜
![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736410607700-cb2941b2-adeb-40ee-bb00-0bb08a1b26d2.png)

a、打开达人榜后默认显示第一个页签

b、最上放为排行榜banner，从左到右显示榜名、奖金池数量（数值显示为表内奖金总额，不配置不显示这行字）、今日倒计时（24h为1轮）

c、下面为排行榜列表，分今日和昨日2个页切，榜中分别显示名次标签（前10可以又特殊标识）、玩家vip等级+名字、玩家今日赢分、玩家可以获得的奖励金额。列表可滑动，一共显示前50条记录。

c-1、表结构中可配置不同的类型的数据的构成方式，有一个单独的数据定义表格。每个数据都可以配置是否允许玩家隐藏记录，当玩家进入榜单后可隐藏的数据后面多一个小眼睛按钮，单击后切换造型标识隐藏该数据。隐藏后的数据在排行榜展示中显示为一个横杠 - 。在榜单区域数据对其他玩家不可见，自己的记录上展示状态不变。

c-2、前10记录不可藏。点击后会提示玩家，前10名不可隐藏记录

d、最下面为玩家自己的当前状态，如果玩家未到前50，则名次显示未上榜、奖励显示暂无奖励。赢分显示玩家目前的分数。如果玩家达到50名内，则和上面显示一直

e、分为2种子页签，分别显示今日当前的排行状态以及昨天的排行记录。显示方式相同。今日会随着当前的数据刷新，昨日停止于结算时间。

e-1、今日排行在5点结束，结束时间后的半小时为冷却期，显示文本提示玩家。玩家在此期间的纪录也会结算在第2天的记录中。

e-2、在5点结束时，昨日排行直接刷新为新一天的记录。

e-3、冷却期间，倒计时显示为当天的排行榜冠军名字+赢分/投注数。冷却结束后切换为23：30开始倒计时。

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736491374376-56277091-8cad-47bb-98d4-b3ace44e170c.png)

## 3.2 投注达人榜
![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736410623593-bf5f3798-dd66-4a15-bc5b-f95e792cf865.png)

a、界面逻辑和赢分榜一样，统计的数据变为玩家投注（开炮）的钱数





## 3.3 高光时刻
![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736324722082-5b4364a3-f8d5-41df-b75d-ad48d2c6a34f.png)

a、最上方为记录类型标注

b、第一条为本周的最高boss记录，按击杀boss的倍率排序。主要显示击杀时间、首领名称、连击数、击杀时的炮倍和最终获得的金币。

c、下面为玩家的boss击杀记录，记录玩家本月100条内的boss记录。没有记录时显示为空，并有文本提示

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736326323984-e41a951c-d643-42e3-b6bb-d02cda733752.png)





## 3.4 一些竞品参考：
[https://rollbit.com/races/daily](https://rollbit.com/races/daily)

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736503504150-5ed99ebb-f00a-42ac-b259-5f18897c092a.png)

鱼乐达人

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736503528332-200ed393-7d0d-470b-9ab8-143f26a477a9.png)

捕鱼达人

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736503833027-340a3c92-2982-4f35-b592-6ddab1fb528f.png)

# <font style="color:#000000;">四、配置表说明</font>
排行榜表

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736499814263-5ff25943-2a3b-4dfc-be6b-c6db8aca8412.png)



排行榜参数表

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736506622170-a9533690-c642-43a6-a6a6-ffe7553a7fc4.png)



ai玩家表

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736506634407-eb5189f0-133c-4ac7-8539-448b8bdd0e37.png)



真实玩家镜像数据表

![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736500821739-a7b2d500-9957-4696-93cf-a6be707e00a3.png)

# 五、美术需求清单
## 5.1 2d需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">名称</font>** | **<font style="color:white;">描述</font>** | **<font style="color:white;">使用位置</font>** |
| --- | --- | --- | --- |
| 1 | 排行榜入口图标 | 图标 | 主界面 |
| 2 | 赢分/投注排行榜banner | 见下方参考，一个基础的功能banner | 排行榜 |


![](https://cdn.nlark.com/yuque/0/2025/png/43733777/1736501175134-1857cb8f-4a59-46b8-b505-30aede06bd0c.png)

## 5.2 界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | **<font style="color:white;">性质</font>** |
| --- | --- | --- |
| 1 | 赢分排行榜界面 | 一级界面 |
| 2 | 投注排行榜界面 | 一级界面 |
| 3 | 高光时刻 | 一级界面 |






# 六、string需求
| **<font style="color:white;">类别</font>**<font style="color:rgb(38, 38, 38);"></font> | **<font style="color:white;">目标操作</font>**<font style="color:rgb(38, 38, 38);"></font> | **<font style="color:white;">触发条件</font>**<font style="color:rgb(38, 38, 38);"></font> | **<font style="color:white;">提示形式</font>**<font style="color:rgb(38, 38, 38);"></font> | **<font style="color:white;">提示string</font>**<font style="color:rgb(38, 38, 38);"></font> |
| --- | --- | --- | --- | --- |
|  |  |  |  |  |
|  |  |  |  |  |


<font style="color:rgb(38, 38, 38);"></font>

