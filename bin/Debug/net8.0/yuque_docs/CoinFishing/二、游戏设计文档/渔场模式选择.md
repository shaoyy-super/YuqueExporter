# 一、概述
## 1.1 功能说明
玩家在进入渔场之前和在渔场中时，可以选择房间的特殊模式。

模式房间中在鱼炮命中鱼后会进入模式判定过程，子弹落入不同的模式押注。

## 1.2 文档维护
[此处为语雀卡片，点击链接查看](https://www.yuque.com/ttk5k0/manpny/bha38errdqxo148h#mDTTJ)

## 1.3 设计思路
### 流程新增:模式判断
子弹碰到鱼（各种投注物）时，根据模式命中权重。判定进入本次子弹投注的模式。

包括：基础捕鱼、大奖老虎机模式、刮刮乐模式、福袋模式、彩票模式等。 

规则使用通用的规则，在不同的房间中配置不同的权重。模式 



## 1.4 系统框架图
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734083279217-dc399b20-83e7-4c02-b72c-f12e02907ed0.png)

# 二、功能说明
## 2.1 名词设定
暂无



## 2.2 功能开启
功能开启配置开启条件，未开启功能时不显示模式房间入口，和游戏内模式更换入口。



## 2.3 模式选择
2.3.1模式房间设定

玩家每次进入房间前会弹出一个模式房间的选择界面。

默认设定：只有一种模式的房间不会弹这个界面。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086537663-076823cf-5390-41a5-bb8d-bef757432c02.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086506688-ed75a053-84ae-43f8-b9ab-a054019dbb59.png)



2.3.2进入房间

进入房间后通用按钮中会有相应的调整。玩家可以在里面切模式。

如果模式中的其他ui或者特效显示，会在房间中激活。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086729900-1e8ac14f-e5dd-4d2e-aa62-ece531c9de39.png)

2.3.3模式进入流程

子弹碰撞后，根据权重，有部分子弹会进入其他模式的押注中。根据对应模式的玩法反馈结果。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086971994-e53f6bee-ba49-45ab-99b1-854eb878c142.png)



2.3.4权重说明

表中的权重是初始配置。在对应模式的玩法中，会有前置条件动态改变房间中的模式权重。

举栗：彩票中累计的碗满了以后，权重会从0变为100.



# 三、界面说明
## 3.1房间选择界面
1个不显示这个界面。

2、3个固定位置。

＞3个按三个位置左右滑动。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086506688-ed75a053-84ae-43f8-b9ab-a054019dbb59.png)





## 3.2通用按钮修改。
图鉴移到下面功能区

换房间单独一列，指更换到同属性的房间中。

![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086729900-1e8ac14f-e5dd-4d2e-aa62-ece531c9de39.png)



## 3.3房间icon
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734087340318-47a79866-15ac-402b-827b-1f96ef46386b.png)

普通模式

大奖模式

鱼潮模式





# 四、配置表说明
![](https://cdn.nlark.com/yuque/0/2024/png/43733765/1734086971994-e53f6bee-ba49-45ab-99b1-854eb878c142.png)



---------------------------------------------------

# 五、功能需求清单
程序实现功能此处进行汇总，包含数据统计和GM指令需求

| **<font style="color:white;">编号</font>** | **<font style="color:white;">分类</font>** | **<font style="color:white;">优先级</font>** | **<font style="color:white;">需求描述</font>** | **<font style="color:white;">自检</font>** | **<font style="color:white;">确认</font>** | **<font style="color:white;">备注</font>** |
| :---: | :---: | :---: | --- | :---: | :---: | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">登录</font> | <font style="color:black;">1</font> | <font style="color:black;">版本号显示</font> | <font style="color:black;">1</font> | <font style="color:black;">0</font> | |
| <font style="color:black;">2</font> | | <font style="color:black;">1</font> | <font style="color:black;">清除缓存</font> | <font style="color:black;">1</font> | <font style="color:black;">1</font> | |
| <font style="color:black;">3</font> | | <font style="color:black;">1</font> | <font style="color:black;">通过配置修改登录闪屏</font> | | | |
| <font style="color:black;">4</font> | | <font style="color:black;">1</font> | <font style="color:black;">通过配置修改登录logo</font> | | | |
| <font style="color:black;">5</font> | | <font style="color:black;">2</font> | <font style="color:black;">通过服务器更改客户端配置版本和语言版本</font> | | | |
| <font style="color:black;">6</font> | | <font style="color:black;">3</font> | <font style="color:black;">区服选择</font> | | | |
| <font style="color:black;">7</font> | | <font style="color:black;">4</font> | <font style="color:black;">区服选择列表推荐服务器</font> | | | |
| <font style="color:black;">8</font> | | <font style="color:black;">1</font> | <font style="color:black;">区服选择列表最后登录服务器</font> | | | |
| <font style="color:black;">9</font> | | <font style="color:black;">1</font> | <font style="color:black;">服务器状态：新、火爆、爆满、维护、排队</font> | | | |
| <font style="color:black;">10</font> | | <font style="color:black;">1</font> | <font style="color:black;">登录排队</font> | | | |
| <font style="color:black;">11</font> | | <font style="color:black;">1</font> | <font style="color:black;">推荐服务器</font> | | | |
| <font style="color:black;">12</font> | | <font style="color:black;">1</font> | <font style="color:black;">记住最后登录的服务器</font> | | | |
| <font style="color:black;">13</font> | | <font style="color:black;">1</font> | <font style="color:black;">清除缓存</font> | | | |
| <font style="color:black;">14</font> | | <font style="color:black;">1</font> | <font style="color:black;">登录重连</font> | | | |
| <font style="color:black;">15</font> | | <font style="color:black;">1</font> | <font style="color:black;">版本号显示</font> | | | |
| <font style="color:black;">16</font> | | <font style="color:black;">1</font> | <font style="color:black;">选择登录服务器流程</font> | | | |
| <font style="color:black;">17</font> | <font style="color:black;">注册</font> | <font style="color:black;">1</font> | <font style="color:black;">账号注册流程</font> | | | |
| <font style="color:black;">18</font> | <font style="color:black;">排队</font> | <font style="color:black;">1</font> | <font style="color:black;">排队登录流程</font> | | | |
| <font style="color:black;">19</font> | | <font style="color:black;">1</font> | <font style="color:black;">动态更新排队人数</font> | | | |
| <font style="color:black;">20</font> | | <font style="color:black;">1</font> | <font style="color:black;">排队可进入游戏后直接进入游戏</font> | | | |
| <font style="color:black;">21</font> | <font style="color:black;">更新</font> | <font style="color:black;">1</font> | <font style="color:black;">没有提示框的补丁更新流程</font> | | | |
| <font style="color:black;">22</font> | | <font style="color:black;">1</font> | <font style="color:black;">有提示框的补丁更新流程</font> | | | |
| <font style="color:black;">23</font> | | <font style="color:black;">1</font> | <font style="color:black;">强制更新流程</font> | | | |
| <font style="color:black;">24</font> | <font style="color:black;">公告</font> | <font style="color:black;">1</font> | <font style="color:black;">维护公告</font> | | | |
| <font style="color:black;">25</font> | | <font style="color:black;">1</font> | <font style="color:black;">登录公告</font> | | | |
| <font style="color:black;">26</font> | | <font style="color:black;">1</font> | <font style="color:black;">强更公告</font> | | | |
| <font style="color:black;">27</font> | | <font style="color:black;">1</font> | <font style="color:black;">每次开启公告界面刷新公告状态</font> | | | |
| <font style="color:black;">28</font> | <font style="color:black;">更新</font> | <font style="color:black;">1</font> | <font style="color:black;">没有提示框的补丁更新流程</font> | | | |
| <font style="color:black;">29</font> | | <font style="color:black;">1</font> | <font style="color:black;">有提示框的补丁更新流程</font> | | | |
| <font style="color:black;">30</font> | | <font style="color:black;">1</font> | <font style="color:black;">强制更新流程</font> | | | |
| <font style="color:black;">31</font> | <font style="color:red;">数据统计</font> | <font style="color:black;">1</font> | <font style="color:black;">实现数据统计需求</font> | | | |
| <font style="color:black;">32</font> | | <font style="color:black;">1</font> | <font style="color:black;">实现GM指令需求</font> | | | |


# 六、美术需求清单（必备）
### 6.1 2D需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">分类</font>** | **<font style="color:white;">名称</font>** | **<font style="color:white;">大小-美术</font>** | **<font style="color:white;">资源命名</font>** | | **<font style="color:white;">美术需求</font>** | | | **<font style="color:white;">特殊说明（逻辑说明）-预留</font>** | **<font style="color:white;">参考</font>** | **<font style="color:white;">成品缩略图</font>** |
| :---: | :---: | :---: | :---: | :---: | --- | --- | --- | --- | :---: | :---: | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">装备</font> | <font style="color:black;">木槌</font> | | <font style="color:black;">Icon_xxx_xxx_01</font> | | <font style="color:black;">装备图标，残破的木锤</font> | | | | | |
| <font style="color:black;">2</font> | <font style="color:black;">功能图标</font> | <font style="color:black;">背包</font> | | <font style="color:black;">Icon_xxx_xxx_01</font> | | <font style="color:black;">主界面功能图标，皮质背包</font> | | | | | |


### 6.2 界面需求
<font style="color:#DF2A3F;">界面性质包括：一级界面、二级界面、弹框界面、弹出框</font>

| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | | | **<font style="color:white;">性质</font>** |
| :---: | --- | --- | --- | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">更新界面</font> | | | <font style="color:black;">二级界面</font> |
| <font style="color:black;">2</font> | <font style="color:black;">登录界面</font> | | | <font style="color:black;">一级界面</font> |
| <font style="color:black;">3</font> | <font style="color:black;">开发登录界面</font> | | | <font style="color:black;">弹出框</font> |
| <font style="color:black;">4</font> | <font style="color:black;">区服登录界面</font> | | | <font style="color:black;">弹出框</font> |
| <font style="color:black;">5</font> | <font style="color:black;">选服界面</font> | | | <font style="color:black;">二级界面</font> |
| <font style="color:black;">6</font> | <font style="color:black;">公告界面</font> | | | <font style="color:black;">弹框界面</font> |


### 6.3 动效需求
使用通用的界面动效需求表格

备注此系统需求的动效ID

参考项目：

[https://snh48group.yuque.com/mwyfd0/nx3vv2/ahfzy98v2wyz3mp4](https://snh48group.yuque.com/mwyfd0/nx3vv2/ahfzy98v2wyz3mp4)

### 6.4 场景需求
| **<font style="color:white;">所属系统</font>** | **<font style="color:white;">场景类型</font>** | **<font style="color:white;">场景名称-美术</font>** | | **<font style="color:white;">场景用途</font>** | | | **<font style="color:white;">描述</font>** |
| :---: | :---: | :---: | --- | :---: | --- | --- | :---: |
| <font style="color:black;">公会</font> | <font style="color:black;">战斗地图</font> | | | <font style="color:black;">公会战专属战斗地图</font> | | | <font style="color:black;">四周需要能体现多人战争气氛</font> |
| <font style="color:black;">公会</font> | <font style="color:black;">UI地图</font> | | | <font style="color:black;">公会大厅展示用地图</font> | | | <font style="color:black;">详见参考文档</font> |
| <font style="color:black;">主城</font> | <font style="color:black;">展示地图</font> | | | <font style="color:black;">精灵展示用UI场景</font> | | | <font style="color:black;">详见参考文档</font> |


### 6.5 动态物件需求
| **<font style="color:white;">分类</font>** | **<font style="color:white;">名称</font>** | **<font style="color:white;">用途</font>** | **<font style="color:white;">美术需求</font>** | | | **<font style="color:white;">动作需求</font>** | | **<font style="color:white;">动作名</font>** | **<font style="color:white;">特效需求</font>** |
| :---: | :---: | :---: | :---: | --- | --- | :---: | --- | :---: | :---: |
| <font style="color:black;">场景物件</font> | <font style="color:black;">Box</font> | <font style="color:black;">副本宝箱</font> | <font style="color:black;">探索地图上出现的随机低阶宝箱</font> | | | <font style="color:black;">宝箱出现动画</font> | | <font style="color:black;">@Ani_Box_Idle_01</font> | <font style="color:black;">宝箱出现动画</font> |
| | | | | | | <font style="color:black;">宝箱打开动画</font> | | <font style="color:black;">@Ani_Box_Atk_01</font> | <font style="color:black;">宝箱打开动画</font> |


# 六、string需求
| **<font style="color:white;">类别</font>** | **<font style="color:white;">目标操作</font>** | **<font style="color:white;">触发条件</font>** | **<font style="color:white;">提示形式</font>** | **<font style="color:white;">提示string</font>** | **<font style="color:white;">stringID</font>** |
| :---: | --- | --- | :---: | --- | :---: |
| <font style="color:black;">登录流程</font> | <font style="color:black;">启动游戏</font> | <font style="color:black;">加载服务器列表失败</font> | <font style="color:black;">确定框</font> | <font style="color:black;">加载服务器列表失败，请重新尝试!</font> | |
| | <font style="color:black;">启动游戏</font> | <font style="color:black;">客户端版本不匹配</font> | <font style="color:black;">确定框</font> | <font style="color:black;">客户端版本号不匹配!</font> | |
| | <font style="color:black;">启动游戏</font> | <font style="color:black;">找不到渠道号</font> | <font style="color:black;">确定框</font> | <font style="color:black;">找不到渠道号!</font> | |
| | <font style="color:black;">启动游戏</font> | <font style="color:black;">加载配置文件失败</font> | <font style="color:black;">确定框</font> | <font style="color:black;">加载文件失败,请尝试重新下载客户端!</font> | |
| | <font style="color:black;">游戏更新</font> | <font style="color:black;">无法更新</font> | <font style="color:black;">确定取消框</font> | <font style="color:black;">不能更新资源，是否重试?</font> | |
| | <font style="color:black;">登录服务器</font> | <font style="color:black;">服务器爆满</font> | <font style="color:black;">确定框</font> | <font style="color:black;">当前服务器爆满！请选择其它服务器。</font> | |
| | <font style="color:black;">登录服务器</font> | <font style="color:black;">服务器维护中</font> | <font style="color:black;">确定框</font> | <font style="color:black;">该服务器紧急维护中，请稍后尝试登录！</font> | |
| <font style="color:black;">更新流程</font> | <font style="color:black;">x</font> | <font style="color:black;">连接服务器</font> | <font style="color:black;">文字</font> | <font style="color:black;">连接服务器中…</font> | |
| | <font style="color:black;">x</font> | <font style="color:black;">获取更新信息</font> | <font style="color:black;">文字</font> | <font style="color:black;">获取更新信息中…</font> | |
| | <font style="color:black;">x</font> | <font style="color:black;">大于1m的补丁更新，显示进度条</font> | <font style="color:black;">文字</font> | <font style="color:black;">更新配置文件（xxMB/xxMB）</font> | |
| | <font style="color:black;">x</font> | <font style="color:black;">更新后的配置加载，显示进度条</font> | <font style="color:black;">文字</font> | <font style="color:black;">资源加载中…</font> | |
| <font style="color:black;">公告流程</font> | <font style="color:black;">点击公告按钮</font> | <font style="color:black;">没有配置公告内容</font> | <font style="color:black;">错误文字</font> | <font style="color:black;">当前没有公告内容。</font> | |
| <font style="color:black;">特殊流程</font> | <font style="color:black;">点击登录</font> | <font style="color:black;">当前选择登录服务器关闭</font> | <font style="color:black;">确定框</font> | <font style="color:black;">当前登录服务器没有开启，请选择其它的登录服务器。</font> | |




