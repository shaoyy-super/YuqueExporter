**《MetaAquaman》捕鱼玩法系统**

目录

1.	系统模块概述	- 1 -

1.1.	设计目标	- 1 -

1.2.	功能概述	- 1 -

1.3.	概念定义	- 1 -

1.3.1.	游戏房间	- 1 -

1.3.2.	渔炮	- 1 -

1.3.3.	鱼群	- 2 -

1.3.4.	渔炮位置	- 2 -

1.3.5.	游戏金币	- 3 -

1.4.	功能说明	- 4 -

1.4.1.	捕鱼游戏房间进程功能	- 4 -

1.4.2.	鱼群刷新功能	- 6 -

1.4.3.	渔炮射击功能	- 7 -

1.4.4.	AI玩家匹配功能	- 9 -

1.5.	界面功能和布局	- 10 -

1.5.1.	捕鱼玩法界面	- 10 -

1.5.2.	玩家信息弹窗	- 12 -

1.5.3.	聊天信息浮框	- 13 -

1.5.4.	设置弹窗	- 14 -

1.5.5.	房间结算弹窗	- 15 -

1.5.6.	引导提示	- 16 -

1.6.	数值规则说明	- 17 -

1.6.1.	捕鱼命中率规则	- 17 -

1.6.2.	玩家初始化规则	- 17 -

2.	美术需求	- 18 -

2.1.	UI需求	- 18 -

2.2.	原画/图标需求	- 18 -

2.3.	UI动效需求	- 18 -

2.4.	动画效果需求	- 18 -

2.5.	模型需求	- 19 -

2.6.	场景需求	- 19 -

3.	声音需求	- 20 -

3.1.	背景音乐	- 20 -

3.2.	音效需求	- 20 -

3.2.1.	游戏音效	- 20 -

3.2.2.	渔炮音效	- 20 -

3.2.3.	鱼群音效	- 20 -

4.	GM指令	- 22 -

5.	统计日志	- 22 -

6.	配表结构	- 23 -

6.1.1.	全局控制表	- 23 -

6.1.2.	渔场控制表	- 23 -

6.1.3.	渔场鱼群配置表	- 23 -

6.1.4.	渔场鱼群配置表	- 23 -

6.1.5.	AI玩家匹配时间配置表	- 24 -

6.1.6.	AI玩家匹配强度配置表	- 24 -

6.1.7.	幸运值参数配置表	- 24 -

6.1.8.	回本倍率参数配置表	- 25 -

6.1.9.	日周期倍率参数配置表	- 25 -

6.1.10.	全周期倍率参数配置表	- 25 -



| **版本** | **版本内容** | **负责人** | **时间** |
| --- | --- | --- | --- |
| 1.0 | 捕鱼玩法系统 | 宋琦 | 2024/04/17 |
| 1.1 | 捕鱼玩法中的道具系统 | 待定 | 未开始 |
| 1.2 | 捕鱼玩法中的特殊鱼群机制功能，更多的场景互动 | 待定 | 未开始 |
|  |  |  |  |




# 1 系统模块概述
## 1.1 设计目标
+ 设计完成捕鱼系统的功能文档，为程序开发提供明确功能需求。
+ 在捕鱼系统中设计大量调控参数，调整各阶段各类型玩家的游戏体验。
+ 完成捕鱼玩法系统的数值内部循环，实现配合外部数值框架的相关数值设计。

## 1.2 功能概述
+ 完成玩家可操作的倍率选择、瞄准、发射、命中等基础捕鱼功能设计。
+ 完成渔场中的鱼群刷新、鱼群移动、鱼群离开等基础功能设计。
+ 完成游戏核心命中数值模型的相关公式与参数设计。
+ 完成游戏阶段与流程转换的游戏整体进程设计。
+ 完成辅助调控的AI规则与参数设计。

## 1.3 概念定义
### 1.3.1 游戏房间
+ 概念说明

玩家进入开始捕鱼游戏的游戏场景。

+ 功能说明

玩家需要在游戏房间中与其他1-3名玩家同时捕鱼。

每个游戏房间都是独立进行的实例，按照设定好的进程规则进行和结算

+ 数据说明
    - 房间列表
        * 游戏中所有已开启的房间列表，决定了玩家进入房间时的检索顺序。
    - 玩家人数
        * 同时在游戏房间内进行游戏玩家的数量。
        * 游戏会根据玩家人数按照不同的速度匹配AI玩家进入房间

### 1.3.2 渔炮
+ 概念说明

玩家参与捕鱼游戏的主体。

+ 功能说明

玩家操作渔炮进行倍率选择、瞄准、发射、命中等操作。

不同类型的大炮拥有自身独特的效果。

+ 数据说明
    - 渔炮等级
        * 决定游戏中可以选择的渔炮倍率上限。
        * 不同的渔炮拥有不同的射击效果。
        * 详见<u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮养成系统功能文档_v1</font></u>。
    - 渔炮倍率
        * 决定捕鱼的基础命中率。
    - 射击速度
        * 决定在玩家连续射击捕鱼时，子弹的发射间隔。
    - 渔炮耐久
        * 被特殊鱼群攻击时会降低渔炮耐久，耐久过低无法进行游戏。

### 1.3.3 鱼群
+ 概念说明

玩家在渔场中使用渔炮发射炮弹捕获的目标。

+ 功能说明

鱼群会随着游戏房间的时间进行，按照鱼群自身的规则刷新在捕鱼场景中。

鱼群在刷新出来后按照随机获得的移动轨迹，以自身的移动速度在捕鱼场景中移动。

鱼群在移动至移动轨迹出口时，离开捕鱼场景。

不同类型的鱼群，拥有自身独特的效果。

+ 数据说明
    - 鱼分
        * 不同的鱼群在捕获后会获得不等的金币。
    - 类型
        * 不同类型的鱼群在捕获后会有不同的显示效果。
    - 移动速度
        * 不同的鱼群在捕鱼场景中的移动速度不同。
    - 移动轨迹
        * 鱼群在刷新时会决定按照什么样的轨迹在渔场中行进。

### 1.3.4 渔炮位置
+ 概念说明

玩家进入渔场后选择加入游戏的位置。

+ 功能说明

玩家如果要开始捕鱼，必须进入一个位置。

根据房间内的人数，渔炮位置会依据设定的规则补充或移除占据渔炮位置机器人玩家。

根据不同的位置决定当前捕鱼命中率公式中的核心参数抽水率的变化。

+ 数据说明
    - 抽水率
        * 捕鱼命中率公式的核心参数

### 1.3.5 游戏金币
+ 概念说明

玩家进行捕鱼的消耗代币。

+ 功能说明

玩家每次通过渔炮发射一个炮弹进行捕鱼，消耗渔炮倍率对应的游戏金币。

+ 数据说明
    - 初始金币





## 1.4 功能说明
### 1.4.1 捕鱼游戏房间进程功能
+ **概述：**捕鱼游戏房间进程控制，设定游戏房间的开启、进行、结束规则。
+ **游戏房间的开启功能**
    - 开启条件
        * 没有可以进入的房间
    - 房间设置
        * 玩家开启一个新房间，同时进入其中。
        * 在对应渔场的游戏房间列表中新增一个房间实例ID及其对应数据。
        * 玩家进入房间后快速的为此新开的房间匹配1-2名AI玩家。
        * AI玩家匹配规则，详见AI玩家匹配规则
        * 初始化房间各个渔炮位置的抽水率数据。
+ **游戏房间的进入功能**
    - 进入条件
        * 先根据玩家选择的渔场检索房间列表
        * 有房间的   AI玩家数量 > 最少AI玩家数量(全局控制)。
    - AI玩家处理
        * 如果有玩家进入房间，让对应数量的AI玩家离开位置。
+ **游戏房间进行的阶段**
    - 普通阶段
        * 按照鱼群的设定，根据刷新间隔控制鱼群的刷新。
        * 鱼群的刷新规则，详见鱼群刷新规则
        * 鱼群刷新后按照随机的轨迹移动，详见鱼群刷新规则
    - 普通阶段换潮规则
        * 在游戏开始后的随机1：30至2：00之后进入换潮。
        * 换潮时场景中的鱼群快速游出场景之外，换潮动画效果，此时无法被捕获。
        * 重新开始鱼群的刷新计时。
        * 重新分配各个渔炮位置的抽水率。
        * 换潮后重新进行一个普通阶段。
    - Boss阶段
        * 在游戏开始后的随机3：00至3：30之后进入Boss阶段
        * Boss刷新前会有短暂的Boss刷新界面动效
        * Boss拥有独特的行动轨迹规则，会在场景中反复游动
        * Boss的移动规则详见鱼群刷新规则
        * Boss在游荡1：00至1：30随机时间后离开
        * Boss离开后再次进行换潮阶段，然后再进行下一轮的普通阶段。
        * 以每5:00为一组循环周期。
    - 各阶段随机时间范围由渔场控制表配置，详见<u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u>
+ **游戏房间的结束与关闭功能**
    - 时间结束
        * 如果未能在Boss阶段，捕获Boss，那么在房间倒计时结束后结束
        * 弹出游戏结算弹窗。
        * 游戏房间结束，关闭房间
    - 捕获Boss结束
        * 在捕获Boss后，向所有玩家弹窗提示是否离开。
        * 玩家可以继续在游戏房间中进行游戏，直至倒计时结束。
        * 所有真人玩家离开后，游戏房间结束，关闭房间。
    - 玩家主动退出
        * 在玩家主动退出后，判断游戏房间中是否还有真人玩家。
        * 所有真人玩家离开后，游戏房间结束，关闭房间。
    - 房间关闭
        * 在游戏房间列表中移除对应房间。
+ 玩家的状态判断
    - 玩家金币判断
        * 玩家游戏金币不足满足下次渔炮射击时，弹窗提示玩家游戏金币不足。
        * 玩家点击确认按钮，被动离开游戏房间，进行游戏结算。
        * 弹窗文字信息，多语言配置。
    - 玩家耐久判断
        * 玩家渔炮耐久为0时，弹窗提示玩家渔炮耐久不足。
        * 玩家点击确认按钮，被动离开游戏房间，进行游戏结算。
        * 弹窗文字信息，多语言配置。
+ **游戏房间奖励**
    - 金币奖励
        * 在游戏中捕鱼获得的游戏金币奖励。
        * 游戏结算时，显示本局游戏获得的总金币数量。
+ **游戏房间功能引导**
    - 进入位置引导
        * 玩家在进入游戏房间时，随机一个渔炮位置，通过小手点击动效，引导玩家进入对应渔炮位置。
    - 进行射击引导
        * 玩家超过10秒未进行捕鱼射击时，引导玩家进行射击，持续1秒。
        * 通过小手点击动效，引导玩家射击场上鱼分最高的鱼群。
    - 离开房间引导
        * 在捕获Boss后，向所有玩家弹窗提示是否离开。
        * 在弹窗中点击确认，离开房间。
+ **异常状态处理**
    - 玩家在游戏中长时间未进行射击操作，进行异常处理。
        * 每10秒进行一次射击引导提示，引导玩家进行射击，持续1秒。
        * 第2次引导后，飘框提示“由于您长时间挂机，将会在X秒后离开游戏！”
        * 倒计时10秒后移出游戏。
        * 提示文字信息，多语言配置。
    - 玩家离线异常处理。
        * 在玩家离线后，判断游戏房间中是否还有真人玩家。
        * 所有真人玩家离开后，游戏房间结束，关闭房间。
        * 玩家离线后，重新登陆后，再次游戏需要再次重新进行开启/进入房间流程。
+ **流程图**

![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1719479369272-d9438ce7-9bcf-41e6-bd67-a4a28b71cfc2.png)

### 1.4.2 鱼群刷新功能
+ **概述：**鱼群刷新功能，设定各类型鱼群的刷新时间间隔，设定刷新位置与移动轨迹的随机规则。
+ **刷新鱼群的类型**
    - 根据每个渔场的鱼群配置表确定刷新鱼群的种类类型。
    - 详见 渔场鱼群配置表。
    - 所以越高级的渔场配置鱼群会越高级，低级渔场里的高级会作为高级渔场里的低级鱼存在。
+ **刷新鱼群的时间间隔**
    - 根据每个渔场的鱼群配置表确定各种类型的鱼群刷新时间间隔。
    - 鱼群刷新配置，详见 渔场鱼群配置表。
    - 同一种类型的鱼群，如果想一次刷新多个波次，中间有间隔，可以配置多条数据。
+ **刷新鱼群的随机位置**
    - 屏幕左右两侧区域内，随机坐标刷新。
    - 以1920x1080举例，屏幕左右两侧高度从160至920的区域内随机刷新。
    - 刷新区域通过全局配置控制，配置屏幕的两边百分比区域大小。
+ **刷新鱼群的移动**
    - 在鱼群刷新的同时，决定鱼群初始移动方向。
        * 初始移动方向为从鱼群移动方向随机范围内随机产生。
    - 移动轨迹轨迹决定
        * 在初始方向决定后，开始向这个方向前进。
        * 鱼群游动动画匹配鱼群移动速度。
        * 每次动画结束根据鱼群设定随机接下来的移动方向，从鱼群移动方向随机范围内进行随机。
        * 普通鱼群与精英鱼群完全离开场景后移除。
    - Boss特殊规则
        * Boss在通过出口区域离开后，如果仍处于Boss阶段
        * 重新随机刷新位置，重新进入到游戏场景中
        * 直至Boss阶段结束，或者Boss被捕获。
        * Boss阶段结束后，Boss未被捕获，Boss快速游出场景之外，此时无法被捕获。
+ **流程图：**

![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1719479369537-290f6661-b651-4927-9b01-3818dd199445.png)

### 1.4.3 渔炮射击功能
+ **概述： **渔炮射击功能，射击的角度选择，射击的倍率选择，以及各种特殊类型的渔炮的射击效果、子弹效果、命中效果。
+ **射击角度选择**
    - **可选角度：**鱼炮位置正前方左右各90°范围
    - **射击角度：**鱼炮位置至触摸位置(Mobile)/鼠标(PC)位置的射线角度
+ **渔炮发射**
    - 移动端触摸屏幕可发射区域，进行发射
    - PC端鼠标在可发射区域左键点击，进行发射
    - 向射击角度发射一枚渔炮炮弹
+ **可发射区域**
    - 顶部、底部玩家渔炮所在区域为不可发射区域。
    - 以1920x1080举例，顶部高度160，底部高度160的屏幕区域，点击无法发射
+ **射击倍率选择**
    - 倍率切换操作
        * 按住渔炮位置，出现倍率增加/减少操作按钮
        * 点击倍率增加/减少操作按钮，增加或减少倍率
    - 倍率切换数值
        * 以5倍为跨度进行切换。倍率跨度值通过全局配置控制。
        * 举例16级渔炮可选倍率为：1、5、10、15、16。
+ **射击结果**
    - 射击后玩家金币数字位置播放数字滚动界面动效。
    - 向射击角度方向发射一枚渔炮炮弹
    - 渔炮炮弹击中第一个鱼群后，渔炮炮弹炸开，展示炮弹击中动画效果
    - 渔炮炮弹击中为一个范围判定，范围内的所有鱼群都需要进行捕鱼命中判定
    - 捕鱼命中判定，详见捕鱼命中率设定
    - 渔炮炮弹飞出场景后移除。
+ **捕获效果**
    - 鱼群播放被捕获时的动画效果
    - 金币效果
        * 金币从被捕获位置掉落至场景动画效果
        * 金币飞至对应玩家位置动画效果
        * 获得金币后，播放数字滚动界面动效。 
    - 精英效果
        * 玩家对应渔炮前方位置显示鱼分标识界面动效
    - Boss效果
        * 玩家对应渔炮前方位置显示鱼分标识界面动效
+ **渔炮射击效果**
    - 根据渔炮的不同，拥有不同的渔炮射击效果，包括以下动画效果
        * 渔炮射击动画效果
        * 子弹飞行动画效果
        * 子弹命中动画效果
    - 详见<u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u>。
+ **流程图：**

![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1719479369877-16d92480-4f9f-4c58-87d6-fd9659dedba9.png)



### 1.4.4 AI玩家匹配功能
+ **概述： **AI玩家根据设定规则随机进入渔炮位置，根据不同的玩家游戏行为匹配不同难度的AI玩家
+ **AI玩家的信息显示**
    - 初始默认AI玩家列表，创建一组基础AI玩家。
    - 从离线玩家列表中随机选择进行过该渔场游戏的玩家。
    - 在玩家点击查看其他玩家信息时为玩家展示对应玩家信息。
+ **AI玩家的进入**
    - 通过AI玩家匹配表控制AI玩家进入时间，详见 AI玩家匹配时间配置表
    - 第1名AI玩家，也就是在场上只有玩家自己时，1秒后进入。
    - 第2名AI玩家，在场上有玩家和1名AI玩家时，3秒后进入。
    - 第3名AI玩家，在场上有玩家和1名AI玩家时，10秒后进入。
+ **AI玩家的强度**
    - 根据玩家当前的连续盈利场次，决定匹配AI玩家等级范围。
    - 根据AI玩家强度表来控制匹配进入的AI玩家等级，详见AI玩家匹配强度配置表。
+ **AI玩家的离开**
    - 有玩家进入需要移出AI玩家的房间时，AI玩家离开捕鱼房间。
    - 有原玩家登录时，AI玩家离开捕鱼房间。

## 1.5 界面功能和布局
### 1.5.1 捕鱼玩法界面
![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1721373793942-ba870152-c4b0-4047-a7e4-0dac8f2df1c0.png)

![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1721373987232-1ef84f7c-89c0-4430-a444-2c5851780e32.png)

1. 玩家信息
    1. 玩家名称
    2. 玩家游戏金币
    3. 玩家Fish币
2. 玩家渔炮
    1. 玩家渔炮外观
    2. 当前渔炮倍率
    3. 渔炮倍率切换
        1. 按住玩家渔炮位置显示倍率切换按钮
    5. 其他玩家信息展示
        1. 点击其他玩家渔炮位置，弹出其他玩家的玩家信息弹窗。
4. 聊天按钮
    1. 打开弹出聊天表情浮框
    2. 点击任意位置聊天表情浮框消失
5. 倍率切换按钮
    1. 倍率切换按钮，点击出现炮倍选择
    2. 自动开炮按钮，点击后按钮变为取消，炮台变为自动挂机，炮台自动发射子弹。身上出现和锁定一样的特效。
6. 道具列表
    1. 道具图标
    2. 道具数据
    3. 道具状态
7. 设置按钮
    1. 点击弹出游戏设置弹窗

### ![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1721725844022-83cf30ba-d764-4155-8f8e-437692d7d115.png)
默认展开，点击后，若升级所需道具数量不足，飘字：道具不足

若升级所需道具足够，点击后升级

若玩家达到最高级，icon隐藏







### 1.5.3 聊天信息浮框
![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1721372877338-7fec888b-2966-4f01-aee7-ad7776f038f9.png)

1. 聊天信息浮框
    1. 点击在渔炮上方显示表情泡泡
    2. 点击任意位置隐藏聊天信息浮框

### 1.5.4 设置弹窗
![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1719479371104-356ca7fc-5c28-4ddb-82eb-4a0968a43dd5.png)

1. 关闭设置弹窗按钮
    1. 关闭设置弹窗弹窗
2. 背景音乐音量设置
    1. 通过拖动进度条左右移动控制音量大小
3. 背景音效音量设置
    1. 通过拖动进度条左右移动控制音效大小
4. 渔炮音效音量设置
    1. 通过拖动进度条左右移动控制音效大小



1. 结算提示文字信息
    1. 根据盈利情况显示
        1. 只获得金币150%以上盈利，显示界面动效美术字。
        2. 只获得金币120%以上盈利，显示界面动效美术字。
        3. 未获得盈利，显示界面动效美术字。
2. 金币结算信息
    1. 显示获得总金币数量
    2. 显示消耗总金币数量
3. 
4. 继续游戏按钮
    1. 继续留在捕鱼游戏房间。
5. 退出游戏按钮
    1. 点击退出捕鱼游戏房间，回到主场景界面

### 
### 1.5.5 个人信息
![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1721374631152-09a2a56e-e32e-48ee-aa5d-effd57430e6e.png)



点击自己、其他玩家的炮台，显示个人信息，内容：昵称、等级、玩家id





## 1.6 数值规则说明
### 1.6.1 捕鱼命中率规则


1. 捕鱼命中率Hit
2. 渔炮倍率Multiplier，由玩家选择的渔炮倍率决定。
3. 抽水率PumpRate，由渔炮位置决定，场景初始化与换潮时随机生成。
4. 幸运值L，由玩家当日盈亏损比率决定，详见 幸运值参数配置表。每日幸运值会重置为1.
5. 日周期倍率D，由玩家当日游戏时长决定(单位min)，详见 日周期倍率参数配置表。
6. 全周期倍率W，由玩家总游戏时长决定(单位day)，详见 全周期倍率参数配置表。
7. 回本倍率R，由玩家回本率=玩家总收入Fish币*Fish币:稳定币汇率/总消费稳定币，详见 回本倍率参数配置表。回本倍率中的汇率参数每日刷新。
8. 鱼分Score，击中目标鱼群的对应鱼分。



### 1.6.2 玩家初始化规则
1. 1.0版本中无其他系统数据，开发默认一门渔炮，不接入外部养成属性
2. 初始化渔炮默认倍率为1(渔炮养成功能完成后移除)
3. 初始化金币。1000(玩家信息功能完成后移除)
4. 初始化AI玩家数据，创建10条虚拟玩家数据(正式版本移除)

### 


# 2 美术需求
## 2.1 UI需求
| 序号 | 界面 | 需求 |
| --- | --- | --- |
| 1 | 捕鱼玩法界面 | 详见 捕鱼玩法界面<br/>详见 表情聊天界面 |
| 2 | 玩家信息弹窗 | 详见 玩家信息弹窗 |
| 3 | 设置弹窗 | 详见 设置弹窗 |
| 4 | 房间结算弹窗 | 详见 房间结算弹窗 |




## 2.2 原画/图标需求
| 序号 | 界面 | 需求 |
| --- | --- | --- |
| 1 | 表情图标1 | 开心表情图标 |
| 2 | 表情图标2 | 悲伤表情图标 |
| 3 | 表情图标3 | 无聊表情图标 |
| 4 | 表情图标4 | 点赞表情图标 |
| 5 | 道具图标1 | <u><font style="color:#0070C0;">B_《MetaAquaman》_捕鱼系统功能文档_v1.1</font></u> |
| 6 | 道具图标2 | <u><font style="color:#0070C0;">B_《MetaAquaman》_捕鱼系统功能文档_v1.1</font></u> |
| 7 | 道具图标3 | <u><font style="color:#0070C0;">B_《MetaAquaman》_捕鱼系统功能文档_v1.1</font></u> |
| 8 | 道具图标4 | <u><font style="color:#0070C0;">B_《MetaAquaman》_捕鱼系统功能文档_v1.1</font></u> |




## 2.3 UI动效需求
| 序号 | 界面动效 | 需求 |
| --- | --- | --- |
| 1 | Boss刷新界面动效 | 体现出Boss即将刷新的紧张感，”WARING”特效文字 |
| 2 | 小手点击动效 | 不断循环的小手点击动效，作为引导点击界面动效 |
| 3 | 鱼分标识界面动效 | 一个华丽色彩的圆圈中显示对应鱼分 |
| 4 | 捕获Boss界面动效 | 详见xx场鱼种文档 |
| 5 | 结算动效美术字1 | 界面动效美术字”Treasure Box Acquired!” |
| 6 | 结算动效美术字2 | 界面动效美术字” Huge Gold Win!” |
| 7 | 结算动效美术字3 | 界面动效美术字” Nice Gold Profit!” |
| 8 | 结算动效美术字4 | 界面动效美术字” Better Luck Next Time!” |
| 9 | 金币数字滚动 | 消耗或获得金币时，数字滚动界面动效 |




## 2.4 动画效果需求
| 序号 | 动画效果 | 需求 |
| --- | --- | --- |
| 1 | 换潮动画 | 一波海浪从屏幕一侧到另一侧快速推进 |
| 2 | 鱼群游动 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 3 | 鱼群被捕获 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 4 | 渔炮射击动画 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u> |
| 5 | 渔炮子弹飞行动画 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u> |
| 6 | 渔炮子弹命中动画 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u> |
| 7 | 金币掉落 | 金币从捕获位置掉落出来的动画效果 |
| 8 | 金币飞行 | 金杯从掉落位置飞行至玩家渔炮位置的动画效果 |
| 9 | 表情泡泡动画1 | 开心表现泡泡动画 |
| 10 | 表情泡泡动画2 | 悲伤表现泡泡动画 |
| 11 | 表情泡泡动画3 | 无聊表现泡泡动画 |
| 12 | 表情泡泡动画4 | 点赞表现泡泡动画 |




## 2.5 模型需求
| 序号 | 模型 | 需求 |
| --- | --- | --- |
| 1 | 初级场鱼群模型 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 2 | 中级场鱼群模型 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 3 | 高级场鱼群模型 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 4 | 大师场鱼群模型 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |




## 2.6 场景需求
| 序号 | 场景 | 需求 |
| --- | --- | --- |
| 1 | 初级场捕鱼场景 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u> |
| 2 | 中级场捕鱼场景 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u> |
| 3 | 高级场捕鱼场景 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u> |
| 4 | 大师场捕鱼场景 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u> |






# 3 声音需求
## 3.1 背景音乐
| 序号 | 背景音乐 | 需求 |
| --- | --- | --- |
| 1 | 初级场背景音乐 |  |
| 2 | 初级场Boss阶段变奏 |  |
| 3 | 中级场背景音乐 |  |
| 4 | 中级场Boss阶段变奏 |  |
| 5 | 高级场背景音乐 |  |
| 6 | 高级场Boss阶段变奏 |  |
| 7 | 大师场背景音乐 |  |
| 8 | 大师场Boss阶段变奏 |  |




## 3.2 音效需求
### 3.2.1 游戏音效
| 序号 | 游戏音效 | 需求 |
| --- | --- | --- |
| 1 | Boss刷新音效 | 警告提示音 |
| 2 | 捕获Boss音效 | 华丽的欢呼声 |
| 3 | 金币掉落 | 清脆的金属碰撞声 |
| 4 | 金币飞行 | 短促的飞行音效 |
| 5 | 换潮音效 | 海浪的流水声音 |
| 6 | 表情泡泡音效 | 短促的气泡音 |




### 3.2.2 渔炮音效
| 序号 | 动画效果 | 需求 |
| --- | --- | --- |
| 1 | 渔炮射击音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u> |
| 2 | 渔炮子弹飞行音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u> |
| 3 | 渔炮子弹命中音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_渔炮内容规划文档_v1</font></u> |






### 3.2.3 鱼群音效
| 序号 | 动画效果 | 需求 |
| --- | --- | --- |
| 1 | 特许鱼群受击音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 2 | 特许鱼群入场音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 3 | 特许鱼群被捕获音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 4 | 特许鱼群攻击音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |
| 5 | 特许鱼群游动音效 | <u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u> |






# 4 GM指令
| 序号 | GM指令 | 需求 |
| --- | --- | --- |
| 1 | 添加指定资产 | 指令+资产类型+具体ID+数量(本系统主要加金币) |
| 2 | 添加随机资产 | 指令+资产类型+数量 |
| 3 | 刷新指定鱼群 | 指令+具体ID+数量 |
| 4 | 修改房间时间 | 指令+(时间增加或减少数量，单位s) |
| 5 | 修改AI玩家数量 | 指令+(时间增加或减少数量，单位个) |






# 5 统计日志
| <font style="color:rgb(255, 255, 255);">序号</font> | <font style="color:rgb(255, 255, 255);">埋点内容</font> | <font style="color:rgb(255, 255, 255);">键值</font> | <font style="color:rgb(255, 255, 255);">参数</font> |
| :---: | --- | --- | --- |
| <font style="color:rgb(0, 0, 0);">1</font> | <font style="color:rgb(0, 0, 0);">游戏时间</font> | <font style="color:rgb(255, 0, 0);">Gameplay_Time</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |
| <font style="color:rgb(0, 0, 0);">2</font> | <font style="color:rgb(0, 0, 0);">渔炮倍率</font> | <font style="color:rgb(255, 0, 0);">Cannon_Times</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |
| <font style="color:rgb(0, 0, 0);">3</font> | <font style="color:rgb(0, 0, 0);">射击频率</font> | <font style="color:rgb(255, 0, 0);">Shoot_Rate</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |
| <font style="color:rgb(0, 0, 0);">4</font> | <font style="color:rgb(0, 0, 0);">射击次数</font> | <font style="color:rgb(255, 0, 0);">Shoot_Times</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |
| <font style="color:rgb(0, 0, 0);">5</font> | <font style="color:rgb(0, 0, 0);">获得金币</font> | <font style="color:rgb(255, 0, 0);">Add_Coin</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |
| <font style="color:rgb(0, 0, 0);">6</font> | <font style="color:rgb(0, 0, 0);">消耗金币</font> | <font style="color:rgb(255, 0, 0);">Cost_Coin</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |
| <font style="color:rgb(0, 0, 0);">7</font> | <font style="color:rgb(0, 0, 0);">盈亏比例</font> | <font style="color:rgb(255, 0, 0);">Gain_Rate</font> | <font style="color:rgb(0, 0, 0);">暂不开发,玩家系统鱼炮系统开发完后进行</font> |




# 6 配表结构
### 6.1 全局控制表
表内容说明：控制游戏全局变量

| **<font style="color:rgb(255, 255, 255);">最少AI玩家数</font>** | <font style="color:rgb(0, 0, 0);">AIPlayerNum</font> | <font style="color:rgb(0, 0, 0);">int　</font> | <font style="color:rgb(0, 0, 0);">1 房间内最少的AI玩家数量</font> |
| :---: | :---: | :---: | --- |
| **<font style="color:rgb(255, 255, 255);">刷新区域Y</font>** | <font style="color:rgb(0, 0, 0);">RefreshAreaY</font> | <font style="color:rgb(0, 0, 0);">StatsData[]　</font> | <font style="color:rgb(0, 0, 0);">0.148:0.851，从Y1到Y2</font> |
| **<font style="color:rgb(255, 255, 255);">刷新区域Z</font>** | <font style="color:rgb(0, 0, 0);">RefreshAreaZ</font> | <font style="color:rgb(0, 0, 0);">StatsData[]　</font> | <font style="color:rgb(0, 0, 0);">0.148:0.851，从Z1到Z2</font> |
| **<font style="color:rgb(255, 255, 255);">鱼炮倍率跨度</font>** | <font style="color:rgb(0, 0, 0);">CannoTimes</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">5 切换倍率时的倍率跨度</font> |




### 6.1.1 渔场控制表
表内容说明：暂时定义，需要根据<u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u>优化。

| **<font style="color:rgb(255, 255, 255);">渔场ID</font>** | <font style="color:rgb(0, 0, 0);">FisheryID</font> | <font style="color:rgb(0, 0, 0);">string　</font> | <font style="color:rgb(0, 0, 0);">渔场ID</font> |
| :---: | :---: | :---: | --- |
| **<font style="color:rgb(255, 255, 255);">渔场类型</font>** | <font style="color:rgb(0, 0, 0);">FisheryType</font> | <font style="color:rgb(0, 0, 0);">int　</font> | <font style="color:rgb(0, 0, 0);">1.初级、2.中级、3.高级、4.大师</font> |
| **<font style="color:rgb(255, 255, 255);">渔场时间</font>** | <font style="color:rgb(0, 0, 0);">FisheryTime</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">300 渔场循环时间</font> |
| **<font style="color:rgb(255, 255, 255);">换潮时间</font>** | <font style="color:rgb(0, 0, 0);">ChangeTime</font> | <font style="color:rgb(0, 0, 0);">StatsData[]　</font> | <font style="color:rgb(0, 0, 0);">0.3:0.4，随机时间范围 比例</font> |
| **<font style="color:rgb(255, 255, 255);">Boss时间</font>** | <font style="color:rgb(0, 0, 0);">BossTime</font> | <font style="color:rgb(0, 0, 0);">StatsData[]　</font> | <font style="color:rgb(0, 0, 0);">0.6:0.7，随机时间范围 比例</font> |
| **<font style="color:rgb(255, 255, 255);">抽水率</font>** | <font style="color:rgb(0, 0, 0);">PumpRate</font> | <font style="color:rgb(0, 0, 0);">StatsData[]</font> | <font style="color:rgb(0, 0, 0);">0.10|0.05|0.00|-0.05 从中随机</font> |
| **<font style="color:rgb(255, 255, 255);">等级限制</font>** | <font style="color:rgb(0, 0, 0);">LevelLimit</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">等级数量</font> |
| **<font style="color:rgb(255, 255, 255);">金币限制</font>** | <font style="color:rgb(0, 0, 0);">CoinLimit</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">金币数量</font> |
| **<font style="color:rgb(255, 255, 255);">宝石限制</font>** | <font style="color:rgb(0, 0, 0);">GemLimit</font> | <font style="color:rgb(0, 0, 0);">StatsData[]</font> | <font style="color:rgb(0, 0, 0);">品质:数量</font> |
| **<font style="color:rgb(255, 255, 255);">宝石消耗</font>** | <font style="color:rgb(0, 0, 0);">GemCost</font> | <font style="color:rgb(0, 0, 0);">StatsData[]</font> | <font style="color:rgb(0, 0, 0);">品质:数量</font> |




### 6.1.2 渔场鱼群配置表
表内容说明：各渔场刷新鱼群的的规则定义。暂时定义，需要根据<u><font style="color:#0070C0;">Y_《MetaAquaman》_渔场玩法功能文档_v1</font></u>优化。

| **<font style="color:rgb(255, 255, 255);">鱼群ID</font>** | <font style="color:rgb(0, 0, 0);">FishID</font> | <font style="color:rgb(0, 0, 0);">int　</font> | <font style="color:rgb(0, 0, 0);">鱼群ID</font> |
| :---: | :---: | :---: | --- |
| **<font style="color:rgb(255, 255, 255);">渔场ID</font>** | <font style="color:rgb(0, 0, 0);">FisheryID</font> | <font style="color:rgb(0, 0, 0);">int　</font> | <font style="color:rgb(0, 0, 0);">渔场ID，多个鱼群属于相同渔场</font> |
| **<font style="color:rgb(255, 255, 255);">鱼种类ID</font>** | <font style="color:rgb(0, 0, 0);">FishModolID</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼群对应鱼的种类数据</font> |
| **<font style="color:rgb(255, 255, 255);">鱼群类型</font>** | <font style="color:rgb(0, 0, 0);">FishType</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">1.普通、2.精英、3.Boss</font> |
| **<font style="color:rgb(255, 255, 255);">对应鱼分</font>** | Score | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼分对应捕获后获得金币数量</font> |
| **<font style="color:rgb(255, 255, 255);">鱼群初始数</font>** | <font style="color:rgb(0, 0, 0);">InitialNum</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼群在渔场开启时的初始数量</font> |
| **<font style="color:rgb(255, 255, 255);">刷新间隔</font>** | <font style="color:rgb(0, 0, 0);">RefreshTime</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">在渔场开启后每隔多久刷新一组</font> |
| **<font style="color:rgb(255, 255, 255);">刷新数量</font>** | <font style="color:rgb(0, 0, 0);">RefreshNum</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">每次刷新刷新多少只</font> |




### 6.1.3 渔场鱼群配置表
表内容说明：各鱼种类ID对应的参数设置。暂时定义，需要根据<u><font style="color:#0070C0;">Y_《MetaAquaman》_鱼群内容规划文档_v1</font></u>优化。

目前表中只有部分字段有用，ID、模型、速度

| **<font style="color:rgb(255, 255, 255);">鱼种类ID</font>** | <font style="color:rgb(0, 0, 0);">FishModolID</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼群对应鱼的种类数据</font> |
| :---: | --- | :---: | --- |
| **<font style="color:rgb(255, 255, 255);">模型ID</font>** | <font style="color:rgb(0, 0, 0);">ModolID</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的模型数量</font> |
| **<font style="color:rgb(255, 255, 255);">鱼种速度</font>** | <font style="color:rgb(0, 0, 0);">FishSpeed</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的速度配合动画</font> |
| **<font style="color:rgb(255, 255, 255);">入场技能</font>** | <font style="color:rgb(0, 0, 0);">FishSkillEnter</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的入场技能对应技能ID</font> |
| **<font style="color:rgb(255, 255, 255);">受击技能</font>** | <font style="color:rgb(0, 0, 0);">FishSkillBehit</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的受击技能对应技能ID</font> |
| **<font style="color:rgb(255, 255, 255);">被捕技能</font>** | <font style="color:rgb(0, 0, 0);">FishSkillDeath</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的被捕技能对应技能ID</font> |
| **<font style="color:rgb(255, 255, 255);">移动技能</font>** | <font style="color:rgb(0, 0, 0);">FishSkillMover</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的移动技能对应技能ID</font> |
| **<font style="color:rgb(255, 255, 255);">攻击技能</font>** | <font style="color:rgb(0, 0, 0);">FishSkillAttack</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">鱼的种类的攻击技能对应技能ID</font> |




### 6.1.4 AI玩家匹配时间配置表
表内容说明：决定各种情况下的匹配AI玩家时间

| <font style="color:rgb(255, 255, 255);">空鱼炮位置</font> | <font style="color:rgb(255, 255, 255);">玩家数量</font> | <font style="color:rgb(255, 255, 255);">AI玩家数量</font> | <font style="color:rgb(255, 255, 255);">匹配时间</font> |
| --- | --- | --- | --- |
| PositionNum | PlayerNum | AIPlayerNum | MatchTime |
| <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">int</font> |
| 3 | 1 | 0 | 1 |
| 2 | 1 | 1 | 3 |
| 1 | 1 | 2 | 10 |
| 2 | 2 | 0 | 3 |
| 1 | 2 | 1 | 6 |
| 1 | 3 | 0 | 1 |




### 6.1.5 AI玩家匹配强度配置表
表内容说明：根据玩家连胜决定匹配的AI玩家游戏行为强度。

后续设计道具系统规则时，需要补充AI玩家道具使用规则。

| <font style="color:rgb(255, 255, 255);">强度等级</font> | <font style="color:rgb(255, 255, 255);">连胜次数</font> | <font style="color:rgb(255, 255, 255);">射击频率</font> | <font style="color:rgb(255, 255, 255);">击中率</font> | <font style="color:rgb(255, 255, 255);">渔炮倍率</font> |
| --- | --- | --- | --- | --- |
| Level | WinNum | ShootRate | ShootRate | MatchTime |
| <font style="color:rgb(0, 0, 0);">int</font> | <font style="color:rgb(0, 0, 0);">StatsData[]</font> | <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> |
| 1 | 0:3 | 0.6 | 0.6 | 0.8 |
| 2 | 4:6 | 0.7 | 0.7 | 0.8 |
| 3 | 7:8 | 0.8 | 0.8 | 0.9 |
| 4 | 9:9 | 0.9 | 0.9 | 0.9 |
| 5 | 10: | 1 | 1 | 1 |




### 6.1.6 幸运值参数配置表
表内容说明：根据玩家当日的盈亏比例决定当日的幸运值。

| <font style="color:rgb(255, 255, 255);">盈亏比例</font> | | <font style="color:rgb(255, 255, 255);">幸运值</font> |
| --- | --- | --- |
| GainRateMix | GainRateMax | Luck(L) |
| <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> |
| 1.2 | 10000 | -0.9 |
| 1.1 | 1.2 | -0.6 |
| 1.0 | 1.1 | -0.3 |
| 0.8 | 1.0 | 0.1 |
| 0.6 | 0.8 | 0.3 |
| 0.4 | 0.6 | 0.5 |
| 0.2 | 0.4 | 0.7 |
| 0 | 0.2 | 0.9 |




### 6.1.7 回本倍率参数配置表
表内容说明：根据玩家当前的回本盈利情况决定回本倍率值

| <font style="color:rgb(255, 255, 255);">盈亏比例</font> | | <font style="color:rgb(255, 255, 255);">回本倍率</font> |
| --- | --- | --- |
| ReturnRateMix | ReturnRateMax | Return(R) |
| <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> |
| 0 | 0.5 | 0.9 |
| 0.5 | 1.0 | 0.6 |
| 1.0 | 1.5 | 0.3 |
| 1.5 | 2.0 | 0.1 |
| 2.0 | 10000 | 0.0 |




### 6.1.8 日周期倍率参数配置表
表内容说明：根据玩家当日随着游戏时间的倍率变化

| <font style="color:rgb(255, 255, 255);">盈亏比例</font> | | <font style="color:rgb(255, 255, 255);">日周期倍率</font> |
| --- | --- | --- |
| DayRateMix | DayRateMax | Day (D) |
| <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> |
| 0 | 30 | 0.9 |
| 30 | 60 | 0.5 |
| 60 | 120 | 0.1 |
| 120 | 240 | 0.0 |
| 240 | 1440 | 0.0 |




### 6.1.9 全周期倍率参数配置表
表内容说明：根据玩家当日随着游戏时间的倍率变化

| <font style="color:rgb(255, 255, 255);">盈亏比例</font> | | <font style="color:rgb(255, 255, 255);">日周期倍率</font> |
| --- | --- | --- |
| WholeRateMix | WholeRateMax | Whole (W) |
| <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> | <font style="color:rgb(0, 0, 0);">Float</font> |
| 0 | 7 | 0.9 |
| 7 | 14 | 0.6 |
| 14 | 30 | 0.3 |
| 30 | 60 | 0.1 |
| 60 | 180 | 0.0 |
| 180 | 1000 | 0.0 |






