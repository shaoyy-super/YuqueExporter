# 系统目的
| BOSS原画 | ![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731051721721-f530b78e-dc84-4fc9-8508-618255245231.png) | |
| --- | --- | --- |
| 负责人 | 陆晓笛 | |
| 修订记录 | 2024.11.8 | 建立文档 |




# 参考视频
**神庙逃亡—跑酷**

[bilibili](https://player.bilibili.com/player.html?bvid=BV12N4y1R7Ab&autoplay=0)

**古惑狼—跑酷**

[bilibili](https://player.bilibili.com/player.html?bvid=BV1D5411j789&p=2&page=2&autoplay=0)

**捕鱼大作战-太空猫**

[此处为语雀卡片，点击链接查看](https://www.yuque.com/ttk5k0/manpny/ms6dvd3u6d53za9n#gYuY7)

# 游戏流程示意图
## 类神庙逃亡式跑酷演出
![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731588101465-e8c22991-76a1-4cab-a76b-585f14c52180.png)

纯播放演出，模拟石像进行跑酷，吃金币，过障碍。

![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731588330534-bf42488f-c873-4ebf-bfb5-83c72b778438.png)

# 配置表说明
| **<font style="color:black;">id</font>** | | | **<font style="color:black;">probability</font>** | **<font style="color:black;">score</font>** | **<font style="color:black;">weight</font>** | **<font style="color:black;">round1_score</font>** | **<font style="color:black;">round2_score</font>** | **<font style="color:black;">round3_score</font>** | **<font style="color:black;">gold_count</font>** | **<font style="color:black;">gold_score</font>** | **<font style="color:black;">item_rate</font>** | **<font style="color:black;">round_rate</font>** | **<font style="color:black;">scene</font>** | **<font style="color:black;">trap</font>** |
| :---: | --- | --- | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| | | | | | | | | | | | | | | |
| **<font style="color:black;">Normal</font>** | | | **<font style="color:black;">Normal</font>** | **<font style="color:black;">Array</font>** | **<font style="color:black;">Array</font>** | **<font style="color:black;">Array</font>** | **<font style="color:black;">Array</font>** | **<font style="color:black;">Array</font>** | **<font style="color:black;">Normal</font>** | **<font style="color:black;">Normal</font>** | **<font style="color:black;">Normal</font>** | **<font style="color:black;">Normal</font>** | **<font style="color:black;">Array</font>** | **<font style="color:black;">Array</font>** |
| **<font style="color:black;">模型ID</font>** | **<font style="color:black;">策划备注</font>** | **<font style="color:black;">鱼名备注</font>** | **<font style="color:black;">概率   </font>****<font style="color:black;">十萬分比</font>** | **<font style="color:black;">总魚分</font>** | **<font style="color:black;">权重</font>** | **<font style="color:black;">第一轮得分范围</font>** | **<font style="color:black;">第二轮得分范围</font>** | **<font style="color:black;">第三轮得分范围</font>** | **<font style="color:black;">单个金币组数量</font>** | **<font style="color:black;">单个金币倍数</font>** | **<font style="color:black;">道具加成倍率（千分比）</font>** | **<font style="color:black;">每轮倍率加成（千分比）</font>** | **<font style="color:black;">跑酷场景名称</font>** | **<font style="color:black;">障碍模型</font>** |
| <font style="color:black;">60</font> | <font style="color:black;">Fish_3213</font> | <font style="color:black;">復活石像</font> | <font style="color:black;">450</font> | <font style="color:black;">500;1000;1500;2000</font> | <font style="color:black;">4;3;2;1</font> | <font style="color:black;">300;600</font> | <font style="color:black;">400;800</font> | <font style="color:black;">500;1000</font> | <font style="color:black;">10</font> | <font style="color:black;">10</font> | <font style="color:black;">500</font> | <font style="color:black;">1000</font> | | |


+ 设置多个档位的总鱼分，击败boss后服务器随机选择一档。
+ 设置三轮得分范围，前端根据总鱼分进行拆解，来模拟每轮跑酷情况和每轮鱼分。
+ 鱼分=鱼倍*系数，金币为鱼倍加成，特殊道具为系数加成。
+ 金币设置为组的形式，每组鱼分倍数对应为金币数乘单个金币倍数，每组的鱼分需要能被每轮除尽。
+ 每完成1轮，倍率会进行加成。
+ 场景由多段地块进行拼接组成，当前场景上制作了断崖，后续看做法，是把障碍做到场景中，还是单独制作由程序选择生成时机。

# UI客户端
## UI—BOSS入场—2档
![](https://cdn.nlark.com/yuque/0/2024/png/49594022/1729223682267-86e52d0a-694b-4544-88f9-3c9b5a0b1e50.png)

1. 鱼种图片
2. 入场提示—复活石像来袭，最高99999倍

## UI—进度条
![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1732621437134-8f299ab5-0648-4f2b-80c9-0285d29425ac.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1732623318927-75bb64ae-4a93-47bc-8778-f42fbb50502b.png)

+ 每完成1轮，重置进度，起点和终点的轮次变更，石像增加一个图标，从新从起点出发。
+ 到了第3轮时，起点显示3，终点显示4，石像处显示3个图标。

## UI—结算展示
![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731383041912-59d06413-9d74-4c62-95b1-4ba8a100335e.png)

1. 当前鱼倍和系数展示，左侧为鱼倍，右侧为系数，结算时最终鱼分为二者相乘。

      本金最多为5位数，加成值最多为1位数。

2. 显示本轮路程进度条，随着进度逐渐变色。
3. 整体需要一个当前石像对应跑酷主题的包装。

## UI—最终结算—金币框
+ UI小结算&UI大结算
+ UI小结算上方同样有装饰格显示，展示获得的装饰

## UI—BOSS图鉴，奖金转盘，公告
| 图鉴，特殊鱼，2挡 | 奖金转盘 | 公告 |
| --- | --- | --- |
| ![](https://cdn.nlark.com/yuque/0/2024/png/49594022/1729223917216-bf851671-e185-49f6-9d31-2bbba707c83e.png) | ![](https://cdn.nlark.com/yuque/0/2024/png/49594022/1730948589569-4f705f0d-b35f-430c-921b-a3858aad33ae.png) | ![](https://cdn.nlark.com/yuque/0/2024/png/49594022/1729223900490-78467384-4f85-428a-bd81-7b6e5d822916.png) |






# 原画，3D模型
| 原画需求 | 参考 |
| --- | --- |
| 1. 美术风格<br/>    1. <br/>2. 造型<br/>    1. <br/><br/><br/><br/><br/> | ![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731051721721-f530b78e-dc84-4fc9-8508-618255245231.png) |




| 3D模型需求 | 参考 |
| --- | --- |
| 1. 美术风格<br/>2. 造型<br/>3. 金币模型：套用现在游戏中的金币<br/>4. 加成道具：五角星模型，参考太空猫中的五角星<br/><br/><br/><br/><br/> | ![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731051721721-f530b78e-dc84-4fc9-8508-618255245231.png)<br/>![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1732693685299-4da9b1cb-20b5-49b9-a4f2-0fb9506b677c.png) |




| 3D场景需求 | 参考 |
| --- | --- |
| 1. 跑酷场景，分为多段<br/>2. 多种障碍设计<br/>3. 检查点场景<br/>可参考神庙逃亡中的场景和障碍设计<br/>![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731574992180-c1b6441d-5b9f-47b3-a6e8-abcf767c7b0f.png)<br/><br/><br/> | ![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731493533454-eff98eb6-0661-41dc-9468-b65c7e229d47.png)![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1731555826203-fded4dcb-9d49-4e93-9294-b5b6c77fb078.png) |


# 3D动作，特效
### 入场提示
### 入场
|  | 参考 |
| --- | --- |
| 动作：<br/>1. 屏幕下方出现土地地面，三个雕像从土里钻出，三个雕像从土里钻出是都是裸体状态，钻出后，第二第三个雕像从地面拿出衣服穿在身上，然后第一个向左边走路离开，第三个向屏幕右边走路离开，中间第二个，在中间等待一下，（可以做个左右看一下的效果，然后小跑向屏幕右侧。）<br/>特效<br/>1. 从土地里钻出特效<br/>2. 穿衣服时特效<br/>3. 走路时身上碎屑和地上灰尘特效<br/><br/><br/><br/><br/> |  |


### 轨迹
|  | 参考 |
| --- | --- |
| 动作<br/>1. 移动动作：石像在屏幕内左右走动，走路动作（原地循环）<br/>2. 移动小动作：和走路衔接，停下来，看向屏幕，挠挠头，在继续走（可循环，需和移动动作衔接）<br/>特效<br/>1. 移动时身上碎屑和地上移动时的灰尘特效<br/>2. 移动小动作停下来挠头时碎屑特效<br/><br/><br/><br/><br/> |  |


### 死亡
1. 当前游戏中常规缩放爆炸特效

### 离场
|  | 参考 |
| --- | --- |
| 1. 特效转场，类似赛马形式的转场特效<br/><br/><br/><br/><br/> |  |




### 跑酷
**动作**

|  | 参考 |
| --- | --- |
| 1、跑步动作<br/>2、跳跃动作<br/>3、死亡动作<br/>死亡动作待定，可能需要根据不同障碍来单独设计。<br/>当前暂定为掉落和死亡解体两种。<br/>4、成功结算时获取宝藏动作表演 | 参照神庙逃亡中的表现效果<br/>[bilibili](https://player.bilibili.com/player.html?bvid=BV12N4y1R7Ab&autoplay=0)  |


**特效**

|  | 参考 |
| --- | --- |
| 1、吃金币的特效<br/>2、吃特殊道具的特效<br/>3、到达检查点的特效，包含人数增加表现、倍率增加动效、速度加快表现<br/>4、底部常驻倍数和倍率展示条倍数和倍率增长动效(参照太空猫吃金币和道具时倍数条的动效） | [bilibili](https://player.bilibili.com/player.html?bvid=BV12N4y1R7Ab&autoplay=0)  [此处为语雀卡片，点击链接查看](https://www.yuque.com/ttk5k0/manpny/ms6dvd3u6d53za9n#Y9mA1)  |












**开会备忘：**

死亡后特效遮一下然后出场景，出开始跑酷UI，然后开始跑酷。

神庙逃亡，一圈加一个人，每圈倍率提升，每圈速度加快。

每圈设置倍数范围，确定最终倍数后，先进行每圈差分，再根据单圈分配到的倍数进行计算需要吃金币的数量和是否需要道具以及是否需要死亡。需要设置权重来判断是否会用道具。

金币为加成，道具和每圈为倍率，最终倍数为二者相乘。

金币设置固定数量为一组，单圈倍数需要为金币数量的倍数。

金币生成位置，不能生成在起点，陷阱长度范围内，两个金币组之间间隔随机距离。

地图由多段场景拼成，直线+带弧线的弯道，设置多种陷阱，比如地刺，地洞，滚筒等。

石像跑步时只需要一种跑步动作和跳跃动作，根据陷阱来设计具体的额外动作和死亡动作，额外动作比如滑铲，翻滚等，死亡动作比如落下，撞击碎裂等。



**11月28日：**

**程序：**

1. boss渔场中轨迹功能开发（动作配合）
2. 石像出场顺序调整，石像等级从低到高
3. 石像每轮速度加快时自身动画速度匹配（先程序尝试，效果不好动作在单独做动作适配）
4. 吃金币的效果优化，碰撞时不要马上消失，吃金币飞到鱼分框（配合特效）
5. 跑酷中鱼分框位置和UI优化，放左侧，进度条待定
6. 道具规则修改，去除系数，改为吃道具直接加一个大的鱼倍
7. 石像跑的时候会一顿一顿，忽快忽慢
8. 石像跑的时候会突然被拉到空中（已解决，待测试）
9. 石像转弯漂移
10. 将单独的检查点场景衔接在第一轮和第二轮之间
11. 陷阱不应该生成在转角。
12. 跑酷结束流程优化，中陷阱、石像死亡表现、先结算鱼分再转场，再接小结算大结算
13. 线路重叠问题优化（场景配合)
14. 死亡时需要能看到后续场景（已解决，待测试）
15. 各类特效的接入

**场景：**

1. 初始场景效果优化，比如减少些树，增加些石庙等
2. 整体场景太亮了，没有投影（TA配合）
3. 加成道具需要进一步设计，换色、放大、自发光等
4. 制作单独的检查点场景，为一条直线，中间为检查点
5. 增加几套陷阱。
6. 整体场景表现、结构拼接持续优化

**动作：**

1. 增加石像在起点、检查点的出生动作
2. 可以的话直接出一个金币，金币增加自转效果（特效配合）

**特效：**

1. 石像吃金币、吃道具时的表现，金币飞往鱼分框、以及鱼分框的表现
2. 检查点特效，结合场景具体设计
3. 初始石像出生特效（角色从地里出来），新增加石像伙伴的出生特效（跳出来特效，落地实体）
4. 全屏加速特效，第二轮增加一些，第三轮加强
5. 石像死亡表现，变成一摊泥
6. 捕获石像和石像跑酷结束的转场特效

**UI：**

1. 跑酷中的鱼分框重新设计，游戏过程中统计鱼倍是不放正下方，可以是左侧或者右侧。考虑是否可以和进度条合并设计
2. 原先底部的鱼分框设计先保留，暂定结算时使用

