

# 一、概述
## 1.1  文档说明
背包系统提供了一个存放和管理玩家物品的空间，包括宝箱（非商城类宝箱），碎片，宝石，和道具等。玩家可以通过背包系统查看物品的详情，进行开启宝箱，合成鱼炮等操作。



背包系统是与玩家进度和资源紧密相连的关键功能。它不仅需要提供存放空间，还需要实现各种物品管理和操作的功能，使得玩家可以高效的使用自己的资源，优化自己的装备和策略，从而增加游戏的深度和策略性。



## 1.2  文档维护
| <font style="color:#FFFFFF;">版本</font> | <font style="color:#FFFFFF;">时间</font> | <font style="color:#FFFFFF;">负责人</font> | <font style="color:#FFFFFF;">修改内容</font> |
| --- | --- | --- | --- |
| v1.0 | 2024.6.21 | 徐翰文 | 文档创建 |
| | | | |




### 1.3  设计思路
在游戏过程中，玩家将会获得各种物品，如鱼炮，宝箱，碎片，宝石，道具等。除了鱼炮/宝箱外，这些物品会被存放在背包中，玩家可以在背包中查看物品的详情，进行升级，回收，开启宝箱，合成操作等。此外，背包还提供了分类和排序的功能，便于玩家查找和管理物品。



## 1.4系统框架设计图
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/45385144/1718948794751-9981ea22-047a-496b-8507-31adf102558f.jpeg)



# 二、功能说明
## 2.1名词设定
| 中文 | 背包 | 物品 | 礼盒 | 碎片 | 技能 |
| --- | --- | --- | --- | --- | --- |
| 英文 | backpack | item | gift box | shards | skill |




## 2.2整体流程
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/45385144/1718950877324-b53f7d40-d5ec-469a-be7f-3d7ecd8efcdb.jpeg)

##### 
### 三、背包系统界面说明
##### 3.1  背包系统入口
1. 主界面背包/头像按钮进入背包系统，具体来说，页面右侧才是背包功能。

![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1718951363038-bfb6628a-04c1-4d24-8705-6f8d79034996.png)

①货币栏。包含金币和fish币。

②格子。如果有物品则显示物品，没物品则显示空格子。

③物品说明。点击物品后唤出，不同类型的物品说明，下方有不同的互动按钮。

### 3.2  背包系统流程
![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1719820073719-d56c8abb-5e2b-4926-b8a3-d42e499e335b.png)

点击背包内，道具的icon，唤出物品说明。

①物品icon

②物品名称

③物品描述

④互动按钮



根据物品的类型，按钮有不同的规则：



### a.礼盒
①该类型的道具在背包中，多个数量会堆叠，即背包内只有1个icon，并且右侧显示数量。

![](https://cdn.nlark.com/yuque/0/2024/png/45385144/1718939997917-05d7a8ee-c368-43bb-98ef-031f8044f8ac.png)

②物品说明下方会出现开启按钮。

③点击开启后，弹出提示告知玩家本次开启获得的道具，包括类型和个数。若有多个道具，则点击开启全部开启。

### b.碎片
①物品说明下方会出现合成按钮。

②无论道具是否足够，点击前往，弹到外链。

④若碎片数量足够合成复数个道具，则点击合成全部合成。



### c.技能
①技能这个类型在物品说明中没有按钮。





### 3.3   背包系统规则


1. 排序优先级礼盒、碎片、宝石、道具
    1. 根据品质高低排序
2. 礼盒
    1. 根据品质高低排序
3. 碎片
    1. 根据品质高低排序
4. 宝石
    1. 根据宝石等级高低排序
5. 道具：
    1. 根据价值高低排序





### 3.4 其他
左侧个人中心部分详见





# 四、配置表说明
| | | |  | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| | | |  | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | |
| | | | <font style="color:rgb(255, 255, 255);">物品表（item）</font> | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | |
| | | | item功能在各个具体系统中调用，这里仅配置物品表 | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | |
| | | |  | | | | 表头 | <font style="color:#000000;">id</font> | <font style="color:#000000;">name</font> | <font style="color:#000000;">func_desc</font> | <font style="color:#000000;">desc</font> | <font style="color:#000000;">server_type</font> | <font style="color:#000000;">icon</font> | <font style="color:#000000;">icon_1</font> | <font style="color:#000000;">second_icon</font> | <font style="color:#000000;">second_icon_1</font> | <font style="color:#000000;">text_icon</font> | <font style="color:#000000;">quality</font> | <font style="color:#000000;">stack_limit</font> | <font style="color:#000000;">value_limit</font> | <font style="color:#000000;">type</font> | <font style="color:#000000;">type_sort</font> | <font style="color:#000000;">show_type</font> | <font style="color:#000000;">expired_begin</font> | <font style="color:#000000;">expired_date</font> | <font style="color:#000000;">expired_time</font> | <font style="color:#000000;">auto_use</font> | <font style="color:#000000;">use_push</font> | <font style="color:#000000;">use_lv</font> | <font style="color:#000000;">useable</font> | | | | | | | | <font style="color:#000000;">supplier</font> | | | <font style="color:#000000;">can_sell</font> | <font style="color:#000000;">price</font> | | <font style="color:#000000;">show_count</font> | <font style="color:#000000;"></font> |
| | | | | | | | 数据类型 | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Lang</font> | <font style="color:#000000;">Lang</font> | <font style="color:#000000;">Lang</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Array</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal;Array</font> | <font style="color:#000000;">Normal;Array</font> | <font style="color:#000000;">Normal;Array</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;">Normal;Array</font> | <font style="color:#000000;">Normal;Array</font> | <font style="color:#000000;">Normal</font> | <font style="color:#000000;"></font> |
| | | | | | | | 注释 | <font style="color:#000000;">唯一ID   </font><font style="color:#000000;">物品ID</font> | <font style="color:#000000;">道具名</font> | <font style="color:#000000;">道具功能描述   </font><font style="color:#000000;">不填则不显示   </font><font style="color:#000000;">礼包类型详见备注页</font> | <font style="color:#000000;">道具包装文案描述</font> | <font style="color:#000000;">物品的属性分类   </font><font style="color:#000000;">由服务器维护,不可随意更改   </font><font style="color:#000000;">1=普通物品   </font> | <font style="color:#000000;">物品使用的基本图标   </font><font style="color:#000000;">配置ABFileConfigIcon   </font><font style="color:#000000;">对应ID</font> | <font style="color:#000000;">物品使用的基本图标   </font><font style="color:#000000;">配置ABFileConfigIcon   </font><font style="color:#000000;">对应ID</font> | <font style="color:#000000;">特殊物品在特殊界面使用的特殊图标   </font><font style="color:#000000;">配置ABFileConfigIcon   </font><font style="color:#000000;">对应ID      </font><font style="color:#000000;">资源条使用的小图标配置在这里</font> | <font style="color:#000000;">特殊物品在特殊界面使用的特殊图标   </font><font style="color:#000000;">配置ABFileConfigIcon   </font><font style="color:#000000;">对应ID      </font><font style="color:#000000;">资源条使用的小图标配置在这里</font> | <font style="color:#000000;">可以用于图文混排中的图标   </font><font style="color:#000000;">目前是临时方案，需要配置AssetName和SpriteName,以Array的形式进行配置      </font><font style="color:#000000;">后续正式之后仅配置SpriteName</font> | <font style="color:#000000;">物品的品质   </font><font style="color:#000000;">根据配置设置不同稀有度   </font><font style="color:#000000;">1=白 2=绿 3=蓝 4=紫   </font><font style="color:#000000;">5=金 6=红 7=彩</font> | <font style="color:#000000;">物品的堆叠数量   </font><font style="color:#000000;">0：无上限   </font><font style="color:#000000;">1：无法堆叠</font> | <font style="color:#000000;">资源限制   </font><font style="color:#000000;">超过上限不可购买   </font><font style="color:#000000;">获得时自动出售   </font><font style="color:#000000;">0：无上限</font> | <font style="color:#000000;">物品的实际类型   </font><font style="color:#000000;">101=玩家数值、货币   </font><font style="color:#000000;">201=普通道具   </font><font style="color:#000000;">301=随机礼包   </font><font style="color:#000000;">302=可选礼包   </font><font style="color:#000000;">401=鱼炮宝箱碎片</font><font style="color:#000000;"> </font> | <font style="color:#000000;">物品大类的排序优先级   </font><font style="color:#000000;">降序排列</font> | <font style="color:#000000;">物品在背包中排序优先级   </font><font style="color:#000000;">配置的数值越小，优先级越低，最低为0   </font><font style="color:#000000;">相同优先级下，以物品ID作为第二条件排序，ID越小优先级越高   </font> | <font style="color:#000000;">过期时间   </font><font style="color:#000000;">相对开服时间，expired_begin、expired_date、expired_time同时只能存在一个，同时存在时，取第一个</font> | <font style="color:#000000;">过期日期   </font><font style="color:#000000;">当前日期超过设定日期的0点时，自动删除销毁物品   </font><font style="color:#000000;">0：一直存在   </font><font style="color:#000000;">填写格式为   </font><font style="color:#000000;">YYYY/MM/DD   </font><font style="color:#000000;">优先级比expired_time高</font> | <font style="color:#000000;">过期倒计时   </font><font style="color:#000000;">物品生成时开始倒计时   </font><font style="color:#000000;">当计时为0时，自动删除物品   </font><font style="color:#000000;">0：一直存在   </font><font style="color:#000000;">填写格式为   </font><font style="color:#000000;">M：分钟   </font><font style="color:#000000;">H：小时   </font><font style="color:#000000;">D：天   </font><font style="color:#000000;">有倒计时物品无法堆叠</font> | <font style="color:#000000;">物品进入背包后是否被自动使用   </font><font style="color:#000000;">0=否   </font><font style="color:#000000;">1=是</font> | <font style="color:#000000;">物品是否被快捷使用功能推送   </font><font style="color:#000000;">0=否   </font><font style="color:#000000;">1=是</font> | <font style="color:#000000;">使用物品需要的最低玩家角色等级   </font><font style="color:#000000;">0=无条件   </font> | <font style="color:#000000;">设定物品使用效果   </font><font style="color:#000000;">1=获得玩家数值   </font><font style="color:#000000;">2=drop   </font><font style="color:#000000;">3=合成道具   </font><font style="color:#000000;">4=获得鱼炮</font> | <font style="color:#000000;">参数配置   </font><font style="color:#000000;">class=1 param1=数值类型   </font><font style="color:#000000;">class=2 param1=掉落ID   </font><font style="color:#000000;">class=3 param1=合成目标道具id   </font><font style="color:#000000;">class=4 param1=鱼炮id</font> | <font style="color:#000000;">参数配置   </font><font style="color:#000000;">class=1 param2=具体数量   </font><font style="color:#000000;">class=3 param2=合成需要的数量   </font><font style="color:#000000;">class=4 param2=鱼炮等级 为0时默认1级   </font> | <font style="color:#000000;">预留的参数配置   </font> | <font style="color:#000000;">预留的参数配置</font> | <font style="color:#000000;">背包内物品跳转位置   </font><font style="color:#000000;">关联Goto_Goto_id   </font><font style="color:#000000;">0=不跳转</font> | <font style="color:#000000;">预留的参数配置</font> | <font style="color:#000000;">预留的参数配置</font> | <font style="color:#000000;">以文本的方式说明物品来源   </font><font style="color:#000000;">文字设定读取StringConfig_Hint中配置的ID   </font><font style="color:#000000;">允许多个配置，以;隔开</font> | <font style="color:#000000;">根据配置的可用物品ID，通过物品快捷使用系统在显示来源界面时显示使用推送   </font><font style="color:#000000;">具体状态见补充说明   </font><font style="color:#000000;">允许多个配置，以;隔开   </font><font style="color:#000000;">关联Item_ItemTotal_id</font> | <font style="color:#000000;">关联Supplier_Supplier_id</font> | <font style="color:#000000;">物品是否被出售   </font><font style="color:#000000;">0=否   </font><font style="color:#000000;">1=是+AA4</font> | <font style="color:#000000;">单个物品被出售后可获得的物品   </font><font style="color:#000000;">0：出售不获得物品   </font><font style="color:#000000;">填写物品ID，允许多个   </font><font style="color:#000000;">以;隔开   </font><font style="color:#000000;">关联Item_</font> | <font style="color:#000000;">与type中配置的物品ID对应，设置出售获得的物品数量   </font><font style="color:#000000;">0：没有数量   </font><font style="color:#000000;">填写数量值，允许多个   </font><font style="color:#000000;">以;隔开</font> | <font style="color:#000000;">物品是否显示持有数量   </font><font style="color:#000000;">0=否   </font><font style="color:#000000;">1=是</font> | <font style="color:#000000;"></font> |
| | | | | | | |  | <font style="color:#000000;">1001</font> | <font style="color:#000000;">青铜宝箱</font> | <font style="color:#000000;">青铜宝箱：每日可消耗金币开启10次，开启后有几率获得游戏金币、鱼炮、Fish币等。</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">Prefabs/bx_1</font> | <font style="color:#000000;">Prefabs/bx_1</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;"></font> |


# 五、功能需求清单
| **<font style="color:#ffffff;">编号</font>** | **<font style="color:#ffffff;">分类</font>** | **<font style="color:#ffffff;">优先级</font>** | **<font style="color:#ffffff;">需求描述</font>** | **<font style="color:#ffffff;">自检</font>** | **<font style="color:#ffffff;">确认</font>** | **<font style="color:#ffffff;">备注</font>** |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| <font style="color:#000000;">1</font> | <font style="color:#000000;">基础功能</font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">通过主页面-背包正常唤出页面</font> | | | |
| <font style="color:#000000;">2</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">通过主页面-头像正常唤出页面</font> | | | |
| <font style="color:#000000;">3</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">物品实时刷新</font> | | | |
| <font style="color:#000000;">4</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">点击icon唤出规则说明</font> | | | |
| <font style="color:#000000;">5</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具按规则排序</font> | | | |
| <font style="color:#000000;">6</font> | <font style="color:#000000;">合成</font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">点击合成，判断数量</font> | | | |
| <font style="color:#000000;">7</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">数量不足，合成正常飘字</font> | | | |
| <font style="color:#000000;">8</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">合成成功唤出二级页面</font> | | | |
| <font style="color:#000000;">9</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">一次性可合成复数道具</font> | | | |
| <font style="color:#000000;">10</font> | <font style="color:#000000;">开启</font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">礼盒类道具是否能正常开启</font> | | | |
| <font style="color:#000000;">11</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">一次性可开启多个堆叠道具</font> | | | |
| <font style="color:#000000;">12</font> | <font style="color:#000000;">配置控制</font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具名称、类型、描述配置</font> | | | |
| <font style="color:#000000;">13</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具按类型分类</font> | | | |
| <font style="color:#000000;">14</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具按稀有度分类</font> | | | |
| <font style="color:#000000;">15</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具堆叠上限</font> | | | |
| <font style="color:#000000;">16</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">背包内显示/隐藏</font> | | | |
| <font style="color:#000000;">17</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具倒计时</font> | | | |
| <font style="color:#000000;">18</font> | | <font style="color:#000000;">1</font> | <font style="color:#000000;">道具跳转</font> | | | |




# 六、美术需求清单
### 6.1  2d需求
无



### 6.2 页面需求
| **<font style="color:#ffffff;">编号</font>** | **<font style="color:#ffffff;">界面</font>** | **<font style="color:#ffffff;">性质</font>** |
| :---: | :---: | :---: |
| <font style="color:#000000;">1</font> | <font style="color:#000000;">背包</font> | <font style="color:#000000;">一级界面</font> |
| <font style="color:#000000;">2</font> | <font style="color:#000000;">物品说明-按钮</font> | <font style="color:#000000;">弹框界面</font> |
| <font style="color:#000000;">3</font> | <font style="color:#000000;">物品说明-无按钮</font> | <font style="color:#000000;">弹框界面</font> |
| <font style="color:#000000;">4</font> | <font style="color:#000000;">通用提示框</font> | <font style="color:#000000;">二级页面</font> |






### 6.3动效需求
无



### 6.4  场景需求
无





# 七、string需求
| **<font style="color:#ffffff;">类别</font>** | **<font style="color:#ffffff;">目标操作</font>** | **<font style="color:#ffffff;">触发条件</font>** | **<font style="color:#ffffff;">提示形式</font>** | **<font style="color:#ffffff;">提示string</font>** | **<font style="color:#ffffff;">stringID</font>** |
| :---: | :---: | :---: | :---: | :---: | :---: |
| <font style="color:#000000;">物品详情</font> | <font style="color:#000000;">点击合成</font> | <font style="color:#000000;">合成所需的数量不足</font> | <font style="color:#000000;">文字</font> | <font style="color:#000000;">道具不足</font> | |


