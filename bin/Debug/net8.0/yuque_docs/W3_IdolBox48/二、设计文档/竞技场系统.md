#  系统定位
验证玩家游戏成果的系统，大佬玩家获取治理币的主要途径。

# 用户体验
根据玩家投入进行分层：

+ 分段位：**段位竞技场**
+ **全服竞技场、应援竞技场**

# 具体设计
## 应援竞技场
### 界面及交互
#### 应援竞技场主界面
1. 玩法标题区域
    1. 玩法标题及详情介绍按钮
        1. 点击弹出玩法介绍通用弹窗
    2. 结算倒计时
2. 玩家列表区域
    1. 榜单玩家的头像、玩家名称和战力
        1. 点击该区域弹出玩家个人名片
    2. 自己的头像、名称和战力
    3. 应援按钮
        1. 点击后弹出[应援二级界面](#er2MC)
    4. 奖励预览按钮
        1. 点击后弹[应援竞技场奖励预览界面](#XJvsL)
3. 页签切换
    1. 点击切换不同的竞技场玩法

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1715136944066-e3348241-3031-4e7a-996a-e91206decfea.png)

#### 应援二级界面
1. 玩家当前拥有的游戏货币与治理币
2. 应援金额标题及显示框
3. 清零按钮、-10k、+10k、全部按钮
    1. 点击清零按钮，清除显示框内内容
    2. 点击-10k/+10k按钮，显示框对应金额
    3. 点击全部按钮，显示框显示全部金额
4. 确定按钮
    1. 点击后捐献对应金额

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1715136738991-b98440ba-dcec-481c-8eac-7bd952face62.png?x-oss-process=image%2Fformat%2Cwebp)

#### 应援竞技场奖励预览界面
1. 标题与结算倒计时
2. 奖励预览区域
    1. 排名区间+奖励icon与数量
    2. 排名区间+金币icon+描述文字（返还所有应援金币）

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1715137463098-dc00c2d2-953b-4da7-8a44-1ae211101ab9.png)

### 规则
#### 功能开启条件
+ 拥有NFT

#### 应援规则
+ 玩家可以对当前榜单上玩家捐献游戏币进行应援
+ 单次应援金额有最小数额限制，不作上限
+ 应援后消耗自身游戏币，对应玩家应援积分实时变化

#### 排行榜规则
**榜单开启**

+ 所有拥有NFT玩家人数大于100人【暂定】

**榜单数量与容量**

+ 根据参与玩家数进行随机分组，玩家越多分组越多

**分组规则**

+ 单组人数上限2000人
+ 分组数N = **⌈**参与玩家总数/单组人数上限**⌉**，每个组人数均分
+ 根据玩家历史获得治理币区间，每个区间随机 （100/N）% 乘 该区间玩家数 分到同一组
    - 例：有9000人参与，历史获得治理币1~10个的玩家有1000个，历史获得治理币11~50个的玩家有500个...
    - 则分为5组，每组1800人=1000x20% + 500x20% + ...

| <font style="color:black;">玩家历史获得治理币区间</font> |
| --- |
| <font style="color:black;">1;10</font> |
| <font style="color:black;">11;50</font> |
| <font style="color:black;">51;100</font> |
| <font style="color:black;">101;500</font> |
| <font style="color:black;">501;1000</font> |
| <font style="color:black;">1001;2000</font> |
| <font style="color:black;">2001;5000</font> |
| <font style="color:black;">5001;9999999</font> |


+ 当有新玩家拥有NFT开启应援竞技场功能时，随机将该玩家分配进一个未满上限的榜单

**排名规则**

+ 根据**玩家获得治理币总量**降序排列
+ 显示前10名与自己的排名
+ 若应援金额相同，先达到应援金额的名次较高

**结算规则**

+ 每日23点进行结算
+ 次日零点重置排行榜

#### 奖励规则
**排名奖励**

+ 每个榜单前10的玩家获得治理币奖励
+ 其余玩家返回所应援的游戏货币
+ 奖励通过邮箱发放

## 段位竞技场
### 界面及交互
#### 段位竞技场主界面
1. 玩法标题区域
    1. 玩法标题
    2. 结算倒计时
    3. 快升段时的tips
        1. 当玩家拥有的治理币数量超过段位所需治理币数量的90%时，判定为即将升段
2. 玩家列表区域
    1. 榜单上玩家信息（排名、头像、名称、战力）
        1. 点击玩家头像弹出玩家个人名片
    2. 自己的玩家信息
    3. 奖励预览按钮
        1. 点击后弹出[奖励预览界面](#OSuJZ)
    4. pk日志按钮
        1. 点击后跳转到[日志界面](#dSJsy)
    5. 挑战按钮
        1. 点击后跳转到[挑战界面](#PSS5K)
3. 页签切换

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1714368241628-ccfbc0c8-c080-4bdd-9f4d-b9a5e0643b85.png)

#### 奖励预览界面
1. 标题与结算倒计时
2. 奖励预览区域
    1. 排名区间+奖励icon与数量

** **![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1714368422861-1e731177-e35e-4e7c-b385-9291886a1b8a.png)

#### 日志界面
1. 历史挑战玩家记录区域
    1. 玩家当前战力
    2. 挑战/防守
    3. 历史挑战过玩家的基础信息
        1. 点击玩家头像弹出玩家个人名片
    4. 挑战时间
    5. 挑战结果（失败/胜利）
2. pk卡图标、可用pk卡数/当日pk数上限、资源获取按钮
    1. 点击加号按钮，弹出资源获取弹窗，默认购买数量为1

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1715156512919-4c6962ac-4ae5-417b-b78e-768ad075528c.png)

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1715411860103-9de5c49d-6522-4efd-9f9e-f93abae01272.png)

#### 挑战二级界面
1. 可挑战玩家列表
    1. 玩家当前战力
    2. 可挑战玩家的基础信息
    3. 挑战按钮
2. pk卡图标、可用pk卡数/当日pk数上限、资源获取按钮
3. 刷新列表区域
    1. 总货币/刷新所需货币
    2. 刷新按钮

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1714289549990-80b5d11e-4084-4a31-9fc3-703505cccfe6.png)

#### 玩家升段表现界面
![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1714299676753-d4b322fd-d9be-4b8a-ab24-8d8ca36fd384.png)

### 规则
#### 功能开启条件
+ 玩家拥有NFT

#### 挑战规则
+ 每日有3次挑战次数【暂定】（每日产出3张pk卡，每次挑战消耗pk卡）
    - pk卡可通过游戏货币进行购买
    - pk卡每日有购买上限
+ 只能挑战列表中显示的玩家

**挑战列表刷新规则**

+ 单局挑战结束后自动刷新
+ 可以消耗游戏货币手动刷新

**被挑战者随机规则**

+ 根据玩家当前排名随机显示5个玩家
    - 若玩家当前排名前5，则展示前5个玩家
    - 若玩家当前排名6-20，则顺次展示其前面4个玩家和后1个玩家
    - 若玩家当前排名21~，则在不同排名范围区间内随机5个玩家，保证前4个玩家排名在当前玩家之前，第5个玩家排名在当前玩家之后

| <font style="color:black;">id</font> | <font style="color:black;">当前玩家排名区间</font> | <font style="color:black;">第1个玩家的排名范围（%%）</font> | <font style="color:black;">第2个玩家的排名范围（%%）</font> | <font style="color:black;">第3个玩家的排名范围（%%）</font> | <font style="color:black;">第4个玩家的排名范围（%%）</font> | <font style="color:black;">第5个玩家的排名范围（%%）</font> |
| --- | --- | --- | --- | --- | --- | --- |
| <font style="color:black;">1</font> | <font style="color:black;">21;100</font> | <font style="color:black;">8000;8499</font> | <font style="color:black;">8500;8999</font> | <font style="color:black;">9000;9499</font> | <font style="color:black;">9500;9999</font> | <font style="color:black;">10000;10500</font> |
| <font style="color:black;">2</font> | <font style="color:black;">101;500</font> | <font style="color:black;">8000;8499</font> | <font style="color:black;">8500;8999</font> | <font style="color:black;">9000;9499</font> | <font style="color:black;">9500;9999</font> | <font style="color:black;">10000;10500</font> |
| <font style="color:black;">3</font> | <font style="color:black;">501;1000</font> | <font style="color:black;">8000;8499</font> | <font style="color:black;">8500;8999</font> | <font style="color:black;">9000;9499</font> | <font style="color:black;">9500;9999</font> | <font style="color:black;">10000;10500</font> |
| <font style="color:black;">4</font> | <font style="color:black;">1001;5000</font> | <font style="color:black;">9200;9399</font> | <font style="color:black;">9400;9599</font> | <font style="color:black;">9600;9799</font> | <font style="color:black;">9800;9999</font> | <font style="color:black;">10000;10200</font> |
| <font style="color:black;">5</font> | <font style="color:black;">5001;20000</font> | <font style="color:black;">9600;9699</font> | <font style="color:black;">9700;9799</font> | <font style="color:black;">9800;9899</font> | <font style="color:black;">9900;9999</font> | <font style="color:black;">10000;10100</font> |
| <font style="color:black;">7</font> | <font style="color:black;">20001;50000</font> | <font style="color:black;">9800;9849</font> | <font style="color:black;">9850;9899</font> | <font style="color:black;">9900;9949</font> | <font style="color:black;">9950;9999</font> | <font style="color:black;">10000;10050</font> |
| <font style="color:black;">9</font> | <font style="color:black;">50001;999999</font> | <font style="color:black;">9800;9849</font> | <font style="color:black;">9850;9899</font> | <font style="color:black;">9900;9949</font> | <font style="color:black;">9950;9999</font> | <font style="color:black;">10000;10050</font> |


+ 随机出的被挑战者名次不能与当前玩家相同，也不能与其他随机出的名次相同
+ 如果随机出来的名次没有玩家，则用机器人代替

#### 排行榜规则
**榜单数量与容量**

+ 根据段位共分为6个榜单
+ 除青铜外其他排行榜需要达到最低人数要求才会开放榜单，榜单容量不设上限。

**段位规则**

+ 根据**玩家获得治理币总量**分段
+ 共分六个段位（青铜、白银、黄金、白金、钻石、王者）
    - 0-5为青铜，6-15为白银，16-50为黄金，51-100为铂金，101-500为钻石，501以上为王者。
+ 段位每次结算时计算，玩家升段后进入新的段位排行榜
+ 即将升段：当玩家拥有的治理币数量超过段位所需治理币数量的90%时，判定为即将升段，此时显示即将升段tips

**排名规则**

+ 玩家初始排名从1000以后开始，例如第一个进入竞技场的玩家，排名为1001，以此类推
    - 前面填充机器人
+ 战胜排名大于自己的其他玩家，可以直接与被挑战者交换排名，战胜低名次的玩家，排名不发生变化
+ 玩家排名同步：
    - 若A与B同时挑战C，采用先到先得的规则，如果A已经挑战了C导致C的排名变化，那么B挑战C的时候会失败
    - 若挑战的是机器人，则与机器人交换名次

**结算规则**

+ 每日23点进行结算
+ 次日零点重置排行榜

#### 机器人生成规则
+ 机器人同名同头像
+ 根据机器人id与排名范围，在该机器人属性值的50%~150%范围内随机生成机器人进行填充
+ 见ArenaRankRobot子表。

#### 奖励规则
**战斗奖励**

+ 战斗结束后可以获得固定奖励
+ <font style="background-color:#FBDE28;">战斗胜利：</font>
+ <font style="background-color:#FBDE28;">战斗失败：</font>

**排名奖励**

+ 每个段位每日产出一定数量治理币
+ 按排名分段奖励
+ 结算后发放奖励到邮箱

**每日/每周奖励**

+ 根据每日/每周挑战胜利次数产出奖励，通过邮件发放

#### 日志规则
+ 记录玩家最近10次挑战记录与被挑战记录，按时间由近到远排列：时间+胜利/失败
+ 时间显示规则
    - 空：显示”暂无记录“
    - 不满一天的
        * 当日：显示时间
    - 不满一周的：
        * 昨天
        * 前天
        * 三天前~六天前
    - 不满一个月的：
        * 7天前~13天前：显示一周前
        * 14天前~20天前：显示两周前
    - 不满半年的：
        * 一个月前
        * 两个月前
        * ...

## 全服竞技场
### 界面及交互
1. 界面基本同段位竞技场一致

 ![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1715134769183-2eb4692d-2d36-441c-bd80-12f7299fc17a.png)

### 规则
大致规则同段位排行榜，区别是不分段位，全服拥有NFT的玩家进入同一个榜单；每周结算。

全服竞技场和段位竞技场的pk卡是两种道具。

#### 排行榜规则
**排名规则**

+ 榜单根据**玩家获得治理币总量**进行排名
    - 若相同，则先获得的名次较高

**榜单开启及容量**

+ 全服拥有NFT的玩家达到低人数要求才会开放榜单，榜单容量不设上限

#### 奖励规则
**排名奖励**

+ 每日共产出500个治理币
+ 按排名分段奖励

**结算规则**

+ 每周日23点进行结算
+ 次周一零点重置排行榜

