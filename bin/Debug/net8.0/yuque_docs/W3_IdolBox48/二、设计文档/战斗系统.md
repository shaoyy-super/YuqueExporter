# 系统定位
验证玩家游戏成果的系统。

# 用户体验
用低成本让玩家的数值比拼没那么单调，体验到偶像养成的战斗乐趣。

# 具体设计
## 1、战斗过程
战斗无画面，生成文字战报，玩家每个回合和对手比拼对应属性值，数值大的为胜方，根据胜方/败方的比值双方获得对应的积分，最后根据总积分给出胜负和胜负的标签类型。



_文字战报举例：_

_开始比拼人气：_

_**玩家A**__人气值100，41号美女释放技能明日之星，人气值增加50点，43号美女释放技能逆天改命人气值增加40点，最终人气190。_

_**玩家B**__人气值50点，最终人气50点。_

_现场全是呼喊玩家A名字的声音，玩家b的应援团完全被盖了过去，玩家A完胜获得10分，玩家B惨败积0分。_

__

## 2、战斗逻辑（服务器）
载入双方属性

载入双方所有BUFF

开始战斗

①触发战斗前时BUFF，并记录相应改变（战前buff，例如魅力值属性加成50%、直接获得2分等）

进入属性比拼阶段，依次比拼

开始比拼1号属性

②比拼前触发器触发BUFF记录触发情况（战中buff，例如比拼时有概率提高最终属性、降低对方属性）

③比拼出结果，比拼后BUFF触发（战后buff，一般为结果修正类，例如惨败变为大败、惜败变为小胜）

输出最终结果，双方计分

比拼2号属性以此类推

全部比拼完成，进入结算阶段

根据双方积分输出结果



## 3、战斗逻辑（客户端）
拿到服务器的战斗过程数据，根据战斗文字检索的表格，生成出一个战报：

比如结论字段服务器得出胜负类型为A胜，胜负类型为3，A+10分B+0分，客户端则需要检索字段中的文本id，随机一个文本生成成对应描述。![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1715328305856-32961872-1e07-4acd-9c54-d90dddb60b8b.png)

| <font style="color:black;">胜负类型</font> | <font style="color:black;">名称</font> | <font style="color:black;">比值</font> | <font style="color:black;">文本id</font> |
| :---: | :---: | :---: | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">小胜</font> | <font style="color:black;">1.5</font> | <font style="color:black;">1,2,3,4</font> |
| <font style="color:black;">2</font> | <font style="color:black;">胜利</font> | <font style="color:black;">2.5</font> | |
| <font style="color:black;">3</font> | <font style="color:black;">碾压</font> | <font style="color:black;">5</font> | |






## 4、战中Buff
①战斗开始时获得积分

②比拼xx属性开始阶段修正**属性值**（固定值+百分比）

③比拼xx属性结束是修正比拼**结果**（比如xx属性失败时，有概率更改为小胜）

[BattleInfo.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/43256847/1713437178582-f100b464-6183-4df5-8e34-6f58efe74559.xlsm)

