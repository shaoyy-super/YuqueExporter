# 一、简介
死亡游戏包含  赛马和轮盘赌两个游戏

![](https://cdn.nlark.com/yuque/0/2024/png/44744345/1730799284383-42588310-99ed-4e5e-ad10-1eb9721a86d0.png)

# 二、结构设计
内容：

:::tips
  HorseRaceMgr：赛马游戏管理类，主要处理赛马积分，排名数据逻辑及赛马流程

  UI_HorseRace_Ctrl、UI_HorseRace_Panel：赛马界面逻辑

  UI_HorseRaceResults_Ctrl、UI_HorseRaceResults_Panel：赛马排名显示界面逻辑

  UI_HorseCoin3D：3D文本显示逻辑

  UI_HorseSettlement_Ctrl、UI_HorseSettlement_Panel：游戏结束后的本金变化逻辑

:::

目的：先对自己的功能大结构上的规划，才能指导后面逐步做更详细的设计



# 三、详细结构设计
#### 1、代码结构
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/44744345/1730803169294-0668b401-f7f9-480e-8aad-4c2f6623c90e.jpeg)

#### 2、功能点实现
1、马的模型适配：

在UI_HorseRace_Panel界面设置9个空节点映射马的屏幕位置，运行时转换成3D坐标设置马的位置

2、解决每次速度都一样，被玩家找到规律的问题

暂定做18条速度不一样的tml，每次游戏开始前随机9条

3、马奔跑轨迹实现

Item015_Trajectory 轨迹模型，用于控制马在x轴上的运动轨迹

ltem015_0X 马的模型，配合轨迹播放动画

运行时把ltem015_0X挂在Item015_Trajectory的挂点上

# 四、流程设计
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/44744345/1730871571539-640791d7-bba2-4a23-9f39-50dceb92d359.jpeg)



# 五、提出问题
如果存在重点、难点问题的解决方案没想清楚，可提出问题在会上讨论



---

# 六、总结整理（开发完成后撰写）
开发过程中，很可能产生跟上面方案不一致的地方。可能补充了更多的细节内容，可能由于某些未想到的原因推翻了方案中的一些设定。

所有开发完成后有价值的内容，都可以记录在这里。

