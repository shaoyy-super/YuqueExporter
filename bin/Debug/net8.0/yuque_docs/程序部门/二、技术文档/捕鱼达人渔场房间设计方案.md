# 一、简介
当前项目在表现上仍是单机模式, 即一个玩家操控的炮台和3个机器人逻辑的玩家.

![](https://cdn.nlark.com/yuque/0/2024/png/43288772/1719813620751-7ceab948-e523-4ce2-b813-873544ba0b72.png)

如上图: 左下角为玩家操控炮台, 其余3个位置都是机器人.

后续项目需求存在真人玩家, 故可能需要修改现在的逻辑, 具体可细化为玩家位置可以随意变动, 其他玩家相关行为同步, 机器人相关功能修改新增, 玩家上下位置镜像(即右上玩家在下方玩家视角下是在上方, 在上方玩家视角下是在下方).

# 二、结构设计
:::info
Scene_GameMain_Ctrl: 获取场景里相关GameObject的实例, 主要是炮台.

UI_GameMain_Ctrl: 修改机器人的生成算法, 新增机器人踢出, 玩家进入, 玩家逻辑同步功能.

GunFollow: 修改机器人行为逻辑, 新增相关针对其他玩家的识别, 玩家处于不同位置的效果.

FishMaker: 修改服务器鱼的生成逻辑, 使上下镜像后不同位置效果不一致.

:::



# 三、详细结构设计
内容：

:::info
![](https://cdn.nlark.com/yuque/0/2024/jpeg/43288772/1719818659449-cc6e2d30-a200-4ddd-841c-5a58a7568920.jpeg)

Lua层与C#层的交互简易地用PlayerInfo表示, 两边统一使用PlayerInfo里数据用于各自的逻辑功能.

:::



# 四、流程设计
时序图:

![](https://cdn.nlark.com/yuque/0/2024/png/43288772/1719822208801-746a093f-bc00-4d0f-9309-ebf997b6523e.png)

流程图: 

![](https://cdn.nlark.com/yuque/0/2024/png/43288772/1719820239260-7deb3181-9bb0-4ba5-9ae6-ac95d41ee26c.png)



# 五、提出问题
暂无



