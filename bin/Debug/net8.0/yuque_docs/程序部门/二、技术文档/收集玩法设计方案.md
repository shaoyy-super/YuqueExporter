# 一、简介
内容：收集活动的客户端程序设计

目的：保证其他未参与宣讲会的人员能了解要做的事情

注意点：不要在简介部分讲非常多的内容，讲太多其他人到后面就记不住内容了。如果是简单的功能，可在简介部分把功能介绍完；如果是复杂系统，简介里先做大结构的介绍，后面也可在讲技术细节前，提一下功能介绍（局部的）



# 二、结构设计
内容：

:::info
1. 单人玩法：
2. 主GameMainPanel的Top节点新增一个SingleCollection节点作为活动时间内常驻的一个Tips，根据当前的活动Id、活动进展、活动时间展示页面
3. 单独新建一个文件夹 Collection，UI_SingleCollection_Panel和UI_SingleCollection_Ctrl，作为点击Tips打开的活动详细界面
1. 排行榜玩法：
2. 根据活动ID，在GameMainPanel右边Icon入口群中新增一个Icon BtnRankCollection，同时该Icon还会带有一个可展开的进度展示条Tips，进度条中需展示到达节点末端以及中间比例将会得到的奖励
3. 在Collection文件夹新建界面UI_RankCollection_Panel和UI_RankCollection_Ctrl，作为点击Icon打开的活动详细界面

:::

目的：先对自己的功能大结构上的规划，才能指导后面逐步做更详细的设计



# 三、详细结构设计
内容：

:::info
1. 单人玩法：
2. 因根据策划设计草图和仿品App，在主界面的活动banner(SingleCollection节点)的锚点应在Top节点下。
3. 主界面banner节点内部设计有倒计时，所以需要单独挂上Canvas进行渲染。
4. 主界面banner会有动态进度条的表现，可能最后结果是 进度条涨>进度条满>奖励发放飞出>进度条刷新 这一有节奏的动态过程
5. banner中有可能会叠加限时活动，框体整体都需要根据活动数目自适应大小
6. 主界面banner的奖励部分还会根据奖励种类的介绍，以及如果还有附加限时奖励任务的话，点击奖励图标也会弹出小弹框，弹框对应奖励的描述(一个二级Tips节点，根据点击icon的位置计算二级tips出现的位置，以及做弹框边缘的防出边界的处理)
7. UI_SingleCollection_Panel主要是根据活动ID和配置对界面的还原，根据MVC的要求分离好V和C
8. UI_SingleCollection_Panel有Tips弹框，有两处需要使用到PrefabHelper以及自动布局。
1. 排行榜玩法：
2. 主界面玩法的流程是：棋盘玩法获得道具>道具飞到Icon图标处>进度条Tips出现>进度条Tips增长>进度条满足条件后奖励发放>进度条Tips消失 同时主界面Icon会显示当前玩家的排名信息
3. 因为Icon处有活动结束的倒计时，所以使用单独Canvas进行渲染。
4. UI_RankCollection_Panel界面内部包含多种游戏状态，包含活动待解锁状态界面、活动激活中状态界面、活动结算状态界面、游戏规则界面(经策划确认因为希望增加额外表现故不使用通用帮助系统)。
5. 排名活动中的排行榜控件在Monopoly GO(原版APP)中表现较为特殊，策划案中的描述是大致同排行榜功能中的控件，此处需要对接排行榜功能的开发者，避免开发完后效果不满足需求。

:::



# 四、流程设计
内容：排行榜玩法流程图：

![](https://cdn.nlark.com/yuque/0/2024/png/45382036/1720433625552-6a5fe1de-61c8-4ce8-be45-c112bfa1e296.png)



# 五、提出问题
如果存在重点、难点问题的解决方案没想清楚，可提出问题在会上讨论



