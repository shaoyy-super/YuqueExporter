# 一.简介
该文档为鹦鹉团创建角色系统设计方案，包括选择性别、取昵称等。

系统流程图如下：

![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721963578359-6eda7d91-1698-4096-a8b8-c1888d8a8342.png?x-oss-process=image%2Fformat%2Cwebp)

功能示意图如下：

![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721898526300-8639b642-2adc-40f1-86b6-7e2f4b50864b.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_514%2Climit_0)

![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723542806031-790f4673-8ba0-428e-8c18-68ab3ac18376.png)

角色站位和镜头示意：



![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723600962464-4bd3c53e-2944-47a4-824f-ecc982c2d8bb.png)



![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723600984889-72bac3d4-f139-485c-8572-7ba75e9bcd09.png)

![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723601008314-5b837860-5205-4b5f-90d6-a6878c7c17f5.png)

# 二.结构设计
**1.新增界面相关脚本：**

        * 角色选择与昵称界面： 
        * **UI_Register_Ctrl.lua和UI_Register_Panel.lua**

**2.VM相关脚本：**

        * **LoginVM.lua**，发送和接收服务器协议数据



# 三.详细结构设计


**1.类的依赖关系及重要方法。**

![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/44314719/1723602322312-4341fb90-a857-483e-a28c-d61d66edc968.jpeg)

**2.镜头切换方式**

使用场景中预制体LoginVCM，其中有3个CinemachineVirtualCamera，分别做为全景镜头，女性镜头，男性镜头的机位，全景镜头的Priority为10，女性镜头，男性镜头的Priority为11，切换角色显示对应角色机位，同时隐藏另外角色机位

![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723604372154-6eb0bca1-29e8-4be2-b735-a7022c8d4d70.png)

**3.角色初始点位**

使用场景中预制体LoginRoleNode，LoginFemaleNode为女角色初始位置，LoginMaleNode为男角色初始位置，

![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723604744767-c69d59df-481c-47eb-8667-016550f907a5.png)

**3.场景中3DUI的显示**

3DUI的预制体加载在场景中WorldUIRoot节点下，WorldUIRoot为ResAdapter动态创建

![](https://cdn.nlark.com/yuque/0/2024/png/44314719/1723605131024-5bd1cc38-7ba9-47fb-98eb-a92aa7e28720.png)

# 四.流程设计


昵称是否合法检测流程



![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/44314719/1723555824148-07fbda94-686b-40fb-a00c-59b24ecec1dd.jpeg)

# 五.问题




## 
  
 

