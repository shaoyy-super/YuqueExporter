![](https://cdn.nlark.com/yuque/0/2024/png/43288467/1713175038742-1fc5c32e-8d32-4741-bda5-1ab30d7cf421.png)

### 开启维护公告
编辑游戏区组目录下的notice.json文件，把type等于1的公告show字段修改为1，如下：

![](https://cdn.nlark.com/yuque/0/2024/png/43288467/1713175039002-e5a6349a-3e0f-47d3-a83b-7469b40943b1.png)

### 关闭游戏服务
salt 'ad-*' state.apply game.stop pillar='{"zone": "*"}'

### 备份游戏数据
salt '*' state.apply game.backupdb pillar='{"zone": "*"}'

### 更新游戏内容
+ [<u>服务端更新</u>](https://thoughts.teambition.com/workspaces/5dfb64dfdd03ff001360619e/docs/5ed747221bb9330001331ed3)（注：里面的备份、关服、开服与现有流程重复，操作一次即可）

### 配置游戏强更
+ 配置渠道强更地址

修改group.json中各渠道的强更地址字段urls，如下

[

    {

        "id": 1,

        "name": "mt",

        "version": "2.0",

        "group": "group",

        "channels": 

        [

            {"id": 0, "urls": [""]},

            {"id": 280000, "urls": ["http://www.example.com/example.apk"]},

            {"id": 290000, "urls": ["http://www.example.com/example.apk"]},

        ]

    }]

+ 配置游戏强更版本

提升group.json中对应区组的版本字段version，如1.0提升到2.0

提升group/server_list.json文件字段version_min中的大版本，如1.0.*提升到2.0.0

"version_min": "2.0.0",

"version_max": "2.0.0",

注：

+ group.json中的版本号前两位有效
+ server_list.json中的版本号前3位有效

### 开启游戏服务
+ 开启跨服服务

sh start.sh 4.0.10.102434 -m

+ 开启游戏服务

salt '*' state.apply game.start pillar='{"zone": "*", "version": "4.0.10.102434"}'

注意：以上命令需要修改为正确的版本号

1. 关闭维护公告

还原步骤1，即把type等于1的公告show字段修改为0

