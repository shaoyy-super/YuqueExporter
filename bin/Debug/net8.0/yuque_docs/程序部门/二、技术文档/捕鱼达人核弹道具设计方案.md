# 一、简介
核弹作为道具, 主要流程是点击UI进入瞄准状态, 点击渔场发射到对应位置, 并炸死周围范围内的客户端鱼. 

细节: 

1. 可一次性使用多个, 与使用单个时不做表现差异.
2. 需要支持多人同步
3. 有多种品质, 对应不同表现
4. 有暴击可能(UI表现差异化, 特效一直, 会受到被动属性影响)

# 二、结构设计
内容：

:::tips
SkillSystem: 将其加入ECS系统的原因在于其需要支持多人同步, 为此需要其表现与逻辑分离, 故通过SkillSystem管理其周期.

ItemSkillBoom: 核弹道具具体逻辑, 流程归属于SkillSystem下, 具体的表现逻辑则是在这个脚本内.

UI_FisheryGun: UI层的交互界面逻辑.

UI_ItemBoomUse_Panel: 使用核弹道具的弹窗, 是否通用视UI效果图决定, 暂时没办法判断.

UI_ItemBoomUse_Ctrl: 使用核弹道具的弹窗对应UI逻辑.

多人同步存在2个方向, 一个是走之前的同步子弹协议把核弹瞄准位置同步给其他玩家, 另一个是走使用道具协议广播(需要服务器做额外支持).

:::

# 三、详细结构设计
内容：

:::info
![](https://cdn.nlark.com/yuque/0/2025/png/43288772/1739438332203-832534b8-2e40-44fe-aa88-c829d9321a04.png)

:::



# 四、流程设计
流程图: 

![](https://cdn.nlark.com/yuque/0/2025/png/43288772/1739440656985-2ef1c1ff-8b08-4ec2-858d-d4184b1b9000.png)

时序图: 

![](https://cdn.nlark.com/yuque/0/2025/png/43288772/1739442451424-8a507acb-130c-45f6-9863-0d8d6ce3c9e6.png)



# 五、提出问题
1. 多人同步存在2个方向, 一个是走之前的同步子弹协议把核弹瞄准位置同步给其他玩家, 另一个是走使用道具协议广播(需要服务器做额外支持). 需要确认下使用哪种更为合适?

<font style="color:#DF2A3F;">答: 经讨论采用第一种形式, 道具使用和子弹拆分, 通过子弹同步协议将核弹同步给其他玩家.</font>



---

# 六、总结整理（开发完成后撰写）
开发过程中，很可能产生跟上面方案不一致的地方。可能补充了更多的细节内容，可能由于某些未想到的原因推翻了方案中的一些设定。

所有开发完成后有价值的内容，都可以记录在这里。

