

:::tips
之前商店存在的问题

:::

> 1.之前商店为了支持随机刷新出商品, 结构设计的比较复杂, 同时给维护带来了麻烦. 
>
> 2.随机刷新出商品的功能, 直到项目结束都没有用过
>
> 3.为支持刷新出新的商品, 添加了item_pool_id, index
>
> 
>

![](https://cdn.nlark.com/yuque/0/2024/png/43288467/1719827494438-44a1cd07-0482-41a1-b8fe-17d1343b64f9.png)

:::tips
优化方案

:::

> 1.每个商店的商品是固定的
>
> 2.限购信息只要记录商品id即可, 如果一个商店需要配置两个相同的物品同时限购, 只需要把物品配置成两个不同的商品即可
>
> 3.去掉了version, 直接读取配置,更新配置商品就会更新
>



![](https://cdn.nlark.com/yuque/0/2024/png/43288467/1719826945507-c6d13fb5-653c-4af1-8a78-075a1e1e2e5a.png)



![](https://cdn.nlark.com/yuque/0/2024/png/43288467/1719828392883-7ffd4220-fa7b-42c1-b0a5-0c860bb65158.png)

