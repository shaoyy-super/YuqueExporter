

Coder：[@梁顺巅](undefined/kongbaijiyi202050)  
Reviewer：[@高岳雷](undefined/loading-mozdj)



# 问题记录


1、Sce_City

- [ ] 删掉无关的功能节点

2、 InteractiveTargetCtrl  

- [ ] 一些参数，不要写死在C#层，可以在界面设置
- [ ] 检测目标，不应该依赖 UnityActorCtrl  
- [ ] 在C#里直接检测好目标，直接传给Lua
- [ ] 缺少镜头转动，切换交互目标功能

3、 InteractiveCheckCtrl  

- [ ]  C#功能代码，不要和很具体的业务逻辑绑定死  
- [ ]  根据距离检测可见性，可以计算距离的平方，减少计算量  

4、 UIInteractiveHud3D  

- [ ]  没有按照设计方案处理3DUI跟随目标  
- [ ]  Canvas层级设置不合理
- [ ] 设置3DUI标题错误，不应该和go_id相关
- [ ] 读表方式错误，同一个表的其他字段，应该读表，自己去读
- [ ] 界面文字超框适配
- [ ] 3DUI没有特殊需要，不要嵌套那么多层，参照血条是血条自身有复杂逻辑

5、Scene_Town_Ctrl

- [ ] npc_born_points、npc_point_camera功能上来说是归属一个点位的，不应该分开，包括3DUI跟随的点位（功能缺失）
- [ ] PreloadNPC NPC功能枚举，应该创建一个枚举来检测，不要直接写 == 1、== 2来区分是主城NPC还是野外NPC
- [ ] 重复的代码可以考虑封装起来，比如摇杆操作玩家移动，完全是拷贝了一份野外的代码，如果有新的模块，又得是复制一遍
- [ ] OnInteractiveTarget 在C#代码里，做了处理，就不要在Lua里再检测一遍了，逻辑在C#统一检测完，把最终的目标给Lua就行
- [ ] FindNearsPoint 通过上边的C#检测，这个方法完全不需要了
- [ ] 点击NPC应该先检测距离，本来离NPC很近，就不需要再移动了

