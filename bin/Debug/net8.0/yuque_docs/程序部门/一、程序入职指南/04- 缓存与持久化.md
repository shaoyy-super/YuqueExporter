## 4.1 缓存的意义
[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe700154cc5830001c553c8)

## 4.2 缓存的工作方式
[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe5a58aeaa11900018bec93)

## 4.3 持久化方案
Redis 的持久化方案

AOF， RDB

### 表格设计、
支持增量更新的表格

全量更新的表格

[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe703a1eaa119000191af6d)

定时持久化

定时比较缓存值

## 4.4 使用缓存面临的问题
### 4.4.1 数据一致性如何保证
### 4.4.2 缓存穿透
[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe5a4934cc5830001bfbeaf)

### 4.4.3 缓存击穿
[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe5a2a04cc5830001bf9c02)

### 4.4.4 缓存雪崩
## 4.5 集群与高可用
### 4.5.1 分布式缓存
单点缓存的问题 。1，读写压力

2，单点故障

3，容量有限

redis集群 解决的问题。

集群如何工作。

[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fea091a4cc5830001d5a88c)

[<u>分布式数据拆封方案</u>](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fec23a83739830001a63980)

### 4.5.2 账号数据库集群、
[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe71f0512d5ba000160e0d6)

### 4.5.3 高可用考虑
什么叫高可用。 CAP原则，一致性，可用性，分区容错。

高可用要求带来的问题

分布式数据一致性

[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5fe71d25eaa1190001921e33)

业务隔离性

支持主备切换

**口袋2跨服集群举例**

1.集群结构的思考

[thoughts 文档](https://thoughts.teambition.com/workspaces/5ef1a751f60ea9001bd606cc/docs/5f74309ae6eed5000198e93a)

2.如何保证业务线性化。

每个业务都要关系自己的线性化吗？

如何让业务与执行环境隔离

3.保证业务的高可用

