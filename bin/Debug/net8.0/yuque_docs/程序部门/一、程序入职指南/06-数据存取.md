**1.玩家数据存取**

PlayerVar : 记录玩家数值group,key,value

player:SetVar(Player.PLAYER_VAR_GROUP_ONLINEPATCH, k, 1);player:GetVar(Player.PLAYER_VAR_GROUP_ONLINEPATCH, k)

PlayerValue : 记录玩家数据key,value

player:GetValue(Player.PLAYER_VALUE_LEVEL)player:AddValue(Player.PLAYER_VALUE_LEVEL, 1, Player.PLAYER_VALUE_CHANGE_INIT);player:SetValue(Player.PLAYER_VALUE_LEVEL, 90, Player.PLAYER_VALUE_CHANGE_GM_CODE)

PlayerMiscVar : 功能模块常用存储

1. 在script\Player\PlayerMiscVarDef.lua 添加对应的pb文件和枚举
2. 在server\src\pb\ 文件夹中添加存储文件
3. 在script\Player\MiscVars\ 文件添加数据库序列化反序列化方法

PlayerOfflineMiscVar : 玩家离线数据存储

local miscvar = assert(PlayerMiscVar.GetMiscVarOffline(player_id, PlayerMiscVar.PLAYER_MISCVAR_FISH));PlayerMiscVar.SetMiscVarOffline(player_id, PlayerMiscVar.PLAYER_MISCVAR_FISH, miscvar);

**2.公会数据存取**

GuildValue : 绑定在公会模块的数值和玩家数值用法基本相似

local guild = KGuild.GetGuildById(guild_id);if guild then   guild_level = guild:GetValue(Guild.GUILD_VALUE_LEVEL)end

GuildMiscVar : 公会数据存储相关

1. 在script\Guild\GuildMiscVarDef.lua 添加对应的pb文件和枚举
2. 在server\src\pb\ 文件夹中添加存储文件
3. 在script\Guild\MiscVars\ 文件添加数据库序列化反序列化方法

**3.全局数据存取**

GlobalVar : 设置全局变量

GetGlobalVar(key)SetGlobalVar(key, value)

GlobalMiscVar: 全局存储数据

1. 在script\Global\GlobalMiscVarDef.lua 添加对应的pb文件和枚举
2. 在server\src\pb\ 文件夹中添加存储文件
3. 在script\Global\MiscVars\ 文件添加数据库序列化反序列化方法

GlobalDynamicMiscVar : 全局动态存储数据

可参考冒险岛

**4.缓存（Redis）**

缓存临时数据, 跨服或者gm服务器的redis会落地, 其他服务器的redis只是作为数据缓存

**5.持久化（MySQL）**

可参考record服务器

