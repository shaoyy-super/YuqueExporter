## 测试背景
**分支：**Develop   时间**：**2025.01.08  16:48

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739783159168-4946408d-28c1-4da0-b5c7-e4e425bc936b.png)



**测试内容：**

OPPO R17 低配 ：[<u>极简</u>](https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20250217103613ilye737overview505&project=9912&engine=1)、[<u>CPU</u>](https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20250218175710ilye737overview823&project=9912&engine=1)、<u></u>[<u>GPU</u>](https://www.uwa4d.com/u/got/gpu.html/renderStatistic?dataKey=20250217135337ilye737gpu943&project=9912&engine=1)报告

Redmi6 超低配  ：[<u>极简</u>](https://www.uwa4d.com/u/got/perfanalysis.html/report?dataKey=20250217162546ily8461overview607&project=9912&engine=1)、[<u>GPU</u>](https://www.uwa4d.com/u/got/gpu.html/gpuTemperature?dataKey=20250217164747ily8461gpu862&project=9912&engine=1) 报告



注：由于Redmi6寄存器上限为1024，为了避免FishStandard在场景中不显示，所以将有关SlefShadow的内容，以及FishStancard里关于额外光部分的计算都关闭掉了。

## 低配
### 一、极简报告分析
性能简报

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739856143096-04810b90-78b7-4ca7-815b-e28eda28ef84.png)

FPS均值过低，主要是由于GPU耗时均值过高

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739856554463-69ab6351-c4c4-4c6b-a6d4-ef92029a92c8.png)

### 二、CPU报告分析
————————————————————————————————————

模块耗时统计



![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739873627234-2ca21f10-8c4a-4123-b0f4-6c8ff86869a6.png)

各个部分代码，特别是逻辑代码有很大优化空间

————————————————————————————————————

卡顿点分析![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739873688896-7e6dd8e1-76fd-4208-8adf-08a09ebb3280.png)



————————————————————————————————————

GC.Collect CPU卡顿点![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739873793046-b20bbb33-1ba6-41b0-871a-4dec4d0b46b1.png)

————————————————————————————————————

渲染模块![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739873868040-a10588ae-567f-4719-acd2-a974c71d34b2.png)

<font style="color:rgb(25, 27, 31);">渲染模块我们只关注DrawCall，渲染的主要问题来自于DC过高，可以看出在DrawCall变高的时候，主要是来源于半透明的DrawCall的变化</font>

———————————————————————————————————

<font style="color:rgb(25, 27, 31);">动画模块性能</font>

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739873925766-9e7558ad-aad2-4d59-a213-382d4a3d4f7b.png)

动画耗时高

————————————————————————————————————

<font style="color:rgb(25, 27, 31);">粒子系统性能</font>

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739873940092-657f6321-e58c-4071-8de3-68c32d56588b.png)

<font style="color:rgb(25, 27, 31);">不透明的DrawCall的变化和粒子系统变化趋势相关</font>

### 三、GPU报告分析
| 名称（参考值） | 峰值 | 普通场景均值 | 鱼潮场景均值 |
| :---: | :---: | :---: | :---: |
| drawcall | 487 | 180 | 300 |
| batches | 208 | 122 | 129 |
| triangle（25w） | 42w | 20w | 32w |
| 纹理内存 | 215.37M | 190M | 213M |
| 网格资源内存 | 36.05M | 17.88M | 32.72M |
| Overdraw | 18.36 | 4 | 4.8 |


————————————————————————————————————

渲染统计

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739788314020-1ea98413-5dbb-408c-9f32-fc0822101be2.png)

普通场景时，各项数据平稳变化；相对于普通场景，鱼潮时渲染统计的各项数据变化剧烈，。

其中DrawCall数量变化最为明显，单独看 不透明DrawCall 和 半透明DrawCall的话，不透明DrawCall变化 和 Batcher数量变化趋势差不多，都是因为一波一波的鱼来临产生的，而半透明DrawCall变化剧烈，猜测和发射炮弹时的特效有关。

——————————————————————————————————————

Triangle数量![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739788445836-098c5a32-1d1b-4568-b071-2dc6dc6724f4.png)

主界面的半透明Triangle数量均值甚至高于普通场景的均值，所以在测试的时候主界面甚至比普通场景卡顿

——————————————————————————————————————

纹理资源分析

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739787106523-c7a12abd-593a-4bf7-b5e4-a41d564a3ab5.png)

——————————————————————————————————————

网络资源分析

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739787115093-65f26b54-4804-4e32-8689-838ecb6cbd3e.png)

在4k帧的时候由于第一次进鱼潮，且很快打完，在6k帧重新进鱼潮挂机，所以网络资源呈现以上趋势

——————————————————————————————————————

Overdraw

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739789191943-3413fe21-8dd8-4930-a16b-5e96025d39bb.png)

Overdraw变化较稳定，只有在鱼潮开炮时和切换场景时，会出现暴增情况——————————————————————————————————————

GPU温度

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739789271112-be2455a1-da1c-4eb6-b7f9-ca13423f4c1e.png)

电池温度略高

## 超低配
### 一、极简报告分析
![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739856656699-4f107348-e0f0-433d-9beb-e46f863e8ffd.png)

FPS均值过低是由于GPU耗时和GPU总带宽过高

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739856819255-5f64eb6a-ea8c-46cc-ae86-de70c72bf5fe.png)

GPU总带宽

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739856722510-18d72a9b-c33f-409d-bd90-5425c6da470b.png)

### 二、GPU报告分析
| 名称（参考值） | 峰值 | 普通场景均值 | 鱼潮场景均值 |
| :---: | :---: | :---: | :---: |
| drawcall | 426 | 163 | 220 |
| batches | 187 | 100 | 100 |
| triangle（25w） | 34w | 16w | 26w |
| 纹理内存 | 208.12M | 157M | 208M |
| 网格资源内存 | 35.55M | 21.64M | 35.54M |
| Overdraw | 12.03 | 2.99 | 3 |


————————————————————————————————————

渲染统计

### ![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739790001468-3df33702-be50-4827-b512-189f12cee697.png)
超低配的整体趋势上和低配差不多。

与低配做横向对比，发现在主界面场景时，超低配的不透明的DrawCall数量远少于低配，猜测是和某个shader变体超过寄存器上限导致该shader编译失败导致的。

————————————————————————————————————

Triangle数量

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739844449258-e28c35f7-59bf-41cf-a8b4-6a527e514640.png)

再看主界面场景的面数也可以证实超低配的不透明的DrawCall数量远少于低配是因为shader寄存器的原因

——————————————————————————————————————

纹理资源分析

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739844639150-4c1e669f-2314-42ba-9052-b4ef8bd619a2.png)

纹理资源上超低配和低配完全一样

——————————————————————————————————————

网络资源分析

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739844668371-ae570ff0-4bb6-4fdb-8462-60ec4d64dc60.png)

网络资源上超低配和低配也表现的完全一样

——————————————————————————————————————

Overdraw

![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739844688679-19100a4e-b9b2-4beb-ab5d-79827d9cb3fe.png)

Overdraw也和低配表现呈一样趋势，Overdraw变化较稳定，只有在鱼潮开炮时和切换场景时，会出现暴增情况——————————————————————————————————————

GPU温度![](https://cdn.nlark.com/yuque/0/2025/png/39137189/1739844740642-0e9b44e6-5dc9-4840-a018-71b08dd5b26b.png)

未统计到GPU温度，但是电池温度稳定在34°

