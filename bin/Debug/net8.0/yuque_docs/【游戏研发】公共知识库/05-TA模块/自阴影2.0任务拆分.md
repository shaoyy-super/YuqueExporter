挂载代码：

√ RenderFeature为空时的保护 

√ BoundPosition 位置偏移



Volume:

√ Volume 全局设置移至RenderFeature

√ shadowmap分开设置

√ shadowmap质量添加512选项

√？ Editor布局优化（根据美术的使用习惯设计）&转中文

√ 高级选项



Pass：

√ ProfileTag层级Bug修复

√ CustomSelfShadowPass与AdditionalSelfShadowPass合并

√ NormalmapBias功能确认   FA里注掉了，没用

![](https://cdn.nlark.com/yuque/0/2024/png/45354151/1723025109940-9a425028-da72-4fea-ae22-0932e61588c4.png)

Nilo用法

![](https://cdn.nlark.com/yuque/0/2024/png/45354151/1723025256894-ddb4d0ca-8156-441d-b389-98e2b030a22f.png)

√ 自定义shadowmap和URPshadowmap尺寸一致时是否会产生bug问题确认 --不会（至少测试的时候没问题）

√ ShadowVolume可能为空问题修复（原因大概是为了优化不想每帧获取ShadowVolume，只在Feature创建Pass时传一次值导致）

√ CustomSelfShadowPass加入光源选择，不锁主光

√? 减少或者去除new方法的使用

√ 移除单例设置

√ shadowmap质量升档逻辑修改

√? perfectCullingForShadowCasters逻辑修正 NiloToon中保留了对应功能，经测试，Terrain不接收CustomSelfShadowPass时perfectCullingForShadowCasters开启与否不会导致崩溃，保留功能，默认关闭

√ 灯光移除后持续报错

√ 场景无平行光时的报错保护



Feature:

√? 加入对URP阴影的控制

阴影用LOD分级实现

√ 实时显示Gizmo



**排期：**

1. CustomSelfShadowPass与AdditionalSelfShadowPass合并【0.5】
2. LOD功能【1】（要看看怎么实现，暂估一天）
3. 其余问题修复【1】
4. 联调【0.5】
5. 实时显示Gizmo【0.5+】

