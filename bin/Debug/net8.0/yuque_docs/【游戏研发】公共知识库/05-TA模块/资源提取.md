## 前言
本章节只涉及以闪相关模型资源的解包方法，其他资源如有需要提给TA。另外祖龙其他游戏加密方式与以闪类似，可做参考。

参考：[[UE4] Life Makeover](https://www.gildor.org/smf/index.php?topic=7976.0)

## 所需工具
下载路径：`\\192.168.0.231\AI及Web3游戏研发中心\公共资源\04_软件\TA工具\life_makeover.zip`

> 工具包中的**Umodel**是特供版本，以闪专用。
>

## 路径
根路径：

![](./assets/image-20250120101849435.png)![](https://cdn.nlark.com/yuque/0/2025/png/51643373/1737365282267-591758c6-d9cb-41af-86de-0850533ed549.png)

dat文件路径：

`D:\Program Files\LifeMakeoverGame_ob_zh_20\Azure\Output\ingameupdate`

主PNG路径：

`D:\Program Files\LifeMakeoverGame_ob_zh_20\Azure\StreamingAssets\win\res_base\package`

副PNG路径：

`D:\Program Files\LifeMakeoverGame_ob_zh_20\Azure\Output\package`

## 执行步骤
### PNG 处理
找到主png目录中的models.png和副png目录中的models.png；复制到新建文件夹里，然后一个改名为models1.png。

快捷键Win+R，输入cmd，将两个文件合并。

输入盘符号：`E:` 回车，进入指定盘符，再输入`cd+空格+粘贴新建文件夹路径` 回车，进入文件夹。最后输入`copy /b models.png + models1.png merge.png` 合并两个PNG文件为 `merge.png` 文件。

![](./assets/image-20250120103405687.png)![](https://cdn.nlark.com/yuque/0/2025/png/51643373/1737365294275-bef6866b-fd95-461c-90be-47f29bb16eb3.png)

找到 `quickbms.exe` 软件，右键管理员身份运行，先打开 `Dragon Raja\DragonRajaUnpacker_PC.bms` 文件，然后打开上述合并的 `merge.png` 文件，最后保存到一个新建文件夹目录。

> 不带 PC 后缀的文件 `DragonRajaUnpacker.bms` 用于处理安卓包。
>

### dat 处理
找到 `quickbms.exe` 软件，右键管理员身份运行，先打开 `Dragon Raja\DragonRajaUnpacker_DAT_fix.bms` 文件，然后打开dat路径下的所有dat文件，最后保存到一个新建文件夹目录。

在处理过程中，命令符窗口会提示有重名文件，根据提示选择一律跳过。处理时间比较长，大概需要一整天。

### 资源合并
处理完成之后得到两个文件夹：merge和unpacked。将merge中的所有内容复制到 `unpacked/models` 路径下，同名文件选择跳过。

### 解包
打开 `umodel_dragon_raja_v8.exe` 文件，然后选择上一步的 `unpacked` 路径，然后选择覆盖游戏类型，UE4与Life Makeover(以闪)。

![](./assets/image-20250120104939144.png)![](https://cdn.nlark.com/yuque/0/2025/png/51643373/1737365305920-b4051e2a-2871-4300-a9b8-cb2408775fbc.png)

角色的模型资源在路径`models\characters\players`下，找到 `.uasset` 后缀的文件，双击进行预览，按 O 键返回。

![](./assets/image-20250120162206543.png)![](https://cdn.nlark.com/yuque/0/2025/png/51643373/1737365312169-fffcc856-421a-4b4e-9e8b-aca1473bbc6d.png)

![](./assets/image-20250120162307656.png)![](https://cdn.nlark.com/yuque/0/2025/png/51643373/1737365317101-3fdbb34d-80ce-4ed0-91af-e3f738e812b6.png)

右击文件夹，选择Export Folder，导出整个文件夹文件。网格类型选择PSK文件，贴图类型选择PNG\TGA。

![](./assets/image-20250120164053350.png)![](https://cdn.nlark.com/yuque/0/2025/png/51643373/1737365321667-6815b866-5895-4b45-ab91-500893810a2c.png)

> 由于个别资源解码错误，可能在预览时窗口出现报错崩溃，属于正常现象。同理，导出时建议只导出所需要的，批量导出会存在崩溃现象。
>

> **<font style="color:#DF2A3F;">导出的资源，不要直接用于工程，律师函警告。</font>**
>

## DDC导入插件
[【Unity & Unreal 卡通渲染】零、虚幻引擎游戏解包 - 知乎](https://zhuanlan.zhihu.com/p/513598386)

### Blender
[Releases · Befzz/blender3d_import_psk_psa](https://github.com/Befzz/blender3d_import_psk_psa/releases)

注意，Blender版本不能超过4.2lst，高版本不兼容。

### 3DMax
[ActorX Importer 汉化版 - 哔哩哔哩](https://www.bilibili.com/opus/640887039947964423)

