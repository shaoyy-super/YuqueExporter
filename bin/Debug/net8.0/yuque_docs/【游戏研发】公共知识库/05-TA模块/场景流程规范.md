# 地形
## 贴图规范
1. 图层所需贴图：
    1. Albedo		命名后缀：_D
    2. Normal		命名后缀：_N
    3. Roughness	命名后缀：_M

  各图层的同类贴图<font style="background-color:#FCE75A;">分辨率</font>以及<font style="background-color:#FCE75A;">压缩格式</font>需要统一。

  贴图分辨率Max：1024

2. 在Project中选中Albedo和Roughness，右击选择<font style="color:#d0d0d0;background-color:#262626;">SceneTool-ReCombineTerrainLayer(Albedo(RGB)Roughness(A))</font>工具进行合并，产出后缀为<font style="background-color:#FCE75A;">_Albedo_S</font>贴图，后续使用该贴图替换Albedo。

Name_Albedo_S：Albedo(RGB)Smoothness(A)

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727321101295-00a14621-6ceb-45d8-ba93-68c5c3e2c278.png)

## 工具流程规范
------------------------------------------------制作阶段------------------------------------------------

1. 制作阶段使用Unity Terrain
2. 制作阶段地形材质使用：<font style="color:#d0d0d0;background-color:#262626;">URP/MoleGame/Scene/TerrainLit</font>
3. 图层支持最大数量：12（可扩大，但需和TA沟通）
4. TerrainLay中<font style="background-color:#FCE75A;">禁止</font>拖入Mask Map，<font style="background-color:#FCE75A;">禁止</font>直接在TerrainLayer面板修改Smoothness等参数（直接在Layer面板修改的话，数据不会同步），请在地形Terrain图层刷中进行修改，如下图。（没unity源码啊，改不了，将就下吧）

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727321506311-adcba771-d586-4922-b935-1363c405689f.png)

------------------------------------------------输出阶段------------------------------------------------

5. 地形Mesh，先用工具(Window->Amazing Assets->Terrain To Mesh)转出Mesh，然后由美术在dcc软件中对该mesh进行减面，再导入unity作为最终的地形Mesh。

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727327447428-0022a585-feb5-4a1b-afcd-8f19f6a1c695.png)

6. 制作完成后，将terrain转为终版地形，转换工具(Tools->Scene->AnalyzeTerrainDataTool)导出资源。

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727327790342-0fb845f5-4b30-426f-b9f0-0356a7cc88f0.png)

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727328182893-94849727-3367-4b6d-bcdd-9d2b2784de4a.png)

# 植被等场景物体
## Prefab规范
1. <font style="background-color:#FCE75A;">不要</font>直接使用FBX，先转为Prefab作为最小单元来使用，再在场景中<font style="background-color:#FCE75A;">使用Prefab</font>进行布景。
2. 支持Terrain的Tree Painter布景场景物体，<font style="background-color:#FCE75A;">限制</font>：
    1. <font style="background-color:#FCE75A;">必须</font>使用LodGroup，且尽量保持3层LOD，LOD最大数量支持：3
    2. <font style="background-color:#FCE75A;">不支持</font>多维子材质
    3. 支持的材质shader（可拓展，联系TA进行支持）：
        1. <font style="color:#d0d0d0;background-color:#262626;">URP/MoleGame/Scene/SceneSeaGrass</font>
        2. <font style="color:#d0d0d0;background-color:#262626;">URP/MoleGame/Scene/FASceneObject</font>
3. 草海不投射阴影，而是使用假阴影代替

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727323138079-0559ad70-f78f-4db6-a863-1b40df00c75c.png)

## 草海阴影
1. 先给需要草海Prefab一个标签，工具：Project选中物体->SceneTool

->SceneObjPrefab_Add_SeaGrass(index:1)。

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727329653954-143aa333-aee2-41c7-ba9c-ffb2378b7028.png)

标签记录文件：<font style="color:#d0d0d0;background-color:#262626;">SeaGrassPrefabRecorder.asset</font>

2. 生成草海阴影贴图并传入地形材质，工具(Tools->Scene->AnalyzeTerrainDataTool)：

![](https://cdn.nlark.com/yuque/0/2024/png/46064633/1727329941041-13dfe410-9bc0-42c7-b0eb-615ad36fe277.png)

