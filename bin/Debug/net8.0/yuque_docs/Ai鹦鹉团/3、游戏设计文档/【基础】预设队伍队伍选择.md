# 1.设计框架
## 一、**概述**
### 1.1 **文档说明**
<font style="color:rgb(38, 38, 38);">●</font><font style="color:rgb(38, 38, 38);">游戏的核心玩法（打歌）在进行首次设计时，考虑的是pvp模式，无卡牌养成要素。</font>

<font style="color:rgb(38, 38, 38);">在游戏引入卡牌养成要素后，和核心玩法关联的【组队】【战斗中得分表现】【战斗结算】都相应的会发生变化。</font>

### 1.2 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| --- | --- | --- | --- | --- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/10/16</font> | | 孙新元 | <font style="color:black;">文档创建</font> |
|  |  | |  |  |


### 1.3 设计思路
1，在本游戏的组队中，玩家首先选取明星卡（即决定了偶像），此外还存在为偶像随意搭配穿着服装的自由度，因此需要【预设组队】功能

2，在pve玩法中，选取/调整组队时，由于得分结算方式既和明星卡有关，又和服装数值有关，因此需要比较强大的一键组队。

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729145956060-213f4d68-10e4-4ced-b052-b8011cc3c4f6.png)



## 二、**组队功能描述**
### 2.1 **预设队伍规则**
<font style="color:#74B602;">【预设队伍界面】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1730091906803-4bba9dfe-0957-4e3c-9394-949a6fee8b31.png)

通过主界面独立的【预设队伍】入口进入**【预设队伍界面】**

<font style="color:#117CEE;">1，翻页显示规则：</font>

*默认至多可以组织6支队伍

*翻页按钮标记显示当前页面显示的队伍是第几支

*通过左右箭头按钮翻页查看队伍，翻到最前或最后时循环。

举例：当前显示第1支队伍，点击左侧翻页按钮，切换显示最后一支队伍

*翻页点上显示队伍名前2个字

<font style="color:#117CEE;">2，队伍改名</font>

*队伍名默认为“演唱会组队01~演唱会组队06”

*点击队伍名按钮，弹出改名弹窗进行改名。

*队伍名最多7个字，调用系统键盘输入，输入超过长度时界面显示超出上限提示。

*队伍名需遵守<font style="color:#DF2A3F;">屏蔽字库</font>

*点击确认改名成功，点击取消放弃改名。

<font style="color:#74B602;">【队伍改名弹窗】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729068120974-b8135799-e6ab-46ee-880a-d01a4216649d.png)

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729068186837-eeb2d457-07af-4361-af2c-315a8315837e.png)



<font style="color:#117CEE;">3，队伍格</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729136970133-9a4869cb-f791-47ff-87be-ab90afcb9643.png)

*队伍格包括5个主力格，2个支援格

*主力格中的第3格为center格，放置在该格的明星卡将触发其center技能。

*放置在支援格内的偶像不会在歌舞中出现，但是会触发其support技能。

<font style="color:#74B602;">【主力格为空/已放置的表示】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729137083317-cbffadf2-9225-4014-a2e0-c76dbbe95179.png)

<font style="color:#74B602;">【支援格为空/已放置的表示】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729069522568-742acf6c-80e9-49e3-8310-f74fb697fb09.png)![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729069542400-8e976f6c-ca77-44da-afea-df6274af7878.png)



<font style="color:#117CEE;">4，预览上阵明星卡的属性总值，center技能</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729143939464-96f01d2b-596a-4743-93a8-ff9f7e2a62da.png)

<font style="color:#D22D8D;"></font>

<font style="color:#D22D8D;"></font>

<font style="color:#117CEE;">5，技能详情</font>

点击技能详情按钮，弹出技能详情一览弹窗

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729144161528-3c55881a-9249-49fe-8457-d4dbb9288b1d.png)

技能详情显示细则：

1，根据下列队伍顺序显示：center位>主力格单位>支援格单位

2，center位显示center技能和pvp技能

3，其他主力格单位显示pvp技能

4，support格单位显示support技能

<font style="color:#117CEE;">6，解散队伍</font>

<font style="color:#000000;">点击解散队伍按钮，弹出通用</font><font style="color:#74B602;">【确认取消弹窗】，</font>“是否解散当前队伍”，点击确认则下阵当前队伍所有队伍格对象并保存队伍。

<font style="color:#117CEE;">7，单卡组入</font>

详见下文单卡组入界面

<font style="color:#117CEE;">8，快捷组队</font>

详见下文快捷组队界面

<font style="color:#117CEE;">9，快捷位置操作</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1730092714455-b278f2ee-009f-4d00-9d6c-0ddfd6d68d20.png)

*长按主力格or支援格 1秒，出现拾取效果。拾取后可拖动至其他格上方松手，则实现队伍位置快捷交换。

*拾取动画（向左上出现位置偏移）

*放置提示（当拖动至可交换的格子时，出现“可交换”提示

*松手后立刻交换位置，并出现交换特效（主力格与主力格，主力格与支援格均可交换）

### 2.2 **编队选取界面**
在打歌玩法中，选取歌曲后进入独立的**【编队选取界面】**

<font style="color:#74B602;">【组队界面-队伍选择】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1730092139618-0a51f8df-20a9-4639-8dea-2416176b1c2f.png)



| <font style="color:#FFFFFF;">标识区域</font> | <font style="color:#FFFFFF;">交互对象</font> | <font style="color:#FFFFFF;">功能概述</font> |
| --- | --- | --- |
| <font style="color:#DF2A3F;">1</font> | 翻页显示标记 |  |
| <font style="color:#DF2A3F;">2</font> | 翻页按钮 |  |
| <font style="color:#DF2A3F;">3</font> | 队伍改名按钮 |  |
| <font style="color:#DF2A3F;">4</font> | 技能详情按钮 |  |
| <font style="color:#DF2A3F;">5</font> | 上阵队伍格 | 点击单个上阵格，进入下文单格上阵流程 |
| <font style="color:#DF2A3F;">6</font> | 快捷组队，一键上阵按钮 | 点击快捷组队，进入下文批量组队流程<br/>点击一键上阵，自动一键上阵 |
| <font style="color:#DF2A3F;">7</font> | 演唱会设置 |  |
| <font style="color:#DF2A3F;">8</font> | 开始演唱会按钮 | 需要显示消耗的资源 |


该界面和预设队伍界面有较多的相似逻辑，此处列出差异的逻辑

<font style="color:#117CEE;">1，歌曲难度显示</font>

*当前页面为：通过歌曲进入的组队界面，因此左上角显示选中的歌曲的难度&歌名

<font style="color:#117CEE;">2，队伍格</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729068387395-899f2470-7c2a-4844-9fc4-26c2453e59c2.png)



*队伍选取界面的队伍格，遵循组队界面的队伍格逻辑，并包括下列额外逻辑：

*所有队伍格必须放满才能出战。

*放置在主力格子的偶像都将在玩法歌舞中出现。唱跳。其中3号位显示“center标记”，其他格显示“舞台标记”



<font style="color:#74B602;">【center格子为空/已放置的表示】           【舞台格子为空/已放置的表示】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729068761316-ba5909d8-10c1-4980-8e8a-a33aea8295b5.png)![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729069442252-ef847923-7007-455e-8edf-f9bc90d31e94.png)  

<font style="color:#74B602;">【支援格子为空/已放置的表示】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729069522568-742acf6c-80e9-49e3-8310-f74fb697fb09.png)![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729069542400-8e976f6c-ca77-44da-afea-df6274af7878.png)

<font style="color:#117CEE;">3，队伍选择界面，上阵卡牌的3d表现</font>

<font style="color:#74B602;">【满员上阵参考图】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1730093346850-4dd92b54-dbe9-46d8-ab48-7206c18391f4.png)

*上阵格上阵某明星卡后，对应位置出现该明星3d造型。默认穿着明星卡对应的服装。

*此时的待机姿势，和她所处的位置有关。希望5人不要站桩，而是摆出有构图感的姿势。

上图列举了2张组队pose图。（后续可以考虑根据舞蹈中的开场姿势，看是不是要每只舞蹈的组队pose=开场姿势）

例图：组队时直接是舞蹈场景+初始pose，那么组队过渡到打歌就比较流畅。

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729072754511-8e23099f-1f8d-4a99-827a-d4d0c8a1ab32.png)

<font style="color:#117CEE;">4，队伍选取界面的快捷换位操作</font>

和组队界面类似，不赘述逻辑

<font style="color:#117CEE;">5，演唱会设置按钮</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729233564902-08d10429-e520-480b-a132-67eb4beee53b.png)

点击在3种演唱会演出模式中切换（即打歌过程中，背景中演出的方式）

1，【mv模式】（即3d模型唱跳，机位来回，形似舞台mv的模式，便于欣赏）

2，【2d模式】（即没有3d模型唱跳，只有2d背景图，摄像机固定，便于排除干扰打歌）

### 2.3 手动单卡组队
<font style="color:#74B602;">【卡牌选择列表界面】</font>

![](https://cdn.nlark.com/yuque/0/2024/jpeg/48674012/1730092291219-ce402496-8973-4e0c-a490-473632cba0f7.jpeg)

<font style="color:#117CEE;">1，明星卡列表项的状态</font>

明星卡列表项有多种状态：

<font style="color:#74B602;">【通常状态/已选中】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729154992261-049b5d23-56ae-404e-8edf-47307e5b07bd.png)

右侧预览当前状态为“选中”的明星卡的3d模型和详情。该界面展示的明星卡服装与动作，与养成系统一致。

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1730093102479-f4d0c181-fed5-49fa-b3b0-795a973a3e03.png)

<font style="color:#74B602;">【已进入主力队伍1/已进入支援】</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729155108055-a5fac901-7263-4163-b900-97c8f81cf5fd.png)

左上角数字，即为在主力队伍中的几号格。



<font style="color:#117CEE;">2，列表项排序规则，筛选规则</font>

该区域的排序，筛选逻辑，是在养成系统的列表界面的基础上。新增额外的特殊规则：

**【排序的额外规则】**已上阵的明星卡始终显示，且排在最前

**【筛选的额外规则】**筛选时，始终不会筛掉已上阵的明星卡

<font style="color:#117CEE;">3，上阵交互流程图：</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729153351088-03889a65-41f0-4803-84c0-adc101ff8c21.png)

上文流程图中，<font style="color:#117CEE;">蓝色</font>字注明了选中状态

右下角操作按钮显示和上文流程图中的<font style="color:#ED740C;">橙色</font>字一致。

<font style="color:#117CEE;">4，养成按钮</font>

点击【养成】按钮，进入当前选中明星卡的养成界面



### 2.3 快捷组队界面（批量选择上阵）
批量选择，用于玩家已经很熟悉这些明星卡的技能，不需要查看详情，而直接快速操作上阵的情况。

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729148219981-a73ce27c-79a8-4c13-a81f-4701c8b02fef.png)

<font style="color:#117CEE;">1，批量上阵流程图：</font>

![](https://cdn.nlark.com/yuque/0/2024/png/48674012/1729154928892-96466b55-366d-4494-83ba-6d628edf9025.png)







