# 一、概述
## 1.1 文档说明
本文档包括从启动游戏到进入游戏的一系列流程说明。

## 1.2 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| :---: | :---: | --- | --- | :--- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/7/11</font> | | 王亚婷 | <font style="color:black;">文档创建</font> |
| <font style="color:black;">v1.1</font> | <font style="color:black;">2025/2/6</font> | | 王亚婷 | <font style="color:black;">增加断线重连、硬件检测、排队等流程</font> |


## 1.3 设计思路
+ 完成检测更新、加载资源、登录等必要游戏启动流程。
+ 合理利用画面和各种流程引导玩家登录游戏，加强公司和产品的宣传。
+ 整体风格需与游戏风格浑然一体，提前将玩家代入游戏氛围。
+ 展示用户协议、健康游戏、适龄提示、合规信息等相关内容。

## 1.4 系统流程图
![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1738912935030-b6a2d3ce-d7e4-417d-a80f-6cf73d404a6b.png)

# 二、功能说明
## <font style="background-color:#FBDE28;">2.1检测异常</font>
+ 检测玩家硬件性能，若硬件性能不达标，则弹出提示界面，玩家在该界面只能进行退出游戏操作。	
+ 检测服务器状态，若服务器出现除维护之外的其他异常，则每隔5秒尝试下一次连接，第四次失败后弹出连接失败弹窗，提示内容根据异常错误类型而定，玩家可以点击重连，此时重连间隔设置为1分钟。

| 异常类型 | 提示语 | 优先级 |
| --- | --- | --- |
| 获取大区信息失败 | 服务器连接失败，建议稍后再试 | 1 |


+ 检测网络状态，若无网络连接，则弹窗提示“网络连接失败，请检查网络状态”，玩家点击确定再次检测网络状态，玩家点击取消则退出游戏。

## 2.2检测更新
检测更新包括三步：

    1. 检测整包更新，若整包有更新则指引玩家前往下载更新。
    2. 检测维护公告，若有则弹维护公告弹窗，玩家关闭弹窗后可正常登录，但点击进入游戏会提示停服维护中。
    3. 检测补丁更新，若有直接在更新界面完成下载更新。

## 2.3账号登录
+ 玩家登录
+ 后期会走公司统一的登录流程，暂时先做一版简单的，参考版署版。
+ 开发版本绕过SDK登录直接账号登录，普通版本需先走SDK登录。
+ 在设备已经登录的玩家，下次打开游戏会自动登录。

![账号登录逻辑](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721373105409-d7dd39a2-4195-405e-a40c-bc539b94bb34.png)

## 2.4区服选择
游戏是单区单服，这里做一个临时的选平台的选项，选项内容包括平台、内测、线上、体验。

## 2.5检测版本号
进游戏之前需检测版本号，若匹配则成功进游戏，若不匹配则需从读取服务器配置开始重走流程。

## 2.6客户端修复
当开启客户端修复流程时，首先判断客户端文件情况，如果文件全部正确，则不进行修复，且使用悬浮文字提示“您的客户端文件完整，无需修复”，判断过程需要实时显示检测进度；如果需要修复，则删除有错误的文件，并开始下载，下载期间显示下载进度条、下载速度、总文件大小，完成下载后，返回主界面，同时使用悬浮文字提示“客户端修复成功，祝您游戏愉快”。

## <font style="background-color:#FBDE28;">2.7游戏中热更提示</font>
当游戏发布新的热更新时，如果玩家在游戏中，根据玩家当前版本与热更版本是否兼容做处理。

+ 如果版本不兼容，则玩家直接被踢下线，客户端弹出更新提示。
+ 如果版本兼容，则可以继续正常进行游戏，同时设置界面可见“更新按钮”，玩家可通过该按钮更新游戏。

## <font style="background-color:#FBDE28;">2.8断线重连</font>
玩家在游戏过程中如果断线，则自动开始尝试重连，每次重连等待3秒，间隔2s进行下一次尝试，客户端表现因尝试次数次数而异，详见3.7界面说明部分。

# 三、界面说明
![界面跳转大致流程](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721116122902-13f60605-9bac-45db-a567-8017d8423814.png)

## 3.1用户协议与隐私政策（首次启动或协议有更新）
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721115843467-c4849196-9eff-44d9-9015-09404ea9fa26.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| :---: | --- | --- | --- |
| ① | 图片：项目logo | 无 | 单一状态 |
| ② | 文本：用户协议与隐私政策 | 无 | 单一状态 |
| ③ | 文本：协议内容 | 1.若文案超出区域则可垂直滚动<br/>2.点击文案中的<u>用户协议</u>跳转如下界面，点击“确认”返回原界面。（点击<u>隐私政策</u>也一样）<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722317250399-a6508665-c871-4241-96be-bab77af8202e.png) | 单一状态 |
| ④ | 按钮：同意 | 点击进入3.2logo展示页 | 常规态/按下态 |
| ⑤ | 按钮：拒绝 | 点击弹出弹窗，点击“确定”直接退出客户端，点击“取消”弹窗消失无事发生。<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721117863653-862b1b2f-a028-4516-ac30-07078830faf3.png) | 常规态/按下态 |


## 3.2logo展示页
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721118098357-048f90d8-efc6-47d6-a71c-e7cf28ab19df.png)

+ 公司logo（待确认）+ 防沉迷 + 游戏logo，按此顺序每张展示3秒。
+ 增加动效过渡，避免硬切闪屏<font style="background-color:#FBDE28;"></font>

## 3.3更新加载
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721306611501-800ae2b0-0d54-4175-8aaa-d500e3187c98.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| :---: | --- | --- | --- |
| ① | 控件：游戏logo | 无 | 单一状态 |
| ② | 文字：账号、版本号 | 无 | 单一状态 |
| ③ | 文字：合规相关信息 | 无 | 单一状态，文案待确认 |
| ④ | 控件：进度条 | 无 | 进度文字描述有四种：|<br/>~~1.检测更新中...(5%)~~<br/>2.正在下载更新 25MB/50MB...(50%)<br/>3.资源加载中...(40%)<br/>4.正在检测并修复游戏资源...（45%）<br/>【小于1M时显示KB，保留整数；大于1M时显示MB，保留一位小数】【进度百分比保留整数 |
| ⑤ | 背景视频 | 无 | 背景视频的输出尺寸、手机/pad适配需确认，以保证不同设备显示效果都能铺满。此视频需根据后续游戏活动更新。 |




![维护公告弹窗（仅展示内容，UI可重新设计公告界面）](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721791086134-1717d68b-ee70-4fd3-8fe9-b7604aee654a.png)

+ 维护公告嵌在通用公告界面里，就是在登录界面的基础上加一个“公告弹窗”，
+ 内容包括：各种公告页签、公告文案，若文案超出区域则可垂直滚动。
+ 点击确认弹窗关闭，即是3.4.3登录按钮界面，玩家可正常登录，但若在3.5界面点击“进入游戏”，飘窗提示玩家“服务器维护中，请关注公告”。





![强更提示弹窗​​​​​​](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721196326969-c2906ee5-c73b-4738-9a51-6de7fa5a051f.png)

+ 若检测到有强更，提示此弹窗，此弹窗无法关闭。
+ 点击确认跳转下载更新，下载完成自动安装、重启游戏。



![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721199923917-4d5a86b6-9fc9-43a7-9c31-32897f0366ce.png)

+ 若检测到有热更，更新大于10M且玩家在非WIFI环境下时，提示此弹窗。
+ 点击确认开始走进度条热更，点击取消退出游戏。

## 3.4账号登录
### 3.4.2注册登录弹窗
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721371193208-6745969c-58b2-4ebe-8b73-3089ae04b95b.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| :---: | --- | --- | --- |
| ① | 控件：账号 | 1.点击切换为输入状态<br/>2.若输入框为空，“请输入账号”提示显示；若输入框不为空，则“请输入账号”提示消失。 | 默认态/输入态 |
| ② | 控件：密码 | 1.点击切换为输入状态<br/>2.若输入框为空，“请输入密码”提示显示；若输入框不为空，则“请输入密码”提示消失。<br/>3.输入密码默认不可见，如![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721371607494-092ad753-4185-4594-bafb-dc4031bd7027.png)，右侧![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721371642445-2e25962b-40b0-4a6a-b9b8-842118f86db4.png)按钮可切换密码的可见/不可见状态，可见状态图标需变化![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721371714096-0c019874-4248-4c33-9bbc-da051ca4ec4b.png)。 | 默认态/输入态 |
| ③ | 控件：用户协议勾选框 | 1.点击勾选框切换勾选状态<br/>2.点击“用户协议”或“隐私政策”按钮跳转用户协议和隐私政策页，点击确认关闭弹窗。<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722317348153-1401bae4-8b8e-4659-bed4-54b62fda421c.png) | 1.未勾选态/勾选态<br/>2.常规情况默认未勾选，若玩家在3.1界面点击过同意，此按钮默认为勾选态。 |
| ④ | 按钮：注册/登录 | 1.点击进入2.2账号登录流程<br/>2.确定同意协议弹窗![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721108753353-19adee61-f0f4-48e5-8ead-d33146270aec.png)<br/>点击“同意并登录”，直接完成登录/注册。<br/>点击“不同意”，弹窗消失，③仍为未勾选态。<br/>3.登录成功飘窗提示<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721028306484-ca920650-c065-4ccb-981e-081f06dd3382.png)<br/>4.实名认证弹窗<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721038476936-1689182c-bfdf-44d1-ad17-7a72985e1ff0.png)<br/>当姓名和身份证号都不为空时，“提交认证”按钮变为可点击态，否则为置灰态；未成功认证弹窗提示，点击确认关闭弹窗。![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721385398304-188719ae-db5e-4fff-b2ed-5be501619db4.png) | 1.置灰态（不可点击）/可点击态<br/>2.当①账号和②密码都不为空时，按钮变为可点击态，否则为置灰态。 |
| ⑤ | 控件：游戏logo | 无 | 单一状态 |
| ⑥ | 按钮：关闭 | 点击跳转3.4.3登录按钮界面 | 单一状态 |


### 3.4.2上次登录弹窗
### ![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721372077506-df47ee69-74a5-4110-bc63-19862c561390.png)![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721372090563-5e598c23-fbcb-4b4f-b6b1-4440cd5926c8.png)
| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| :---: | --- | --- | --- |
| ① | 控件：上次登录账号 | 无 | 信息：账户图标、账号、上次登录时间<br/> |
| ② | 按钮：展开/收起 | 点击展开/收起③历史账号控件 | 展开态/收起态 |
| ③ | 控件：历史账号 | 1.控件可垂直翻动，点击可切换账号选择，并收起③历史账号控件。<br/>2.点击右侧“删除”图标可删除该账号在此设备上的登录信息。 | 1.控件内账号默认按照上次登录时间从新到老排序。<br/>2.上次登录时间文案描述规则：<br/>（时间小于1分钟，表示为“刚刚”；<br/>大于1分钟小于1小时，表示为“xx分钟前”；<br/>大于1小时小于24小时，表示为“xx小时前”；<br/>大于24小时，表示为“xx天前”；<br/>大于1个月的，表示为“x个月前”；<br/>大于1年的，表示为“x年前”；）<br/>（所有数字向下取整） |
| ④ | 按钮：登录 | 点击登录账号，登录后飘窗提示，并进入3.5进入游戏界面。<br/>![登录成功飘窗提示](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721028306484-ca920650-c065-4ccb-981e-081f06dd3382.png) | 常规态/按下态 |
| ⑤ | 按钮：其他账号登录 | 点击跳转3.4.1注册登录弹窗，此状态下关闭3.4.1注册登录弹窗会返回本弹窗。 | 常规态/按下态 |
| ⑥ | 按钮：关闭 | 点击跳转3.4.3登录按钮界面 | 常规态/按下态 |


### 3.4.3登录按钮界面
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1731474679631-0ca817b1-bcb7-4582-907a-ff36e2f680da.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| :---: | --- | --- | --- |
| ① | 按钮：账号登录 | 若该设备有历史登录记录，则弹出3.4.2登录弹窗（二次登录）；若没有历史登录记录，则弹出3.4.1登录弹窗（首次登录）。 | 常规态/按下态 |
| ② | 按钮：公告 | 点击弹出公告弹窗。 | 常规态/按下态 |
| ③ | 控件：账户 | 1.若该设备有历史登录记录，则弹出3.4.2登录弹窗（二次登录）；若没有历史登录记录，则弹出3.4.1登录弹窗（首次登录）。<br/>2.已登录玩家点击该按钮自动退出登录。 | 常规态/按下态 |
| ⑤ | 按钮：修复 | 点击弹出检测修复确认弹窗：![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721034385331-ecea5319-20b3-49c5-a34b-c9cd088b989c.png)<br/>+ 点击取消或关闭弹窗关闭无事发生，点击确定则开始检测文件<br/>![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1739154922672-311d53dc-ab5f-4ab4-ba46-1f81cc7e4643.png)<br/>+ 检测文件界面显示进度条、进度百分比，文本“本过程不消耗流量，预计剩余时间xx分xx秒”，检测文件进度xx/yy。<br/>+ 检测完毕后若文件全部正确，则飘窗提示“您的客户端文件完整，无需修复”；若需要修复，则删除错误的文件并开始下载文件，界面与更新界面一致，若玩家处于wifi环境则直接下载，若玩家处于非wifi状态则飘窗提示。<br/>+ 当完成修复时，回到登录主界面，并弹出悬浮文字提示“客户端修复成功，祝您游戏愉快” | 常规态/按下态 |
| ⑥ | 按钮：适龄提示 | 点击弹出适龄提示弹窗，关闭按钮热区尽量大一点。![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721201089535-f20564a3-ee06-40c0-b63f-d49e38fa6855.png) | 常规态/按下态 |
| ⑦ | 按钮：平台下拉选项 | 点击展开平台下拉选项![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721108245129-98abbb00-8022-457a-8073-df7996c9f830.png) | 共有四个下拉选项：开发、内测、线上、体验。 |
| ⑧ | 按钮：退出 | 点击弹出二次确认弹窗“是否确认退出游戏？”点击确定退出游戏客户端。 | 常规态/按下态 |




![更新公告弹窗（仅展示内容，UI可重新设计公告界面）](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721791205349-a17b354c-3112-4e0a-b7db-3cf99866f527.png)

+ 登录完成后若进行了更新，则在登录界面弹出更新公告弹窗。
+ 玩家主动点击登录界面“公告”按钮弹出更新公告弹窗。
+ 公告内容：不同类型的公告页签、公告标题、公告文案、公告图片。
+ 点击关闭按钮关闭弹窗，关闭按钮热区尽量大一点。

## 3.5进入游戏
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721306669390-d53b4fd5-f204-4703-8818-785b678fbfed.png)

+ 点击“进入游戏”按钮进入加载loading，loading完成进入游戏主界面。

## <font style="background-color:#FBDE28;">3.6硬件检测不通过界面</font>
+ 当玩家点硬件检测完毕后，如果玩家有任一性能不达标，则弹出提示框

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1738830174782-8c9637c1-7e7b-4347-b890-6071bc3e2d91.png)

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1738830183051-c9c01bab-0f2e-4d2b-98dd-302998a23e2c.png)

界面显示内容包含

+ 一张立绘（使用现有素材即可）
+ 配置要求列表
    - 安卓设备
        * 罗列出游戏要求的最低配置
        * 使用红字（或其他醒目方式），标注出玩家未达标的配置
        * <font style="color:rgb(0,112,192);">显示总结文字“您的AA、BB未满足最低要求。”，其中AA、BB为未达标的配置，使用红色（或其他醒目形式）文字标志出来</font>
        * 提示文案“非常抱歉，游戏暂不支持您当前的设备进行体验，对给您造成的不便我们深感歉意，请更换更高配置的设备进行体验。感谢您的支持和理解。”
    - iOS设备
        * 标出游戏要求的最低机型与玩家的机型
        * 使用红字（或其他醒目方式），标注出玩家未达标的配置
        * 提示文案“非常抱歉，游戏暂不支持您当前的设备进行体验，对给您造成的不便我们深感歉意，请更换iPhone 6S或以上的设备进行体验。感谢您的支持和理解。”

玩家点击【遗憾离开】按钮退出游戏。 

## <font style="background-color:#FBDE28;">3.7服务器连接失败弹窗</font>
登录过程中若服务器连接异常则弹“服务器连接失败，建议稍后再试”弹窗：

![（退出按钮在左，重试按钮在右）](https://cdn.nlark.com/yuque/0/2025/png/45413786/1738919153815-fd3e384f-2fe4-4c4b-831f-ba635b22af8d.png)

+ 玩家点击退出则停留在登录界面，若玩家点击【账号登录】按钮则再次尝试连接服务器。
+ 玩家点击重试则进行下一次连接尝试，并显示“正在尝试重新连接......”弹窗：

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1738919248991-af844d2b-e0c2-4227-9ad9-759d84833376.png)

    - 显示重连计时，计时按照“分：秒”格式显示，计时仅记录本次重连的耗时，不积累。
    - 玩家点击取消按钮则取消重连，停留在登录界面。
    - 若重连失败则再次进入连接失败弹窗。

## <font style="background-color:#FBDE28;">3.7断线重连</font>
当玩家在游戏中，如果玩家断线，保持玩家所处界面不动，尝试重连

+ 处于第1次尝试阶段，无任何表现，同时禁止一切界面交互，如果连接失败，自动进行下一次尝试。
+ 第2次尝试阶段，屏幕压黑，显示连接中图标，期间禁止一切界面操作，如果连接失败，则自动进行下一次连接

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1739153909761-1a06e333-6445-40e6-873f-b26399cbfcb2.png)

+ 如果处于第3次或之后的尝试状态，则弹出重连提示弹窗，玩家点击取消按钮则取消重连并回到登录界面。

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1738919248991-af844d2b-e0c2-4227-9ad9-759d84833376.png?x-oss-process=image%2Fformat%2Cwebp)

任意时刻，如果玩家重连后发现服务器在维护状态，弹出服务器维护提示框，玩家点击退出后回到登录界面并弹出维护公告：

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1739154134953-79693fe0-2b2c-4a30-9551-db35958c4f71.png)

任意时刻，如果玩家重连后发现服务器异常，则弹出服务器异常弹窗，玩家点击退出后回到登录界面：

![](https://cdn.nlark.com/yuque/0/2025/png/45413786/1739154278404-99cdf922-7e36-4567-930c-30f1c0f51c87.png)

# 四、配置表说明
# 五、功能需求清单
[【待开发】【特性】登录系统@王亚婷](https://snh48group.yuque.com/qim4en/cqb2hd/yv25hv790zuqgv0c)

# 六、美术需求清单
## 6.1 界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | | |
| :---: | --- | --- | --- |
| <font style="color:black;">1</font> | <font style="color:black;">用户协议弹窗</font> | | |
| <font style="color:black;">2</font> | <font style="color:black;">拒绝协议弹窗</font> | | |
| <font style="color:black;">3</font> | logo展示 | | |
| <font style="color:black;">4</font> | 更新加载页 | | |
| <font style="color:black;">5</font> | 强更提示弹窗 | | |
| <font style="color:black;">6</font> | 公告弹窗 | | |
| <font style="color:black;">7</font> | 热更提示弹窗 | | |
| <font style="color:black;">8</font> | 登录界面 | | |
| <font style="color:black;">9</font> | 登录弹窗（首次登录） | | |
| <font style="color:black;">10</font> | 登录弹窗（二次登录） | | |
| 11 | 同意协议提示弹窗 | | |
| <font style="color:black;">12</font> | 实名认证弹窗 | | |
| <font style="color:black;">13</font> | 检测修复弹窗 | | |
| 14 | 适龄提示弹窗 | | |


## 6.2 动效需求
# 七、String需求
| **<font style="color:white;">类别</font>**    | **<font style="color:white;">目标操作</font>**    | **<font style="color:white;">触发条件</font>**    | **<font style="color:white;">提示形式</font>**    | **<font style="color:white;">提示string</font>**    | **<font style="color:white;">stringID</font>**    |
| --- | --- | --- | --- | --- | --- |
|     |     |     |     |     | |
|     |     |     |     |     | |
|     |     |     |     |     | |


若有收获，就点个赞吧



> 原始Excel文档
>
> [系统策划案范例.xlsx](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsx/45413786/1720674390158-50e69879-811a-4b0b-8d61-0e1adbdc1674.xlsx)
>

