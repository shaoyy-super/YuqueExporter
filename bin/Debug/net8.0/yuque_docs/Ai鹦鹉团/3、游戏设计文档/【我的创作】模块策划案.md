# 一、概述
### 1.1 文档说明
该文档为鹦鹉团demo版【我的创作】模块策划案，包括作品创作、作品上传、作品分享等内容，是项目音舞作品ugc模块的最小闭环形态。

### 1.2 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| :---: | :---: | --- | :---: | :--- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/6/26</font> | | 王亚婷 | <font style="color:black;">文档创建</font> |
| <font style="color:black;">v1.1</font> | <font style="color:black;">2024/7/20</font> | | 王亚婷 | <font style="color:black;">修改作品设置界面</font> |


### 1.3 设计思路
本设计旨在为游戏玩家提供游戏内的ugc创作和分享体验，玩家可以导入音乐并由 AI 自动生成对应的音游谱面和舞蹈作品，为玩家带来了极大的创作便利性，完成创作后玩家不仅可以自己游玩，还可以用二维码的方式分享给其他用户游玩。这不仅丰富了游戏本身的内容，也营造了一个充满活力的 UGC 创作生态。

具体包含以下核心功能:

    1. 作品创作：导入音乐，选择玩法和难度，AI自动生成作品；
    2. 作品上传：填写相关作品信息，上传作品到自制作品页签；
    3. 作品分享：生成作品二维码卡片，供玩家保存、分享。

### 1.4 模块流程图
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720420830076-7787276e-f28a-446a-bccb-d4ba516f6d14.png)

# 二、功能说明
### 2.1 作品创作
### 2.1.1 音乐选择
导入音乐分为有两种方式，分别为官方曲库选择、本地导入，默认为官方曲库选择。

    - 官方曲库选择：显示官方歌曲的歌名、歌手、bpm信息，玩家可试听，可输入歌名或歌手进行搜索。
    - 本地导入：读取玩家设备本地mp3或ogg音频文件供玩家选择，有导入音频历史记录功能，便于玩家二次使用。

#### 2.1.2 作品设置
选择谱面玩法种类，玩法种类与游戏主玩法的种类一致，目前只有传统玩法。

选择谱面难度，不同玩法的难度调节信息不一致，传统玩法的难度信息由星级和键数范围共同调试，具体见[【玩法】传统模式按键生成规则](https://snh48group.yuque.com/qim4en/xs9kb3/mopmlh8gpkvi538a#XYi6)。

#### 2.1.4 作品预览
预览：预览内容包括舞蹈演示（由玩家自身角色演示）、谱面演示，演示内容全为自动演示，无需玩家操作，玩家可随时暂停/继续播放演示。

试玩：试玩与游戏主玩法游玩一致（从正式开始即可，省去对局展示、歌曲信息展示等步骤），试玩结束进入试玩结算，显示玩家的试玩成绩。

### 2.2 作品上传
上传封面图，填写相关信息即可上传。

### 2.3 作品分享
+ 作品上传后即可生成含有二维码和作品信息的卡片，作者可保存到本地，并分享给其他玩家；
+ 其他玩家打开游戏扫一扫该图片即可游玩该作品。

# 三、界面说明
## 3.1入口说明
![主界面](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720420962159-db9b06f6-227f-4617-86e9-4984f1f8f20d.png)

## **3.2音乐选择**
### 3.2.1官方曲库
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722224008646-ae41b957-bd9e-435e-b7d9-d23c90158572.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ① | 文本：音乐选择 | <font style="color:rgb(0,0,0);">无</font> | 单一状态 |
| ② | 页签：官方曲库 | 点击切换显示官方曲库页签信息 | 1.选中态/未选中态<br/>2.进入默认显示该页签信息 |
| ③ | 页签：本地导入 | 点击切换显示本地导入页签信息. | 选中态/未选中态 |
| ④ | 控件：搜索框 | 1.点击调出玩家输入进行搜索，控件变为如下输入态，⑤或⑩歌曲预览栏显示实时搜索结果。<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720074727234-6739401c-1762-4b76-9eea-37616bd35cd8.png)<br/>2.点击右侧关闭按钮，控件恢复默认状态，⑤或⑩歌曲预览栏恢复默认显示。 | 1.常规态/输入态<br/>2. 无搜索结果时⑤歌曲预览栏显示为空即可。 |
| ⑤ | 控件：官方歌曲预览栏 | 1.区域内垂直滑动翻阅歌曲<br/>2.点击切换歌曲选择，同时播放当前歌曲选择 | 1.选中态/未选中态，选中态需有“播放中”标识<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720422226817-4d36834f-f584-410b-acb4-911bb72fb528.png)   2.显示信息：歌曲名、歌手名、歌曲时长、歌曲BPM<br/>3.默认选中第一首歌曲<br/>4.玩家作出选择后切换页签，记住玩家的选择，切回时居中显示并播放玩家选择的歌曲。 |
| ⑥ | 按钮：下一步 | 点击跳转到3.3【作品设置】界面。 | 常规态/按下态 |
| ⑦ | 按钮：关闭 | 点击回到3.1【主界面】，不保存任何信息 | 常规态/按下态 |
| ⑧ | 控件：步骤标识-第一步 | 无 | 单一状态 |


### 3.2.2本地导入
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722224083171-83821816-805a-4177-abf9-fa72f076aac5.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ⑨ | 按钮：点击导入本地音乐 | 1.点击调出玩家设备本地的mp3或者ogg文件供玩家选择，玩家选择完成后回到该界面。<br/>2.玩家刚导入的音乐置顶显示在⑩历史本地导入预览栏中，选中并且播放该音乐。 | 常规态/按下态 |
| ⑩ | 控件：历史本地导入预览栏 | 1.区域内垂直滑动翻阅歌曲<br/>2.点击切换歌曲选择，同时播放当前歌曲选择<br/>3.按照上传时间从新到老排序 | 1.选中态/未选中态，选中态需有“播放中”标识<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720422226817-4d36834f-f584-410b-acb4-911bb72fb528.png)   2.显示信息：歌曲名、歌手名、歌曲时长、歌曲BPM<br/>4.玩家作出选择后切换页签，记住玩家的选择，切回时居中显示玩家选则的歌曲。 |


## **3.3作品设置**
### 3.3.1作品设置默认界面
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722224270575-3566f23b-52f7-4617-9c1e-c7008b02a34e.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ① | 文本：作品设置 | 无 | 单一状态 |
| ② | 文本：玩法 | 无 | 单一状态 |
| ③ | 控件：玩法选择栏 | 1.水平方向滚动查看所有玩法<br/>2.点击切换选择的玩法 | 1.选中态/未选中态<br/>2.默认选中传统玩法 |
| ④ | 文本：难度 | 无 | 单一状态 |
| ⑤ | 控件：难度选择栏 | 点击切换选择的难度 | 1.选中态/未选中态<br/>2.根据3.2选择的歌曲bpm确定默认选择，默认选择右上角常驻“推荐”标识。[【玩法】传统模式按键生成规则](https://snh48group.yuque.com/qim4en/xs9kb3/mopmlh8gpkvi538a#XYi6)<br/>3.困难、大师难度需要灰掉效果<br/>4.调到某等级后需有“按键频率翻倍”/“按键频率减半”提示 |
| ⑥ | 按钮：高级设置 | 1.点击展开高级设置信息，且右侧出现滑动条，具体见3.3.2【作品设置-高级设置】界面。<br/>2.再次点击收起高级设置信息，回到初始默认界面。 | 选中态/未选中态 |
| ⑦ | 按钮：生成作品 | 点击获取AI接口（转菊花表示），若成功则进作品loading，若失败则飘窗提示“作品生成失败，请重新尝试~” | 常规态/按下态 |
| ⑧ | 按钮：关闭 | 点击回到3.1【主界面】，不保存任何信息 | 常规态/按下态 |
| ⑨ | 控件：步骤标识-第二步 | 无 | 单一状态 |
| ⑩ | 按钮：上一步 | 点击返回<font style="color:rgb(38, 38, 38);">音乐选择界面，且保存作品设置信息。玩家下次回到此界面，若玩家没换歌，就显示之前存的信息，若玩家换歌了就清空之前的信息，显示默认的。</font> | 常规态/按下态 |


### 3.3.2作品设置-高级设置
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720589449162-32ab9a89-8598-4d0d-a1b5-eb3d0e495ed5.png)

![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720589473547-47b981a8-d3c4-437f-90ba-9dd84d285e2a.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ⑩ | 文本：星级 | 无 | 单一状态 |
| ⑪ | 按钮：星级说明 | 点击弹出二级弹窗“星级调整说明”，点击关闭即可关闭此弹窗<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722393982974-c0ee287b-4c70-4ced-848f-9ad0c5805549.png) | 常规态/按下态 |
| ⑫ | 控件：星级滑动条 | 1.滑动可调节星级数值，有1~10共10个数值可供选择，滑动做成吸附效果。<br/>2.星级、键数范围与难度会相互影响，具体见[【玩法】传统模式按键生成规则](https://snh48group.yuque.com/qim4en/xs9kb3/mopmlh8gpkvi538a#XYi6)。 | 1.包含信息：滑动条、刻度、移动按钮、上下限、当前选择数值<br/>2.根据玩家调节变换状态<br/>3.7星以上需要灰掉效果 |
| ⑬ | 文本：键数范围 | 无 | 单一状态 |
| ⑭ | 按钮：键数范围说明 | 点击弹出二级弹窗“难度调整说明”，点击关闭即可关闭此弹窗<br/>![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1722393994831-3d723c3c-e6c5-4330-86f8-a8b5a5b5d5f7.png) | 常规态/按下态 |
| ⑮ | 控件：键数范围滑动条 | 1.滑动可调节键数范围，范围的上下限皆有1~10共10个数值供选择。<br/>2.允许上下限重合的情况。<br/>3.两个调节按钮与范围上下限并非一一对应的状态，即在玩家操作完成后根据两个数值的大小决定哪个是是上限哪个是下限。（举例：若原数值范围为2-8，允许玩家将8直接拖到1，此时数值范围为1-2）。<br/>4.根据[【玩法】传统模式按键生成规则](https://snh48group.yuque.com/qim4en/xs9kb3/mopmlh8gpkvi538a#XYi6)给的规则确定键数范围最大值，当玩家试图拖动到大于范围的数值时，启动数值跟随。例如：最大范围是5，玩家把1-5的上限调整为6，最小值会自动变为2。 | 1.包含信息：滑动条、刻度、移动按钮、上下限、当前选择数值<br/>2.根据玩家调节变换状态 |


## **3.4作品预览**
### 3.4.1loading界面
作品生成过程显示通用loading界面，loading结束跳转3.4.2【作品预览】界面：

![loading界面](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720430217494-53df3eed-7c50-45e4-9155-23cba98b67ca.png)

### 3.4.2作品预览界面
###### ![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1721806141208-7bcd7c99-2f2f-45bf-88a5-785444eb60ae.png)
| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ① | 按钮：退出 | 点击弹出二次确认弹窗，点击“确认”回到3.1【主界面】，点击“取消”或关闭按钮关闭弹窗。![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720431545975-79a77eef-a77a-45fe-9239-d1a5d4e4f75e.png) | 常规态/按下态<br/> |
| ② | 玩家自身角色 | 无 | 演示AI生成的舞蹈 |
| ③ | 控件：判断轨道 | 无 | 自动演示，具体演示效果见[【玩法】传统模式玩法策划案](https://snh48group.yuque.com/qim4en/xs9kb3/hcpfg56lg4ub1bzu) |
| ④ | 控件：谱面轨道显示栏 | 无 | 具体效果见[【玩法】传统模式玩法策划案](https://snh48group.yuque.com/qim4en/xs9kb3/hcpfg56lg4ub1bzu) |
| ⑤ | 按钮：试玩 | 点击进入3.5【试玩】界面 | 常规态/按下态 |
| ⑥ | 按钮：播放/停止播放 | 1.点击切换到播放停止态，音乐、舞蹈、谱面全部暂停；<br/>2.再次点击切换到播放中态，音乐、舞蹈、谱面继续播放。<br/>3.进入其他界面，如~~试玩~~、作品上传、设置时，自动切换到播放停止态，返回该界面时自动切换到播放中态。 | 1.播放中态/播放停止态<br/>2.默认为播放中 |
| ⑦ | 按钮：设置 | 点击进入[鹦鹉团demo版策划案](https://snh48group.yuque.com/qim4en/xs9kb3/nzamhu22ty0xbydu)2【设置】界面 | 常规态/按下态 |
| ⑧ | 按钮：上传作品 | 点击进入3.6【作品上传】界面 | 常规态/按下态 |
| ⑨ | 歌曲信息 | 无 | 包含信息：歌名、时间进度、进度条、星级 |


## **3.5试玩**
### 3.5.1试玩界面
试玩界面与传统玩法游玩界面一致即可，具体见[鹦鹉团demo版策划案](https://snh48group.yuque.com/qim4en/xs9kb3/nzamhu22ty0xbydu)。试玩结束进入3.5.2试玩结算界面。

![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720433619522-7fccc2bb-b3f8-4b3c-93ee-bf1be2b557be.png)



### **3.5.2试玩结算界面**
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720433982870-4cd36e8f-fb7a-47ef-825f-8b48f101aaf8.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ① | 按钮：退出试玩 | 点击返回3.4.2【作品预览】界面 | 常规态/按下态 |
| ② | 玩家角色立绘 | 无 | 单一状态 |
| ③ | 作品基本信息 | 无 | 信息：歌名、歌手名、玩法、星级 |
| ④ | 试玩分数详情栏 | 无 | 1.单一状态<br/>2.包含本次试玩最大连击数，超完美、完美、优秀、很棒、遗憾对应的数量，总得分，以及分数评级（优+、优<br/>优-、良+、良、良-、中）。 |
| ⑤ | 控件：倒计时返回 | 无 | 1.单一状态   2.倒计时五秒后自动返回3.4.2【作品预览】界面 |


## **3.6作品上传**
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720600912516-94e04418-b37d-4695-bdb1-a01bcad703ea.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ① | 按钮：上传图片 | 1.点击调出玩家设备本地相册供玩家选择，玩家选择后进入到图片编辑界面。<br/>2.图片编辑界面功能包括移动、放大缩小，确认选择，取消选择。点击取消返回作品上传界面，不作任何保存；点击确认成功保存上传。![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720596403252-646d001d-409d-4340-9836-7a548daf2394.png)<br/>3.完成图片上传后再次点击，依然可以调出玩家设备本地相册供玩家再次选择，再次选择的图片会替换当前显示图片。 | 常规态/按下态 |
| ② | 输入控件：歌名 | 点击调出玩家输入 | 默认显示为识别的歌曲名字 |
| ③ | 输入控件：歌手名 | 点击调出玩家输入 | 默认显示为识别的歌手名字 |
| ④ | 按钮：确认上传 | 点击进入loading界面，loading完成后进入3.7【二维码分享】界面。 | 常规态/按下态 |
| ⑤ | 按钮：关闭 | 点击回到3.4.2【作品预览】界面 | 常规态/按下态 |


## **3.7二维码分享**
![](https://cdn.nlark.com/yuque/0/2024/png/45413786/1720435586591-b4f7c2e5-7638-4b52-adc9-b1a8db190c9a.png)

| **<font style="color:rgb(0,0,0);">编号</font>** | **<font style="color:rgb(0,0,0);">控件名称</font>** | **<font style="color:rgb(0,0,0);">点击效果</font>** | **<font style="color:rgb(0,0,0);">控件状态</font>** |
| --- | --- | --- | --- |
| ① | 按钮：返回 | 点击返回[鹦鹉团demo版策划案](https://snh48group.yuque.com/qim4en/xs9kb3/nzamhu22ty0xbydu)4.1【开始游戏主界面】-歌曲选择页签-自制页签，同时该作品显示在自制作品最上方 | 常规态/按下态 |
| ② | 图片：作品封面 | 无 | 单一状态 |
| ③ | 文本：歌曲名、歌手名 | 无 | 单一状态 |
| ④ | 图片：游戏名logo | 无 | 单一状态 |
| ⑤ | 作者信息 | 无 | 信息包括作者头像、作者昵称 |
| ⑥ | 文本：分享文本 | 无 | 每次从对应文字库中随机一条 |
| ⑦ | 文本：使用教程 | 无 | 固定文本：<br/>1.保存图片到相册<br/>2.打开鹦鹉团扫一扫 |
| ⑧ | 图片：作品对应生成的二维码 | 无 | 单一状态 |
| ⑨ | 按钮：下载二维码 | 点击将整个分享卡片②③④⑤⑥⑦⑧保存到玩家本地相册，保存成功后**<font style="color:rgb(56,86,35);">飘窗提示“已保存到系统相册”</font>** | 常规态/按下态 |


# 四、规则补充
# 五、功能需求清单
[【特性】Demo_AI创作模块开发 @王亚婷](https://snh48group.yuque.com/qim4en/cqb2hd/wclut6by1nyrrchg)

# 六、美术需求清单
### 界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | | | **<font style="color:white;">性质</font>** |
| :---: | --- | --- | --- | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">音乐选择</font> | | | <font style="color:black;">弹框界面</font> |
| <font style="color:black;">2</font> | <font style="color:black;">作品设置</font> | | | <font style="color:black;">弹框界面</font> |
| <font style="color:black;">3</font> | <font style="color:black;">作品预览</font> | | | <font style="color:black;">二级界面</font> |
| <font style="color:black;">4</font> | <font style="color:black;">试玩</font> | | | <font style="color:black;">三级界面</font> |
| <font style="color:black;">5</font> | <font style="color:black;">试玩结算</font> | | | <font style="color:black;">三级界面</font> |
| <font style="color:black;">6</font> | <font style="color:black;">作品上传</font> | | | <font style="color:black;">弹框界面</font> |
| <font style="color:black;">7</font> | <font style="color:black;">二维码分享</font> | | | <font style="color:black;">三级界面</font> |


