<font style="color:#DF2A3F;">原文档（如雀语文档格式出错，可下载下方原文档进行阅读）：</font>

[玩法编辑器工具（做谱向）1.0版 策划案-朱梅迪.docx](https://snh48group.yuque.com/attachments/yuque/0/2024/docx/44683805/1718171887865-af32361c-5f0c-4382-b70d-0ec8832e83a5.docx)

| **日期** | **内容** | **撰写者** |
| :---: | :---: | :---: |
| 2024.5.30 | 初版 | 朱梅迪 |
| | | |
| | | |






 

## 一、**设计目的**
### （一）**编辑器定位**
1. 帮助音乐制作人、音乐爱好者等用户更加高效、便捷地创建和编辑游戏谱面，提高做谱效率（已实现）；

<font style="color:rgb(255,0,0);">2.</font><font style="color:rgb(255,0,0);"> </font><font style="color:rgb(255,0,0);">帮助音乐制作人、音乐爱好者对已有曲谱进行打分、二次编辑（本次开发重点）</font>。  

### （二）**预期体验**
提供强大的编辑功能高效简便的音频处理与乐谱制作，灵活的谱面编辑与定制；





## 二、**编辑器功能概述**
### （一）**功能简介**
现有功能基础上，增加导入曲谱功能，支持一键导入多个曲谱，对曲谱进行打分、二次编辑等功能，方便筛选优质谱面进行学习提升。





### （二）**竞品参考**
无



## 三、**编辑器详情**
### （一）**界面逻辑**
1. 编辑器进入界面 



![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1718689638826-fa7ecb3c-3bd5-41dd-9da5-0b706820a64c.png)

| <font style="color:rgb(46,117,181);">编号</font> | <font style="color:rgb(46,117,181);">控件名称</font> | <font style="color:rgb(46,117,181);">点击效果</font> | <font style="color:rgb(46,117,181);">控件状态</font> |
| :--- | :--- | :--- | :--- |
| <font style="color:rgb(46,117,181);">①</font> | <font style="color:rgb(46,117,181);">按钮：【创作谱面】</font> | <font style="color:rgb(46,117,181);">点击打开导入歌曲弹窗（见</font><font style="color:rgb(46,117,181);">2.导入歌曲界面）</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">②</font> | <font style="color:rgb(46,117,181);">按钮：【导入谱面】</font> | <font style="color:rgb(46,117,181);">点击打开导入谱面弹窗（见</font><font style="color:rgb(46,117,181);">3.导入谱面界面）</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | **<font style="color:rgb(46,117,181);"></font>** |






2. 导入歌曲界面  



![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1718689641870-bbee0152-1363-4dc8-9cbb-fc013bc62316.png)



| <font style="color:rgb(46,117,181);">编号</font> | <font style="color:rgb(46,117,181);">控件名称</font> | <font style="color:rgb(46,117,181);">点击效果</font> | <font style="color:rgb(46,117,181);">控件状态</font> |
| :--- | :--- | :--- | :--- |
| <font style="color:rgb(46,117,181);">①</font> | <font style="color:rgb(46,117,181);">按钮：【返回】</font> | <font style="color:rgb(46,117,181);">点击返回</font><font style="color:rgb(46,117,181);">编辑器进入界面</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">②</font> | <font style="color:rgb(46,117,181);">按钮：【读取】</font> | <font style="color:rgb(46,117,181);">点击打开读取功能</font><br/><font style="color:rgb(192,0,0);">注：此按钮原位置在界面返回按钮处，需移动到右下角；仅位置移动，其余均不做变动</font> | <font style="color:rgb(46,117,181);"></font> |
| <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | **<font style="color:rgb(46,117,181);"></font>** |














3. 导入谱面界面  



![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1718689652256-be8d237a-dab1-4cda-84b6-6a19729d2270.png)

| <font style="color:rgb(46,117,181);">编号</font> | <font style="color:rgb(46,117,181);">控件名称</font> | <font style="color:rgb(46,117,181);">点击效果</font> | <font style="color:rgb(46,117,181);">控件状态</font> |
| :--- | :--- | :--- | :--- |
| <font style="color:rgb(46,117,181);">①</font> | <font style="color:rgb(46,117,181);">按钮：【返回】</font> | <font style="color:rgb(46,117,181);">点击返回</font><font style="color:rgb(46,117,181);">编辑器进入界面</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">②</font> | <font style="color:rgb(46,117,181);">功能栏：【导入文件】</font> | <font style="color:rgb(46,117,181);">点击虚线框区域时：打开</font><font style="color:rgb(46,117,181);">open弹窗（样式同导入歌曲的open）</font><br/><font style="color:rgb(192,0,0);">注：导入的曲谱文件为</font><font style="color:rgb(192,0,0);">excl格式</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">③</font> | <font style="color:rgb(46,117,181);">按钮：【确定】</font> | <font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">当玩家当前已选择需要导入的文件时：点击确定进入谱曲打分</font><font style="color:rgb(46,117,181);">/修改界面（见4.谱曲打分/修改界面）；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">当玩家当前未选择需要导入的文件时：</font><font style="color:rgb(56,86,35);">通用飘窗提示：您未选择导入文件</font><font style="color:rgb(46,117,181);">（样式见右图）</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">④</font> | <font style="color:rgb(46,117,181);">勾选框：【仅显示未评分歌曲】</font> | <font style="color:rgb(46,117,181);">点击勾选框：在未勾选</font><font style="color:rgb(46,117,181);">/勾选两种状态进行切换。</font> | <font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">未勾选状态：当用户在未勾选状态进入谱曲打分</font><font style="color:rgb(46,117,181);">/修改界面时，默认从导入的excl第一条数据开始显示，不做筛选；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">已勾选状态：当用户在已勾选状态进入谱曲打分</font><font style="color:rgb(46,117,181);">/修改界面时：默认从导入的excl第一条未打分的歌曲开始显示，且在用户切换下一首时切换到下一条未打分歌曲。</font> |














4. 谱曲打分/修改界面  

![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1718689674741-a35050b4-bea9-4904-bf0d-c9e6c1fa76d4.png)



| <font style="color:rgb(46,117,181);">编号</font> | <font style="color:rgb(46,117,181);">控件名称</font> | <font style="color:rgb(46,117,181);">点击效果</font> | <font style="color:rgb(46,117,181);">控件状态</font> |
| :--- | :--- | :--- | :--- |
| <font style="color:rgb(46,117,181);">①</font> | <font style="color:rgb(46,117,181);">功能栏：【搜索】</font> | <font style="color:rgb(46,117,181);">点击弹出搜索弹窗（见</font><font style="color:rgb(46,117,181);">5.搜索界面） </font><font style="color:rgb(46,117,181);">  </font> | <font style="color:rgb(46,117,181);">单一状态</font> |
| <font style="color:rgb(46,117,181);">②</font> | <font style="color:rgb(46,117,181);">勾选框：【仅显示未评分歌曲】</font> | <font style="color:rgb(46,117,181);">点击勾选框：在未勾选</font><font style="color:rgb(46,117,181);">/勾选两种状态进行切换。</font> | <font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">进入状态：进入时默认状态与导入谱面界面时勾选一致；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">勾选时：当前显示、切换上一首、下一首均为未评分的歌曲</font><br/><font style="color:rgb(46,117,181);">3.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">未勾选时：当前显示、切换上一首、下一首按顺序切换全部的曲目，不做筛选。</font><br/><font style="color:rgb(46,117,181);">4.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">勾选后及时生效，若当前显示与勾选不符，及时刷新。</font> |
| <font style="color:rgb(46,117,181);">③</font> | <font style="color:rgb(46,117,181);">按钮：【保存并下载】</font> | <font style="color:rgb(46,117,181);">点击后弹出保存项目弹窗（样式同导入歌曲的保存唤起【保存项目】弹窗，见下图）</font><br/><font style="color:rgb(46,117,181);">注：</font><br/><font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">玩家点击保存，同名覆盖玩家打开的</font><font style="color:rgb(46,117,181);">excl文件，跟新玩家本次打开软件的全部打分修改；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">玩家点击保存，在玩家选择的路径下存储玩家</font><font style="color:rgb(192,0,0);">本次打开软件操作的</font><font style="color:rgb(46,117,181);">所有评星为</font><font style="color:rgb(46,117,181);">10星歌曲的</font><font style="color:rgb(192,0,0);">mp3文件</font><font style="color:rgb(0,0,0);">和</font><font style="color:rgb(192,0,0);">xml文件</font><font style="color:rgb(46,117,181);">）</font><br/><font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">④</font> | <font style="color:rgb(46,117,181);">按钮：【下载】</font> | <font style="color:rgb(46,117,181);">点击后弹出保存项目弹窗（样式同导入歌曲的保存唤起【保存项目】弹窗，见下图）</font><br/><font style="color:rgb(46,117,181);">注：玩家点击下载，在玩家选择路径下存储玩家</font><font style="color:rgb(192,0,0);">当前这首歌的</font><font style="color:rgb(192,0,0);">mp3文件和xml文件</font><font style="color:rgb(46,117,181);">）</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">⑤</font> | <font style="color:rgb(46,117,181);">信息显示栏：【歌曲信息显示】</font> | <font style="color:rgb(46,117,181);">显示歌曲的</font><font style="color:rgb(46,117,181);">id、名称、时常、当前进度（当前第X首/总共Y首）、歌曲评星信息。</font><br/><font style="color:rgb(46,117,181);">注：</font><br/><font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">歌曲评星信息点击星星，自动填满点击星星及其左侧星星，点击后可随时重新点击重新评星；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">歌曲信息如果超框，则缓慢滚动显示。</font> | <font style="color:rgb(46,117,181);"></font> |
| <font style="color:rgb(46,117,181);">⑥</font> | <font style="color:rgb(46,117,181);">按钮【复制】</font> | <font style="color:rgb(46,117,181);">点击后复制当前歌曲</font><font style="color:rgb(46,117,181);">id的文本信息，</font><font style="color:rgb(56,86,35);">通用飘窗提示：复制成功</font><font style="color:rgb(46,117,181);">。</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">⑦</font> | <font style="color:rgb(46,117,181);">按钮【下一首】</font> | <font style="color:rgb(46,117,181);">点击后切换至下一首</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">⑧</font> | <font style="color:rgb(46,117,181);">按钮【上一首】</font> | <font style="color:rgb(46,117,181);">点击后切换至上一首</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">⑨</font> | <font style="color:rgb(46,117,181);">调试栏【谱面偏移数设置】</font> | <font style="color:rgb(46,117,181);">虚线框点击后可输入数字（单位：毫秒），默认为</font><font style="color:rgb(46,117,181);">1</font><br/><font style="color:rgb(0,0,0);">1.</font><font style="color:rgb(0,0,0);"> </font><font style="color:rgb(46,117,181);">左右箭头需支持鼠标点击偏移（已实现）和</font><font style="color:rgb(192,0,0);">键盘左右方向键按键偏移（需开发）</font><br/><font style="color:rgb(0,0,0);">2.</font><font style="color:rgb(0,0,0);"> </font><font style="color:rgb(192,0,0);">使用左右点击或者方向键偏移时，每操作</font><font style="color:rgb(192,0,0);">1次偏移的毫秒数为上方虚线框输入的毫秒数</font><br/><font style="color:rgb(192,0,0);"></font> | <font style="color:rgb(46,117,181);"></font> |
| <font style="color:rgb(46,117,181);">⑩</font> | <font style="color:rgb(46,117,181);">按钮【导出</font><font style="color:rgb(46,117,181);">mmg】</font> | <font style="color:rgb(0,0,0);">即原做谱功能中的【保存】按钮，</font><font style="color:rgb(192,0,0);">仅修改按钮文字描述和位置，功能不变</font> | <font style="color:rgb(46,117,181);"></font> |








5. 搜索界面  

![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1718689683087-3e7d7dde-d39b-4841-98f0-2c08a72bbcce.png)



| <font style="color:rgb(46,117,181);">编号</font> | <font style="color:rgb(46,117,181);">控件名称</font> | <font style="color:rgb(46,117,181);">点击效果</font> | <font style="color:rgb(46,117,181);">控件状态</font> |
| :--- | :--- | :--- | :--- |
| <font style="color:rgb(46,117,181);">①</font> | <font style="color:rgb(46,117,181);">按钮：【返回】</font> | <font style="color:rgb(46,117,181);">点击关闭弹窗</font> | <font style="color:rgb(46,117,181);">鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">②</font> | <font style="color:rgb(46,117,181);">功能栏：【搜索】</font> | <font style="color:rgb(46,117,181);">点击虚线搜索框：出现输入光标（闪烁的一条竖线）</font><br/><font style="color:rgb(46,117,181);">注：</font><br/><font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">搜索为</font><font style="color:rgb(255,0,0);">模糊搜索</font><font style="color:rgb(46,117,181);">（即</font><font style="color:rgb(46,117,181);">id和名称中，仅需部分与玩家输入重合即可，不需要完全一致），支持搜索id、歌曲名称；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">用户点击搜索或按回车键开始匹配数据库中与用户输入信息相同的条目；</font><br/><font style="color:rgb(46,117,181);">3.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">若玩家未输入任何信息且点击搜索按钮或回车，则</font><font style="color:rgb(56,86,35);">通用飘窗提示：您未输入信息</font> | <font style="color:rgb(46,117,181);">搜索按钮：鼠标移动到按钮上有通用变灰效果；</font><br/><font style="color:rgb(46,117,181);">点击时有通用闪烁效果。</font> |
| <font style="color:rgb(46,117,181);">③</font> | <font style="color:rgb(46,117,181);">按钮：【</font><font style="color:rgb(46,117,181);">×】</font> | <font style="color:rgb(46,117,181);">点击删除当前已输入全部信息，若玩家当前未输入任何信息，则该控件隐藏。</font> | **<font style="color:rgb(46,117,181);"></font>** |
| <font style="color:rgb(46,117,181);">④</font> | <font style="color:rgb(46,117,181);">标题：【搜索结果】</font> | <font style="color:rgb(46,117,181);">固定文字显示：搜索结果文本</font> | **<font style="color:rgb(46,117,181);"></font>** |
| <font style="color:rgb(46,117,181);">⑤</font> | <font style="color:rgb(46,117,181);">信息栏：【搜索结果信息显示】</font> | <font style="color:rgb(46,117,181);">标题显示：歌曲</font><font style="color:rgb(46,117,181);">id、歌曲名称</font> | **<font style="color:rgb(46,117,181);"></font>** |
| <font style="color:rgb(46,117,181);">⑥</font> | <font style="color:rgb(46,117,181);">信息栏：【搜索结果信息】</font> | <font style="color:rgb(46,117,181);">点击对应搜索结果歌曲信息，自动关闭当前弹窗，谱曲打分修改界面显示对应歌曲谱面信息</font><br/><font style="color:rgb(46,117,181);">注：</font><br/><font style="color:rgb(46,117,181);">1.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">信息栏显示顺序：按照玩家输入信息与结果匹配程度由高到低排序；若匹配程度相同，按照信息在</font><font style="color:rgb(46,117,181);">excl排序由小到达排序；</font><br/><font style="color:rgb(46,117,181);">2.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">玩家输入的信息突出显示（若无</font><font style="color:rgb(46,117,181);">ui提供突出显示的文字颜色，可暂先用颜色</font><font style="color:rgb(0,0,255);">#0000FF</font><font style="color:rgb(46,117,181);">）</font><br/><font style="color:rgb(46,117,181);">3.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">歌曲信息如果超框，则缓慢滚动显示；</font><br/><font style="color:rgb(46,117,181);">4.</font><font style="color:rgb(46,117,181);"> </font><font style="color:rgb(46,117,181);">若搜索出符合的信息较多，界面无法完全显示，则可通过鼠标滚动或者点击右侧滑动条向下滑动查看信息</font> | **<font style="color:rgb(46,117,181);"></font>** |
| <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | **<font style="color:rgb(46,117,181);"></font>** |
| <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | <font style="color:rgb(46,117,181);"></font> | **<font style="color:rgb(46,117,181);"></font>** |








### （二）**其他补充**
1. 谱曲打分修改界面下载的xml文件范例



### （三）**配置表**
1. 导入的excl表格式(新增字段star，用于存储评星信息）：

![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1718689702827-1d728c93-8a8e-4660-8156-2e9e65d16307.png)

 [评分导入文档.xlsx](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsx/44683805/1718689740855-5b84d5ec-aa40-40fc-9a38-1b254eaf167a.xlsx)



## 四、**红点提示逻辑**
无

## 五、**埋点检测需求**
无









## 六、**美术需求**
暂无



## 七、**数值需求**
暂无





