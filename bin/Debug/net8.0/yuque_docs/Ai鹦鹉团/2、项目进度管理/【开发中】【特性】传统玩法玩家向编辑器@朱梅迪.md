## 一、策划案链接：
[【玩法】传统玩法玩家向编辑器策划案](https://snh48group.yuque.com/qim4en/xs9kb3/eo4qkluugvhq9kse)

![](https://cdn.nlark.com/yuque/0/2024/png/44683805/1724725551449-d4811954-c25e-4d79-b38c-f708cc2e9cf1.png)

## 二、特性时间线：@PM




## 三、详细开发内容 @程序 @策划@UI
### 技术方案
<font style="color:#DF2A3F;"></font>

### 功能需求清单@程序 @策划
#### 前端功能清单：
| 分类 | 优先级 | 需求描述 | 程序自检 | 策划验收 | 备注 |
| --- | --- | --- | --- | --- | --- |
| 编辑器界面 | 1 | 返回按钮：退出编辑。 |  |  |  |
| | 1 | 舞美编辑按钮：进入舞美编辑器（当前暂不做） |  |  |  |
| | 1 | 暂存按钮：存储当前编辑结果 |  |  |  |
| | 1 | 完成按钮：存储当前编辑结果并退出 |  |  |  |
| 按键界面 | 1 | 按键标题 |  |  |  |
|  | 1 | 按键区域以及排布的拖拽控件 |  |  |  |
|  | 2 | 按键区域的拖拽换区 |  |  |  |
| 预览界面 | 1 | 角色预览区域 |  |  |  |
|  | 1 | 3D角色 |  |  |  |
|  | 1 | 3D场景 |  |  |  |
|  | 2 | 预览区域的拖拽换区 |  |  |  |
|  | 1 | 拖拽进度的滑条组件 |  |  |  |
|  | 1 | 全屏按钮：预览区域放大至全屏 |  |  |  |
|  | 1 | 回到开头按钮：回到预览开头 |  |  |  |
|  | 1 | 往前一个节拍按钮：往前一个节拍时间 |  |  |  |
|  | 1 | 往后一个节拍按钮：往后一个节拍时间 |  |  |  |
|  | 1 | 角色跟随当前选择的时间播放动作 |  |  |  |
|  | 1 | 预览区域的按键UI和滚动条（根据规则滚动和现实按键UI） |  |  |  |
| 按键预览界面 | 1 | 按键预览标题 |  |  |  |
|  | 1 | 难度标题 |  |  |  |
|  | 1 | 难度标题和滚轴移动 |  |  |  |
|  | 1 | 按键图标显示 |  |  |  |
|  | 1 | tips：按键方向为随机生成 |  |  |  |
| 编辑轨道界面 | 1 | 编辑轨道界面标题 |  |  |  |
|  | 1 | 轨道/轨道竖线 |  |  |  |
|  | 1 | 节拍轨道 |  |  |  |
|  | 1 | 音乐轨道 |  |  |  |
|  | 1 | 按键轨道 |  |  |  |
|  | 1 | 向前/向后回撤按钮：返回操作功能 |  |  |  |
|  | 1 | 轨道竖线划分/轨道竖线时间显示/轨道竖线节拍数显示 |  |  |  |
|  | 1 | 音乐轨道火焰纹 |  |  |  |
|  | 1 | 按键轨道上的按键元素（标题/滚动条/按键信息） |  |  |  |
|  | 1 | 轨道滑条 |  |  |  |
|  | 1 | 轨道可拖拽刻度线 |  |  |  |
| 编辑轨道界面高级设置 | 1 | 网格线选择组件：拖拽按键对齐网格线 |  |  |  |
|  | 1 | 音乐偏移时间输入组件：音乐播放偏移 |  |  |  |
|  | 1 | 播放速度 |  |  |  |
|  | 1 | 节拍分割选择 |  |  |  |
|  | 1 | 轨道间距按钮：点击放大轨道间距 |  |  |  |
|  | 1 | 暂停/播放按钮 |  |  |  |
| pc版进入界面 | 1 | bpm设置/bpm获取按钮(通过调用北京接口) |  |  |  |
| | 1 | MP3选择功能 |  |  |  |
| | 1 | 模式选择功能 |  |  |  |
| | 1 | 创建及读取功能 |  |  |  |


#### 后端功能清单：
暂无

#### 工时评估：
##### <font style="color:#000000;">前端：</font>
:::warning
+ **技术文档和功能拆分(2D)**
+ **编辑器按键界面/按键预览功能(2.5D)**

1.按键界面搭建，按键界面组件生成以及元素拖拽功能。

2.按键预览界面搭建，按键预览内容填充(showTIme/按键信息)，按键信息中滚动条的滚动效果。

+ **轨道背景界面（2D）**

1.轨道界面背景搭建。

2.轨道背景刻度线，刻度时间，节拍数计算和现实（需要考虑高级设置中的联动）。

3.当前时刻刻度线，可拖拽选择当前时刻。	

+ **所有轨道功能（5D）**

1.节拍轨道界面制作

2.音乐轨道，需要调研火焰纹生成功能（调研），填充音乐轨道。

3.按键节拍轨道，联动按键界面中的元素，处理拖拽按键元素添加，拖拽按键元素删除，重叠按键元素逻辑，处理撤销拖拽元素。拖拽的美术表现形式。

4.移动滑条和拖拽背景处理整个轨道的滑动效果。

5.移动拖拽的刻度线，定位轨道播放的时间。

6.操作方面需要注意使用指令存储的形式，用于向前/向后处理回撤功能。

7.需要注意和预览界面保留联动接口。

+ **PC版使用的选择歌曲/设置BPM界面（2D）**

1.简易界面搭建。

1.迁移调用背景AI接口获取音乐的BMP功能/支持自定义BPM。

2.选择歌曲功能。

3.确认编辑器谱面的存储数据格式/存储地址。

4.读取已编辑的旧谱面编辑数据功能。

5.调试。

+ **保存功能（0.5D）**

1.保存已经编辑的轨道信息。

+ **调试和补漏（2D）**

  **<font style="color:#DF2A3F;">第一阶段开发结束</font>**

+ **编辑器高级设置功能(2D)**

1.拖拽的元素对齐至格线功能。

2.音乐偏移功能。

3.倍速播放。

4.网格线按照倍率扩展。

5.放大缩小整体轨道。

+ **预览界面3D物件处理（4D）**

1.预览界面搭建。

2.角色动作序列生成，虽然不做舞美编辑，但是已经涉及到动作序列处理了。

3.3D角色,3D场景创建，渲染3D物件处理。

4.3D角色播放动作。

5.调研根据指定时间播放角色动作功能。

+ **预览界面UI功能（2D）**

1.滑动条拖拽和轨道当前时刻联动，

2.全屏预览界面功能。

3.向前/向后推进一个节拍时间，暂停播放功能。

4.预览界面中滚动条和按键按照规则处理。

+ **调试和补漏（2D）**

**<font style="color:#DF2A3F;">第二阶段开发结束</font>**

+ **拖拽窗口功能（1.5D）**

1.拖拽按键，预览，按键预览窗口实现窗口变换。

2.拖拽节拍、音乐、按键轨道实现轨道窗口变化。

3.保存当前窗口的所有配置信息。

4.读取已经保存的界面存储信息。

**<font style="color:#DF2A3F;">第三阶段开发结束</font>**

+ **整合进版本 + 调试(2D)**

:::





##### 后端：


##### UI：


### UIchecklist@程序 @策划@UI
checklist说明：

**已检查：**✔

**已知问题暂不修改：╱（需特殊说明备注）**

**（需截图）：****需要截图已检查效果**

**（需描述）：****需要备注情况**

| **类型** | **检查事项** | **程序** | **策划&美术** |
| --- | --- | --- | --- |
| | | | |
| **文字** | **界面上所有文字，是否都是读取配置表，没有代码里写文字的情况** | | |
| | **多语言检查****多语言自动机翻工具说明****（需截图）** | | |
| **按钮** | **按钮大小、按钮颜色是否和美术效果图一致** | | |
| | **按钮状态：常态、点击态、选中态（如果有的话）效果是否同美术效果图一致** | | |
| | **按钮的触碰区域是否做到比较容易点击，需要制定通用的标准** | | |
| **界面元素** | **界面元素的灰态是否同美术效果图一致：材质灰态、叠加灰色图片、替换灰色资源素材，使用的是3种中的哪一种** | | |
| | **检查界面的所有状态是否齐全****（需截图）** | | |
| | **是否按照UI示意图拼接界面元素（颜色，透明度，Sprite，位置，缩放等）** | | |
| **层级** | **检查呼出通用Tips界面（确认框、提示信息框）后层级显示是否正常** | | |
| **适配** | **在游戏视窗内设置4种Aspect，确认在4:3,18:9,21:9.7,21:9，四种比例下界面是否显示正常（其中18:9&21:9.7需要与美术示意图保持一致)****（需截图）** | | |
| **功能** | **界面加载响应速度是否过长，加载时界面的初始状态是否正常****（需描述）** | | |
| | **检查通用元素是否使用了通用预制体****（需描述）** | | |






