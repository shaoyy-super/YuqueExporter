# 概述
## 文档说明
+ 本文档主要讲述捏人功能的延伸功能，可以在捏人的基础上独立产生玩法的机制。

## 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| :---: | --- | --- | --- | --- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/7/2</font> | | [@何佳蔚](undefined/littleorange-8k8nt) | <font style="color:black;">文档创建</font> |
| |  | |  |  |


## 设计思路
+ 达到游戏内写实的物理感效果同时又要有超现实的表现感觉
+ 考虑方便易用的操作模式和玩法应用场景

# 功能说明
## 概念定义
### 人体
玩法基于捏人功能而来，在这个玩法中，人体本质上是一个**其他物体的容器**，捏人时不仅决定了外形轮廓同时决定了自身容积，各部件容积（体积）固定。

容器初始是空的，或已经填充了可以被吸收/释放的物体，可以在玩家操控下继续去吸收其他的物体达到改变自身内部构成和外观表现。

吸收时填充人体容器的优先级根据捏人部件拆分规则，由下至上依次填充，释放时的优先级反之。

脚→下半身→上半身→肩膀→胳膊→小臂→手掌→头

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719894341211-d46642e3-3ea0-47be-908d-1455c5a9cf8c.png)

### 物体
本文档中的“物体”指代能被上述人体吸收/释放的物体，根据物体性质进一步细分为材质性粒子和特定实体。

#### 材质性粒子
被角色吸收时，角色仍然保持捏人时塑造的外形和轮廓，仅将被吸收的材质粒子作为人体的材质填充物，吸收部位获得相应的材质和颜色表现，并占用人体的相应体积（捏人体积）。

如下图，材质粒子类似彩色MM豆的球体。

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719903065873-1c73dd81-d3b8-42ab-9da2-b6fa9ae7e381.png)

#### 特定实体
实体被角色吸收后，实体不会发生形状改变，会按照初始朝向和角色吸收的方向吸收至角色身体内的空位置，并占用一部分体积。（仅计算和捏人体型重合的部分，超出部分不计算）

参考塞尔达王国之泪-究极手，实体被吸收后类似被胶水黏在身上的效果。

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719904700978-c17c9800-3776-4b70-b5bb-f4ec737446e4.png)

## 基础功能
### 开启方式
玩家捏人时会决定玩家角色的形状和轮廓，在通常状态时为正常皮肤表面的人形，在特定玩法中角色皮肤替换为透明材质，并根据轮廓进行高亮描边，此时可进行吸收/释放玩法。![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719913235261-b978da8a-d8e3-4a53-84b5-d1b3afc679e4.png)

### 吸收
围绕角色的中心点生成一个半径会动态变化的球体包围盒，开启“吸收”状态时，包围盒内的物体会被吸收附着在角色体内/身上。

会优先吸收靠近圆心的物体。

吸收效果参考瑞奇与叮当：

[此处为语雀卡片，点击链接查看](https://www.yuque.com/zdlwma/kxyozs/wca12ixygbie43go#z40mE)

概念参考：

[此处为语雀卡片，点击链接查看](https://www.yuque.com/zdlwma/kxyozs/wca12ixygbie43go#zCda9)

### 释放
当角色身体内存在可被吸收的材质时，可以开启“释放”状态，将角色身上可被吸收的材质打散为最小单位的粒子并从人物身上剥离，以角色为圆心掉落在周围的环境中，变为可被吸收的模型。

会优先释放上次吸收的物体。

[此处为语雀卡片，点击链接查看](https://www.yuque.com/zdlwma/kxyozs/wca12ixygbie43go#P1CEI)

## 
## “吸收”玩法操作模式
预计通过三个维度的参数，让玩家相对自由的控制物体的吸收和释放，在简单的规则内也能通过参数控制内生出高上限的操作结果。

### 整体/局部
整体：全身按照优先级规则依次吸收/释放物体。（默认选项）

局部：根据捏人拆分规则，按照需求将身体分为头部、上肢（左/右）、上半身、下半身等多个部位，可进行局部吸收/释放。

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719911010431-379ea38a-a3f1-4ddb-a699-93005b3ab794.png)![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719910992860-0676e441-b65d-4894-8909-1bb57100dea8.png)

### 层级
根据需求将身体分为多层，每层的体积独立计算。

内层为玩家捏人时的体型，只能吸附上述“材质性粒子”来给自己的身体一个基础的“塑形”；

外层为贴合体表等比例放大的轮廓，既可以吸收材质性粒子让自己整体变大，也可以吸收实体物体让自身变的更特殊。

### 全部/单个
全部：吸收会无差别吸收周围的所有物体，按照优先级规则依次吸收，释放同理（默认选项）

单个：吸收时仅吸收一个即停止，优先取球体包围盒范围内体积最大的物体；释放时优先取最近一次吸收的道具。

## 玩法模式
### 跳舞模式（静态模式
需求点：需要放慢释放时物体飞出去的速度，吸收速度可以按现在的不变。  
演示流程：玩家用一个吸收完整的体素模型在固定场景中的固定位置进行跳舞，播放连续的舞蹈动作。

玩家可在这一段固定长度的时间内，随时 开启/关闭 吸收/释放 状态，根据角色的舞蹈动作（走位、挥手、下蹲、转身等）达成舞蹈中角色形象千变万化的效果。

角色跳舞的场景可由官方根据主题预设提供（例如MM豆主题），也可由玩家自定义场景。

后期需要考虑跳舞过程中“实时场景切换”功能和“多人共舞吸收”功能。

韩国女团换装/换舞台参考：

[此处为语雀卡片，点击链接查看](https://www.yuque.com/zdlwma/kxyozs/wca12ixygbie43go#v4bLW)

舞力全开换装/换场景参考：

[此处为语雀卡片，点击链接查看](https://www.yuque.com/zdlwma/kxyozs/wca12ixygbie43go#FUevi)

### 自由模式（动态模式）
玩家可操纵摇杆自由控制角色模型在一个沙盒场景中移动，移动过程中可随时 开启/关闭 吸收/释放 状态，将场景中预设的物体与自身进行组合。

后续需要考虑多人在同房间内共玩的功能。

#### 玩法预期
##### 达成任务目标
吸收x个/x%的y类型物体，吸收后释放至指定区域。

##### 抢夺
新机制：部分物体被某玩家吸收至体内后，仍然可被他人吸收走。

可基于此延伸出橄榄球、击鼓传花、抢皇冠等多人玩法规则。

##### 大鱼吃小鱼
新机制：玩家只能吸收某个体积以下的物质，吸收后可增加同体积的自身体积。当玩家自身体积增大至下个档位时，提高吸收体积的范围。

基于这套规则可以单人玩（块魂）也可以多人玩。

+ 在规定时间内自身体积增大至目标数值
+ ![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1719916091889-e58da036-d02b-4aa5-8c34-ad8a2317cb47.png)

[此处为语雀卡片，点击链接查看](https://www.yuque.com/zdlwma/kxyozs/wca12ixygbie43go#gCAwa)

