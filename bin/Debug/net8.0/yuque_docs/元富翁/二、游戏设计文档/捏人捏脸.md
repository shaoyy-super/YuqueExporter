# 概述
## 文档说明
本文档主要讲述玩家装扮系统，包括捏脸、捏人、换装扮、购买装扮、换棋子形象、换盾牌皮肤 功能。

## 文档维护
| 版本 | 时间 | 负责人 | 修改内容 |
| --- | --- | --- | --- |
| 1.0 | 2024/6/13 | 何佳蔚 | 文档创建 |
| 1.1 | 2024/8/14 | 何佳蔚 | 界面示意优化 |
| 1.1 | 2024/8/19 | 何佳蔚 | 相机需求优化 |




## 设计思路
参考《天天富翁2：mata》，制作一个通用于元宇宙及其他项目的玩家形象空间，玩家可以关联账号后共享捏人/捏脸/装扮数据，并在对应的游戏内展示出统一的主角展示效果。

需求该功能的交互方式各个项目统一且简单易懂，同时根据不同项目的要求融入部分项目特色功能（例如元富翁需要展示3D城市概况、玩家形象切换、拥有收藏贴纸）。

## 系统框架图![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1718266250575-db7e0cfd-4793-4086-b6a8-617edd92ab06.png)
# 功能说明
## 功能入口
主界面上存在“个人信息”按钮，点击后进入个人信息功能主界面，从主界面点击“装扮”按钮后进入该功能。

## 捏脸/捏人
### 基础功能概述
调用项目内已完成的捏脸/捏人功能，达到玩家脸部、身体各参数达到改变面部容貌和体型的效果。

分为“系统预设”、“捏脸/人参数”、“整体预览”三个模块。

系统预设：从全身套装模版、脸的模版、体型的模板三个细致度页签，给玩家直接使用进入游戏或基于此再去调整参数；

捏脸/人参数：让玩家可以去微调脸部/身体的各部分详细参数；

整体预览：提供给玩家一些时装、配件、动作、环境的试用，方便玩家预览到自己捏出来的人在游戏环境中的真实效果。

### 易用性设计
#### 高亮
当玩家对某项参数进行编辑时，编辑部位区域出现仅播一次的高亮特效，告知玩家当前的编辑影响部位的具体位置。

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1720663380504-34ec524d-57ef-4de9-bfb2-2a917177a222.png)

#### 重置
点击后重置至初始脸/人。

#### 上一步/撤回（ctrl+z）
点击后恢复至玩家上一步修改，只保存“1”步，连续点击时置灰不可点击。

例如玩家勾选选项/拖动至新的参数后，点击后恢复至勾选/拖动之前。

当玩家点击重置时，点击上一步也可恢复至重置前的效果。

#### 下一步/恢复(ctrl+y）
点击后恢复玩家下一步修改，只保存“1”步。

结合“上一步”一并使用，当点击上一步按钮后，下一步按钮亮起。

#### 相机控制
玩家捏脸/捏人时可通过**滑动**和**捏合**操作控制相机。

玩家初始相机面对正脸，相机默认位置为以头部为圆心，向外一定距离为半径的球形轨迹，玩家可通过**左右滑动**控制相机在x轴上位移，**上下滑动**控制相机在y轴上位移（限制最大最小俯仰角）。

玩家通过捏合操作可扩大/缩小半径（限制最大最小半径距离）。

捏脸和捏人是两套不同的相机参数。

预期在引擎内实时可视化配置，真机内通过GM指令呼出按钮和参数位置可视化配置。

+ 捏人时

预期最远能看见角色全身，最近看角色半身。

需要瞄准角色面部的骨骼，在角色身高不固定时能最近缩放至角色面部和上半身；

同时需要根据角色身高去动态调整相机的最远和最近缩放距离。

+ 捏脸时

预期默认看角色大头，最远能看见角色半身。

需要根据选择不同的捏脸部位，决定相机的角度（旋转角色）。

#### 隐藏发型/帽子
捏脸时需要“隐藏发型/帽子”功能，玩家点击后重置为角色初始发型/隐藏帽子。（部分发型和帽子面积大，对脸部有遮挡效果；初始发型常为马尾或短发，对脸部无遮挡）

#### 预设和导入导出
将提供多套差异风格的捏脸/人的模版，玩家可以直接点击后导入，直接使用或以此为基础调整细节。

+ 玩家可将当前的捏脸/捏人的数据保存为模版（本地/云），同时存在多个空模版栏位。
+ 玩家可将现有模版导出为种子数据/二维码图片，也可将其他玩家的模版导入，直接放在空模版或覆盖已有模版。

#### 【待定】搜索
捏脸/捏人时都需要搜索功能，玩家点击后弹出搜索框，可模糊搜索需要调整的部位，点击后切换到对应的页签并高亮所选部位。

#### 【待定】随机
点击后随机给玩家生成一个全部/捏脸/捏人的数据。

#### 【待定】云服务器共享捏人/脸数据平台
内置在游戏内/跳转至网页，可下载他人的捏人/脸数据，有点赞热度/排行/筛选等易用性操作方式；

同时可以上传数据至平台。

## 换装
### 基础功能
调用已有换装功能，达到玩家修改各个部位（根据美术资源设计）装扮的效果。

### 易用性设计
#### 相机控制
规则大致同上捏人相机。

换装时背后有固定场景，可以考虑转人而不是转相机，固定相机的朝向，仅能在范围内改变相机的缩放。

#### 模版
需要拥有多套模版，可以保存多套玩家换装方案，默认使用第一套。

#### 隐藏UI
换装时主要看整体的全身效果，有隐藏UI看细节/氛围的需求，点击后隐藏当前界面的UI层（除该按钮），隐藏后仍可通过滑动操作来调整相机。





# 界面说明
![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1721195811535-5cebb194-52cf-4f9f-8cf9-a12bb82c00d7.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1721195828877-b962b6af-1523-49f4-9b55-a125d715b929.png)

![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1723614251009-2bcc8d86-421e-430d-b0b4-4466643f657a.png)![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1721196913452-17971de6-41fd-4a55-b2df-0e7c39ffcb2c.png)![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1721203643922-c790a4fe-e549-407a-bb51-5aded6f6f4f0.png)



![](https://cdn.nlark.com/yuque/0/2024/png/43256847/1723614548948-e71cd5ee-4753-4355-92cd-9133071a6a51.png)

