# 概述
## 文档说明
+ 本文档说明了收集活动-排行榜玩法的基础功能

## 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| :---: | :---: | --- | :---: | :--- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/7/2</font> | | [@王敏涵](undefined/cookie-ylrqq) | <font style="color:black;">文档创建</font> |
| | <font style="color:black;">2024/7/19</font> | | [@王敏涵](undefined/cookie-ylrqq) | <font style="color:black;">完善分榜规则</font> |
| | <font style="color:black;">2024/7/23</font> | | [@王敏涵](undefined/cookie-ylrqq) | <font style="color:black;">修改机器人填充分数随机区间</font> |
| | <font style="color:black;">2024/9/2</font> | | [@王敏涵](undefined/cookie-ylrqq) | <font style="color:black;">排行榜奖励显示规则优化</font> |


## 设计思路
+ 周期性玩法，给一些特殊事件（如攻击建筑、抢劫银行）以额外奖励，鼓励玩家游玩
+ 以排行榜形式给予奖励，鼓励玩家间竞争

# 玩法流程
![画板](https://cdn.nlark.com/yuque/0/2024/jpeg/26927517/1719985395884-f557b1fe-7d4d-4410-8b34-f64ef7004c63.jpeg)

# 功能说明
**名词解释：**

收集物：每次收集活动会指定一个收集物品，如贝壳

**规则：**

**【收集物品获得奖励】**

+ 发生特定事件时可以获得指定数量收集物（受奖励倍率影响）
    - 根据触发了攻击建筑、银行打劫的类型获得不同奖励
    - 根据玩法的小游戏结果获得不同奖励
+ 在活动期间集齐指定数量的收集物可以获得不同的阶段性奖励
+ 当达成阶段性目标时，立即弹通用获取物品弹窗发放奖励

**【活动解锁】**

+ 收集物数量>5时解锁活动

**【排行榜】**

+ 根据**玩家收集物的数量**进行排名
+ 排行榜容量：100

**<font style="background-color:#CEF5F7;">【排行榜排名奖励显示规则】</font>**

+ <font style="background-color:#CEF5F7;">每个玩家排行榜上显示的排名奖励数额不同，根据玩家自身城市等级变化，实际显示的金钱数额 = 基础值 x 城市等级系数 x 货币比率 </font>
+ ![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1725264723520-a751be23-c7ae-4859-a481-e90ff4fc51c7.png)

**<font style="background-color:#E8F7CF;">分榜规则：</font>**

+ <font style="background-color:#E8F7CF;">分榜时先根据根据玩家上一次参与的活动排名分段，将玩家分到不同的池子</font>
+ <font style="background-color:#E8F7CF;">第一个解锁活动的玩家被分进一个榜单A，排名在50-100间随机，其余99人用机器人填充</font>
    - <font style="background-color:#E8F7CF;">根据玩家上一次参与的活动的收集积分，决定填充的机器人在排行榜上的积分</font>
    - <font style="background-color:#E8F7CF;">机器人的积分在活动解锁随机积分~玩家上次活动收集积分 之间随机</font>
    - <font style="background-color:#E8F7CF;">若玩家上一次未参与活动，机器人的积分在活动解锁随机积分~默认值100 之间随机</font>
+ <font style="background-color:#E8F7CF;">第2-100个解锁活动的玩家被分进榜单A，每进入一个真实玩家，从榜单中踢出名次最低的机器人</font>
+ <font style="background-color:#E8F7CF;">直到榜单A填满后再开榜单B</font>

**【结算】**

+ 活动结束时，在玩家上线时主动弹出结算界面，数据保存一周
+ 根据排名结算奖励
+ 活动结束时清空所有榜单

# 界面
## 主界面活动入口
活动图标在活动期间固定存在。

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719904891134-037d4d69-f169-4e3d-81d4-cce1fb2fa251.png)

## 活动详情页
入口：点击主界面活动入口后进入。

![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719912776106-09ad5021-ca0c-4e3d-9542-aa669d58efca.png)

## 活动未解锁状态
![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719975380533-01d8ca38-9bad-43ba-888c-b50516d6f638.png)

## 游戏规则帮助弹窗
![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719912742581-939bcb78-f8bc-40d4-8fad-380982dca5b7.png)

## 活动时间结束结算界面
![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719974140671-5b712351-59f3-40f0-b505-98dd76368c00.png)

# 配置表
统一通过Activity表对这个活动进行调用。

[CollectActivity.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/26927517/1719985942045-b9b7980b-7f35-40fc-9bc4-d98226bff24c.xlsm)

# 功能需求清单
| 编号 | 任务人员 | 优先级 | 需求描述 | 自检 | 确认 | 备注 |
| --- | --- | --- | --- | --- | --- | --- |
| 1 |  | 1 |  | | | |
| 2 |  | 1 |  | | | |
| 3 |  | 1 |  | | | |
| 4 |  |  |  | | | |
| 5 | |  |  | | | |


# 美术参考
![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719912859460-35232cf7-dc39-456e-8538-ecdbda10d8df.png)![](https://cdn.nlark.com/yuque/0/2024/png/26927517/1719912838609-24d3b91a-c220-4dca-a0f6-8bab6f5b2696.png)

