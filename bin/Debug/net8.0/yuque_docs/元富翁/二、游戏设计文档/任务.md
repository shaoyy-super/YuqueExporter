# 一、概述
## 1.1 文档说明
+ 主要讲述任务系统UE和主要功能点。

## 1.2 文档维护
| <font style="color:white;">版本</font> | <font style="color:white;">时间</font> | | <font style="color:white;">负责人</font> | <font style="color:white;">修改内容</font> |
| :---: | :---: | --- | :---: | :--- |
| <font style="color:black;">v1.0</font> | <font style="color:black;">2024/06/12</font> | | 陆晓笛 | <font style="color:black;">文档创建</font> |


## 1.3 设计思路
+ 设计每日任务和每周任务
+ 提出一些任务和达成条件
+ 任务为赛季制，任务奖励会跟随赛季变化。

# 二、功能说明
## 2.1 任务类型说明
每日任务：每日刷新，完成每日任务可以积攒周奖励点数。

                配置多个每日任务，每天从中选择3个任务。

每周任务：积攒周奖励点数每达到一个阶段，可以领取对应的周奖励。

排序说明：默认按照配置顺序排序，当任务完成后置顶，任务领取奖励后排至最后。

### 2.1.1 任务刷新
+ 每日任务和每周任务设置固定刷新时间点，到达时间后刷新任务进度。
+ 每日任务每日刷新，到达每周刷新点时，刷新并进入下一个任务组。

## 2.2 赛季制
+ 每个赛季包含一批每日和每周任务组，单个赛季内任务组循环。
+ 更新新赛季后则读取新赛季每周任务组。
+ 默认按照顺序读取任务组，若玩家在赛季中途进开始游戏，则按照当前时间周选择任务组。

## 2.3 默认赛季
+ 当前赛季结束后若无配置新的赛季，则读取默认赛季。
+ 默认赛季会进行自动循环，直至添加了新的赛季签到奖励。

## 2.4 任务奖励
+ 任务奖励直接读取Dailytask表中的配置。
+ 每日任务和每周任务除了固定道具的奖励，还会包含不固定数量的货币奖励。
+ 货币奖励=玩家获取金钱基础值*任务奖励货币比率，其中比率随着玩家等级而变化。

      玩家获得金钱基础值=基础固定值*城市等级系数

## 2.5 任务条件需求
| **<font style="color:#fa7d00;">任务条件</font>** | **<font style="color:#fa7d00;">任务变量</font>** |
| --- | --- |
| <font style="color:black;">经过起点次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">破坏其他玩家建筑次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">银行抢劫次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">升级建筑次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">投掷两个骰子点数相同的次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">消耗骰子数量</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">打开一次社会基金</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">触发机会卡次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">收租次数</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">获取贴纸数量（暂无功能）</font> | <font style="color:black;">无变量</font> |
| <font style="color:black;">待补充</font> | <font style="color:black;"></font> |


# 三、界面说明
## 3.1 入口
![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1718177463410-88308d09-0d41-4787-8ec1-84a70a237433.png)

+ 点击主界面底部的任务入口打开任务界面。

## 3.2 界面说明
整体界面背景进行包装，贴合大富翁和任务的元素。

设计任务对应的图标，当前先设计获取金钱、抢劫、升级建筑这几个类型的图标。

设计每周奖励点数，贴合大富翁和任务的元素。

![](https://cdn.nlark.com/yuque/0/2024/png/43554293/1723022420081-76830f02-3c44-49b1-8ff1-01422fed371f.png)

# 四、配置表说明
[Task.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/43554293/1719557223364-da45cbf9-8164-4d2d-9f7f-9c4749af6e7d.xlsm)

[Season.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2024/xlsm/43554293/1719471557567-4d9bd87f-037f-4388-86b9-19dd84164948.xlsm)

# 五、功能需求清单
| **<font style="color:white;">序号</font>** | **<font style="color:white;">分类</font>** | **<font style="color:white;">优先级</font>** | **<font style="color:white;">需求描述</font>** | **<font style="color:white;">自检</font>** | **<font style="color:white;">确认</font>** | **<font style="color:white;">备注</font>** |
| :---: | --- | --- | --- | :---: | :---: | :---: |
| <font style="color:black;">1</font> | 系统入口 | 1 | 界面入口 | <font style="color:black;"></font> | <font style="color:black;">0</font> | |
| <font style="color:black;">2</font> | 每日任务 |  | 任务栏展示 | | | |
| <font style="color:black;">4</font> |  |  | 任务奖励领取 | | | |
| <font style="color:black;">5</font> | 每周任务 |  | 每周进度展示 | | | |
| <font style="color:black;">6</font> | 任务 |  | 任务完成逻辑 | | | |
| <font style="color:black;">7</font> |  |  | 任务奖励领取 | | | |
| <font style="color:black;">8</font> | 剩余时间 |  | 每日和每周倒计时逻辑 | | | |
| <font style="color:black;">9</font> | 任务内容和条件 |  | 列举的任务内容和条件 | | | |
| <font style="color:black;">10</font> | 赛季制 |  | 赛季制逻辑 | | | |


# 六、美术需求清单
## 6.1 界面需求
| **<font style="color:white;">编号</font>** | **<font style="color:white;">界面</font>** | | | **<font style="color:white;">性质</font>** |
| :---: | --- | --- | --- | :---: |
| <font style="color:black;">1</font> | <font style="color:black;">任务界面</font> | | | <font style="color:black;">一级界面</font> |


## 6.2 动效需求
+ 同idolbox中的任务动效需求，包含界面动效需求、每周奖励可领取时的图标特效需求。

# 七、String需求
| **<font style="color:white;">类别</font>** | **<font style="color:white;">目标操作</font>** | **<font style="color:white;">触发条件</font>** | **<font style="color:white;">提示形式</font>** | **<font style="color:white;">提示string</font>** | **<font style="color:white;">stringID</font>** |
| :---: | --- | --- | :---: | --- | :---: |
| <font style="color:black;">任务界面</font> | <font style="color:black;">每日倒计时</font> | <font style="color:black;"></font> | <font style="color:black;"></font> | <font style="color:black;">剩余时间：XX:XX:XX</font> | |
| <font style="color:black;"></font> | <font style="color:black;">每周倒计时</font> | <font style="color:black;"></font> | <font style="color:black;"></font> | <font style="color:black;">剩余X天、剩余XX小时</font> | |
| <font style="color:black;"></font> | <font style="color:black;">每周任务提示</font> | <font style="color:black;"></font> | <font style="color:black;"></font> | <font style="color:black;">赚取X填满进度并获取每周大奖！</font> | |


