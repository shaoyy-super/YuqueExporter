# 一 基础表现分类
## 1.AB对话
#### ![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740563504566-34461658-c34e-49de-ba57-97b10ae05871.png)![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740563531960-815d28fa-9826-43ea-a7e8-a4b2d3f9937a.png)
#### 1.1显示内容
+ 2D半身像或头像，文本框（一行16字最多3行），对话人名，点击提醒（指倒三角图案），配置语音/bgm
    - <font style="color:#DF2A3F;">缺少：对话人名</font>
+ 选项框（最多22字），同屏最多显示2个

#### 1.2功能规则
显示：

    - 调用对话组id，显示剧情对话UI
    - 文本框内的文字需要逐个显示
    - 文本框/头像/半身像都有默认位置可配；若出现特殊情况，策划仍可配置坐标
    - 支持调用资源和特殊演出表现：timeline/动画资源/黑幕+文字居中效果/后日谈
    - 支持配置adv对话背景图
    - 可配置2个选项；根据选项配置跳转不同对话或对话组

消失：

    - 点击文本框和其他空白处，可切换下一句对白或执行结束指令

触发条件：

    - 进入新城市
    - 完成指定对话id后解锁（游戏内完成当前城市的主线剧情）
    - 城市建设完成

#### 1.3其他特殊演出表现
##### 1.3.1黑幕+文字居中
![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740641391854-c798f4aa-f9ee-4dbb-b515-1a82d8ee6d8f.png)

###### 1.3.1.1显示内容
+ 黑幕+文字居中，配置语音/bgm

###### 1.3.1.2功能规则
显示：

    - 淡入显示黑幕，文字逐个显示

消失：

    - 点击空白处，可切换下一句对白或执行结束指令

触发条件：

    - 调用配置

##### 1.3.2后日谈
![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740641207349-b5dc0c3d-4ddc-4c1b-916e-015935ff1092.png)

###### 1.3.2.1显示内容
+ 剧情章节标题，结局CG，结局文本，配置语音/bgm

###### 1.3.2.2功能规则
显示：

    - 淡入显示后日谈；显示顺序：1.剧情章节标题 2.结局CG 3.结局文本+收集成功按钮

消失：

    - 玩家点击收集成功后，执行结束或下一行演出指令

触发条件：

    - 指定对话id

###### 1.3.2.3其他参考
![](https://cdn.nlark.com/yuque/0/2024/png/25919534/1732533001309-d0e2f2b1-62a1-4a2b-876a-4525ad0fdd5b.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_707%2Climit_0)![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740641278080-9f5bec98-e885-4ed9-ae80-19a0410f8d16.png)

#### <font style="color:#74B602;">备注（待排期）</font>
<font style="color:#74B602;">跳过/自动播放/倍速，功能细则补充</font>

## 2.滚动对话
![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740567562534-19aaa2eb-21b4-46d5-8027-e710e0e95fb9.png)![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740567575986-bf9d8306-2e47-4273-94d8-9a5f22b9fdd7.png)

#### 2.1显示内容
+ 头像，文本框+文本（最多一行12字，支持多行），对话人名，timeline/动画缩略图
+ 同屏仅支持显示2个选项

#### 2.2功能规则
显示：

    - 调用对话组id，显示剧情对话UI
    - 文本框/头像/半身像都可配默认位置，如配置1=头像和文本框都在左边
    - 支持调用资源和特殊演出表现：动画资源/timeline
    - 可配置2个选项；根据选项配置跳转不同对话或对话组
    - 无选项时，选线区域显示为空即可

消失：

    - 当前对话结束后，需要在界面上显示结束状态；
        * 如：恋与深空，一段对话组结束后，显示一条实线

![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740644886681-a3c56975-c67d-41e6-ae0b-1c639e549a02.png)

交互：

    - 上下滑动可以预览当前对话组的聊天记录

触发条件：

    - 前置对话id组已完成（主线剧情递进式解锁）

## 3.文本tips（暂不开发）
![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740637897787-1da93d45-09a4-432a-b9e8-7ca9034a38ec.png)

（↑参考图）

#### 3.1显示内容
+ 显示在游戏右上角，头像+文本框+文本（12字一行）

#### 3.2功能规则
显示：

    - 根据配置的触发条件，玩家每次在建筑升级界面才会显示（其他系统界面不会显示）
        * 若同时触发多个条件，则根据完成条件的时间，按顺序显示
    - 文本框/头像/半身像都有默认位置可配；若出现特殊情况，策划仍可配置坐标
    - 可配置2个选项；根据选项配置跳转不同对话或对话组

交互：

    - 对话组内多行指令，则点击文本框和其他空白处，切换下一句对白或结束当前对话
    - 对话组内单行指令，则等待3秒自动关闭

触发条件：

    - 配置{建筑id}升至{1}级

## 4.场景气泡（功能可以直接验收）
### ![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740626239767-f5bbe0c0-1574-47ba-9bbb-d50fb7e9988f.png)
![](https://cdn.nlark.com/yuque/0/2025/png/53684139/1740660937686-1d487e6f-6e50-41a7-a52a-3363eee8e695.png)



## 5.PV/CG接入
1. <font style="color:rgb(38, 38, 38);">表现形式：CG/PV</font>
2. <font style="color:rgb(38, 38, 38);">可由其他表型形式触发此类型</font>
3. <font style="color:rgb(38, 38, 38);">详细演出形式：</font>
+ 动画短片，配合字母音效

![](https://cdn.nlark.com/yuque/0/2025/png/45603655/1740972886141-76cb8a2d-7c95-4bb8-bf9e-541de41b7254.png)



## 5.剧情配置表Dialogue
[Dialogue.xlsm](https://snh48group.yuque.com/attachments/yuque/0/2025/xlsm/53684139/1740660032591-397302e5-49c1-401a-837e-8b9449a7ff41.xlsm)

# 二 主线剧情相关规则
## 1.解锁规则
    - 每开启新城市，自动播放每章第一关剧情
    - 每次玩家走入机会/命运格子后，播放已解锁的剧情关

## 2.表现方式
    - 由 AB对话 和 滚动对话 组成

## 3.配置表DialogueChapter
| **<font style="color:#ffffff;">id</font>** | | **<font style="color:#ffffff;">chapter_id</font>** | **<font style="color:#FFFFFF;">level_name</font>** | **<font style="color:#ffffff;">level_id</font>** | **<font style="color:#ffffff;">unlock_id</font>** | **<font style="color:#ffffff;">dialogue_id</font>** |
| --- | --- | --- | --- | --- | --- | --- |
| | 备注<br/> | | | | | |
| **<font style="color:#ffffff;">Normal</font>** | | **<font style="color:#ffffff;">Table</font>** | **<font style="color:#ffffff;">Lang</font>** | **<font style="color:#ffffff;">Table</font>** | **<font style="color:#ffffff;">Table</font>** | **<font style="color:#ffffff;">Table</font>** |
| <font style="color:#000000;">唯一id列</font> | | <font style="color:#000000;">章节id（是不是调用城市地图id？）</font> | <font style="color:#000000;">关卡名</font> | <font style="color:#000000;">关卡id</font> | <font style="color:#000000;">解锁后置关卡id</font> | <font style="color:#000000;">调用Dialogue id</font> |
| 1 | | <font style="color:#000000;">1</font> | <font style="color:#000000;">打怪兽</font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">2</font> | <font style="color:#000000;">对话组id</font> |
| 2 | | <font style="color:#000000;">1</font> | <font style="color:#000000;"></font> | <font style="color:#000000;">2</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">对话组id</font> |
| 3 | | <font style="color:#000000;">2</font> | <font style="color:#000000;"></font> | <font style="color:#000000;">1</font> | <font style="color:#000000;">2</font> | <font style="color:#000000;">对话组id</font> |
| 4 | | <font style="color:#000000;">2</font> | <font style="color:#000000;"></font> | <font style="color:#000000;">2</font> | <font style="color:#000000;">0</font> | <font style="color:#000000;">对话组id</font> |




# 
